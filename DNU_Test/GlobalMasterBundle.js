function getIsSingleBets(){if(document.getElementById("isSingleBetsVar")==null||document.getElementById("isSingleBetsVar")==undefined)return $("#initialBetTypeValue").val()=="true"||$("#initialBetTypeValue").val()=="True";var n=$("#isSingleBetsVar").val();return n==="True"}function checkBetSlipDefaults(){isMobileScreen()?$("#back-to-bets-button-group").show():$("#back-to-bets-button-group").hide();var n=0;n=document.getElementById("betslip-list")!=null?document.getElementById("betslip-list").getElementsByTagName("li").length-1:parseFloat($(".betslipCountBadgeCount").length>1?$(".betslipCountBadgeCount").first().text():$(".betslipCountBadgeCount").text());n>0?toggleBetTypeLabelText(n,getIsSingleBets(),getHasFreeBets(),getIsInstantBets(),parseFloat($("#MaximumPayout").val())):toggleBetTypeLabelText(0,getIsSingleBets(),getHasFreeBets(),getIsInstantBets(),parseFloat($("#MaximumPayout").val()));$("#sb_id, #mb_id").on("click",function(){$(".betslipTypeSelection label").removeClass("active");$("#sb_id, #mb_id").removeClass("liveInPlayClr");$(".stake-input").attr("onclick","this.select();");var n=window.location.pathname,t=$(this).find("input[type=radio]").val()==="True";pat.post("/Bet/UpdateBetTypeJSON",{isSingleBets:t}).done(function(t){var r,i,u;if(isDeviceOperaMini()&&window.location.reload(),t!==undefined&&t!==!0&&t.HasErrors!==undefined&&t.HasErrors!==null&&t.HasErrors===!0)for($("#betslip-single-multi-error").text(t.ErrorMessage),r=document.getElementsByName("IsSingleBets"),i=0;i<r.length;i++)r[i].type==="radio"&&(r[i].value==="True"||r[i].value==="true"?(r[i].checked=!0,r[i].parentNode.classList.add("active")):(r[i].checked=!1,r[i].parentNode.classList.remove("active")));else $("#MaximumPayout").val(parseFloat(t.maxPayout).toFixed(2)),$("#isSingleBetsVar").val(t.isSingleBets?"True":"False"),u=document.getElementById("betslip-list").getElementsByTagName("li").length-1,toggleBetTypeLabelText(u,t.isSingleBets,getHasFreeBets(),getIsInstantBets(),parseFloat(t.maxPayout));n.toLowerCase()==="/event/inplay"||n.toLowerCase()==="/event/livesport"||n.toLowerCase()==="/bet/eventmultimarket"&&$("#multi-head").hasClass("inPlayBg")?$("#sb_id.active, #mb_id.active, #placeFreeBet, #removeAllOutcomesBtn").addClass("liveInPlayClr"):($(this).removeClass("liveInPlayClr"),$(this).addClass("active"))})})}function switchBetOption(n){$(".betslipTypeSelection label").removeClass("active");$(n).addClass("active");var t=$(n).find("input[type=radio]").val()==="True";showOverlay();pat.post("/Bet/UpdateBetTypeJSON",{isSingleBets:t}).done(function(t){var r,i,u;if(isDeviceOperaMini()){if(t!==undefined&&t!==!0&&t.HasErrors!==undefined&&t.HasErrors!==null&&t.HasErrors===!0){$(".betslipTypeSelection label").addClass("active");$(n).removeClass("active");$("#betslip-single-multi-error").text(t.ErrorMessage);closeOverlay();return}window.location.reload()}if(closeOverlay(),t!==undefined&&t!==!0&&t.HasErrors!==undefined&&t.HasErrors!==null&&t.HasErrors===!0)for($("#betslip-single-multi-error").text(t.ErrorMessage),r=document.getElementsByName("IsSingleBets"),i=0;i<r.length;i++)r[i].type==="radio"&&(r[i].value==="True"||r[i].value==="true"?(r[i].checked=!0,r[i].parentNode.classList.add("active")):(r[i].checked=!1,r[i].parentNode.classList.remove("active")));else $("#isSingleBetsVar").val(t.isSingleBets?"True":"False"),u=document.getElementById("betslip-list").getElementsByTagName("li").length-1,toggleBetTypeLabelText(u,t.isSingleBets,getHasFreeBets(),getIsInstantBets(),parseFloat(t.maxPayout))})}function onBetRemoveClick(n,t){if(n.preventDefault(),t){var i="#"+t;showOverlay();pat.post("/Bet/RemoveOutcomeJSON",{outcomeId:t},{dataType:"html"}).done(function(n){var s,r,f,u,e,o,h;useGoogleAnalytics&&(s=_.findWhere(addedToBetSlip,{dimension16:t}).dimension15,gax.RemoveFromBetSlip({id:n.BetslipId,detail:s,category:n.CouponId,sport:"",league:"",betType:"",gameId:"",outcome:t,odds:""}));isDeviceOperaMini()&&window.location.reload();r=$(i+".isSelected, "+i+".isSelectedInPlay");r.is("option")?(r.removeClass("isSelected"),r.removeClass("isSelectedInPlay"),f=r.parent().find("option.isSelected"),u=r.parent().find("option.isSelectedInPlay"),f==null&&u==null||f.length==0&&u.length==0||u==undefined&&u==undefined?(r.parent().removeClass("isSelected"),r.parent().removeClass("isSelectedInPlay"),r.parent().val("EMPTY"),r.parent().removeClass("isSelectedInPlay")):f?(e=f[0],r.parent().val(e.id)):(e=u[0],r.parent().val(e.id))):(r.removeClass("isSelected"),r.removeClass("isSelectedInPlay"));o=JSON.parse(n).Outcomes.length;$("#right").is(":visible")||($("#mobileBetslipCount").length>0?$("#mobileBetslipCount").text(o):$("#betslipCountBadge").length>0&&$(".betslipCountBadgeCount").text(o));closeOverlay();screen.width>=1024?AddBetItemClientSide(n):mobileBetSlipButtonClick();h=JSON.parse(n).IsSingleBets;toggleBetTypeLabelText(o,h,getHasFreeBets(),getIsInstantBets(),parseFloat($("#MaximumPayout").val()))});applyLiveInPlayColourScheme()}}function getHasFreeBets(){return $("#hasFreeBetsVar").val()=="True"}function getFreeBetValue(){if(!getHasFreeBets())return 0;var n=$("#freebetBtn").text().replace("Free Bet: ","");return parseFloat(n)}function getIsInstantBets(){return $("#isInstantBetsVar").val()=="True"}function onRemoveLiveInPlayBet(n,t){pat.post("/Bet/RemoveLiveInPlayOutcome",{liveInPlayParameterType:n,fieldId:t},{dataType:"html"}).done(function(n){if($("#right").is(":visible"))$("#right").html(""),$("#right").html(n);else{$("#mobileBetslipContainer").html("");$("#mobileBetslipContainer").html(n);var t=JSON.parse(n).Outcomes.length;$("#mobileBetslipCount").length>0?$("#mobileBetslipCount").text(t):$("#betslipCountBadge").length>0&&$(".betslipCountBadgeCount").text(t)}})}function updateOutcomeBetslipPriceDecimal(n,t){pat.post("/Bet/UpdateOutcomeBetslipPriceDecimal",{outcomeId:n,priceDecimal:t},{dataType:"html"}).done(function(n){if($("#right").is(":visible"))$("#right").html(""),$("#right").html(n);else{$("#mobileBetslipContainer").html("");$("#mobileBetslipContainer").html(n);var t=JSON.parse(n).Outcomes.length;$("#mobileBetslipCount").length>0?$("#mobileBetslipCount").text(t):$("#betslipCountBadge").length>0&&$(".betslipCountBadgeCount").text(t)}})}function onResetBetslip(n){n.toUpperCase()==="TRUE"&&pat.get("/Bet/_BetslipGet",null,{dataType:"html"}).done(function(n){$("#right").is(":visible")?($("#right").html(""),$("#right").html(n),$(".isSelected").removeClass("isSelected"),$(".isSelectedInPlay").removeClass("isSelectedInPlay")):($("#mobileBetslipContainer").html(""),$("#mobileBetslipContainer").html(n),$(".isSelected").removeClass("isSelected"),$(".isSelectedInPlay").removeClass("isSelectedInPlay"))})}function setFreeBetslipWagers(n){$("#WagerAmount").focus();$("#potentialWager").val(parseFloat(n).toFixed(2));$("#WagerAmount").val(parseFloat(n).toFixed(2));setBetslipPotentialReturn()}function onPlaceCashBet(n,t,i){n.preventDefault();GetBetConfirmationModal(t,i)}function onPlaceFreeBet(n,t,i,r){setFreeBetslipWagers(i);useGoogleAnalytics&&gax.UpdateAllFreeBet("true");n.preventDefault();GetBetConfirmationModal(t,r)}function onCancelBet(){event.preventDefault();showOverlay();var n=window.parent.location.pathname;pat.get("/Bet/_BetCancel",null,{dataType:"html"}).done(function(t){$("#right").is(":visible")?($("#right").html(""),$("#right").html(t)):($("#mobileBetslipContainer").html(""),$("#mobileBetslipContainer").html(t));closeOverlay();ApplyServerColour(getServerColour(n))})}function clearBetslip(){showOverlay();pat.post("/Bet/ClearBetslip",null,{dataType:"html"}).done(function(n){$("#right").is(":visible")?($("#right").html(""),$("#right").html(n),$(".isSelected").removeClass("isSelected")):($("#mobileBetslipContainer").html(""),$("#mobileBetslipContainer").html(n),$(".isSelected").removeClass("isSelected"),window.location="/",$("#mobileBetslipCount").length>0?$("#mobileBetslipCount").html(0):$("#betslipCountBadge").length>0&&$(".betslipCountBadgeCount").html(0));location.reload()})}function GetBetConfirmationModal(n,t){var r,l,o,s,i,h,c,u;showOverlay();r=[];try{r=screen.width>=1024?$(".desktopBetslipDiv").find(".stake-input").map(function(){var n=$(this).val();return parseFloat(n)}).get():$(".modal-content").find(".stake-input").map(function(){var n=$(this).val();return parseFloat(n)}).get();l=parseFloat($("#potentialWager").val());t.WagerAmount=l;var e=getIsSingleBets(),a=getHasFreeBets(),f=getBsCheckboxValues();if(f!=undefined&&f!=null&&e&&a)for(i=0;i<f.length;i++){o=!1;s=f[i];for(u in t)if(t[u].name==="Outcomes["+i+"].IsSingleFreeBet"){t[u].value=s;o=!0;break}o||t.push({name:"Outcomes["+i+"].IsSingleFreeBet",value:s})}if(useGoogleAnalytics!="true"||e||typeof t!="object"||_.findWhere(t,{name:"IsFreeBet"}).value.toLowerCase()!=="false"||gax.UpdateAllFreeBet("false"),r!=undefined&&r!=null&&e)for(i=0;i<r.length;i++){h=!1;c=r[i];for(u in t)if(t[u].name==="Outcomes["+i+"].OutcomeStake"){t[u].value=c;h=!0;break}h||t.push({name:"Outcomes["+i+"].OutcomeStake",value:c})}pat.post(n,t,{dataType:"html"}).done(function(n){$("#betslip-mobile-modal").modal("hide");$("#modal-container-bet-confirmation").html(n);$("#modal-container-bet-confirmation").modal("show").find(".modal-body").css({"-webkit-transform":"translate(-50%, -50%)",padding:"15px"});useGoogleAnalytics&&gax.PlaceBet();applyLiveInPlayColourScheme();closeOverlay()})}catch(v){return}}function finalBetConfirmationModalClick(n,t,i,r,u){u&&(console.log("Accepting new odds"),t=t+"?NewOddsAccepted=true");pat.post(t,i).done(function(n){$("#modal-container-bet-confirmation").html(n).find(".modal-body").css({"-webkit-transform":"translate(-50%, -50%)",padding:"15px"});$("#modal-container-bet-confirmation").on("hidden.bs.modal",function(){$("html").removeClass("modal-open")});if(r&&$("#modal-container-bet-confirmation").modal(),applyLiveInPlayColourScheme(),useGoogleAnalytics=="true"&&n.toLowerCase().indexOf("bet failed")<0&&gax.ConfirmBet(),RefreshCashBalance(),closeOverlay(),anchorToTop(),$("#footerMobile").is(":visible")&&$("#modal-container-bet-confirmation").find(".error-message").length===0){$("#mobileBetslipCount").html("(0)");$("#mobileBetslipCount").length>0?$("#mobileBetslipCount").html("(0)"):$("#betslipCountBadge").length>0&&$(".betslipCountBadgeCount").html("0");$("#modal-container-bet-confirmation").on("hide.bs.modal",function(){window.location="/"})}})}function onBetConfirmationModalClick(n,t,i,r,u){if(showOverlay(),u==null&&(u=!1),$("#singleBets-reoffer-div").length>0){var f=$("#reofferUl li input.reofferCbx"),e=[];for(k=0;k<f.length;k++)f[k].checked&&e.push(f[k].id);pat.post("/Bet/UpdateSelectedReoffers",{selectedReoffers:e}).done(function(){finalBetConfirmationModalClick(n,t,i,r)})}else finalBetConfirmationModalClick(n,t,i,r,u)}function allowScroll(){$("html").removeClass("modal-open")}function onInstantBetClickOpera(n,t,i){n.preventDefault();showOverlay();pat.post(t,i).done(function(n){RefreshCashBalance();$("#main").html("");$("#main").html(n);closeOverlay()})}function setBetslipPotentialReturn(){var u=$("#potentialWager").val(),t,i,n,r;$("#WagerAmount").val(parseFloat($("#potentialWager").val()).toFixed(2));t=0;$("#betslip-totalpricedecimal")[0]!==null&&(t=$("#betslip-totalpricedecimal")[0].innerText);i=$("#MaximumPayout").val();n=0;$.isNumeric(u)&&(n=u*t,n>i&&(n=i),r=parseFloat(n).toFixed(2),$("#PotentialReturnAmount").val(r),$("#potentialReturn").val(r))}function fittext(){var o=11,i=227,s=20,h=15,r=document.getElementsByClassName("fitin"),u=document.getElementsByClassName("fitin"),t=document.createElement("span"),n,f,e;for(t.style.fontSize=h+"px",n=0;n<u.length;n++){t.innerHTML=u[n].innerHTML;document.body.appendChild(t);f=t.offsetWidth;e=t.offsetHeight;document.body.removeChild(t);var c=f>i?i/f:1,l=e>s?s/e:1,a=Math.min(c,l)*h;r[n].parentElement.parentElement.parentElement.offsetWidth<i?(r[n].style.fontSize=o-.5+"px",r[n].parentElement.parentElement.parentElement.offsetWidth<i-60&&(r[n].style.fontSize=o-2+"px")):u[n].style.fontSize=a-.11+"px"}}function AddBetItemClientSide(n){var s,r,u,t,i,o,f,e,h;if(n.Outcomes==null&&(n=JSON.parse(n)),s=$("#betslip-single-multi-error").text()!=null&&$("#betslip-single-multi-error").text()!="",r=document.getElementById("betslip-list"),r!=null)if(r.innerHTML="",$("#MinBetAmount").val(n.MinBetAmount),$("#MaximumPayout").val(n.MaximumPayout),$("#DefaultBetAmount").val(n.DefaultBetAmount),$("#CouponId").val(n.CouponId),$("#IsFreeBet").val(n.IsFreeBet),$("#FreeBetBalance").val(n.FreeBetBalance),$("#PotentialReturnAmount").val(n.PotentialReturnAmount),n.Outcomes!=null&&n.Outcomes.length>0){for(u=0;u<n.Outcomes.length;u++)t=n.Outcomes[u],i=document.createElement("li"),i.className="SelectedOutcomeForBetslip",i.setAttribute("selectionEventId",t.EventId),i.setAttribute("betSlipOutcomeId",t.OutcomeId),t.MarketTypeCategoryId=="00000000-0000-0000-da7a-000000580003"&&i.setAttribute("data-lip-betslip",t.OutcomeId),o=document.createElement("DIV"),o.className="container-fluid betslip-box item",f=document.createElement("DIV"),f.className="row",f.appendChild(GenerateRemoveDiv(t.OutcomeId)),e=document.createElement("DIV"),e.className=bootstrapColumns(11),e.appendChild(GenerateBetslipSportRow(t.EventTitle,t.OutcomeId,t.OutcomeTitle,t.MarketTitle,t.MarketTypeCategoryId,u,t.PriceDecimal,t.OutcomeStake,n.IsSingleBets,!t.IsActive,t.IsSingleFreeBet,t.AppendSpecialBetValueToTitle,t.SpecialBetValue)),h=$("#currencySymbol").val(),e.appendChild(GenerateSingleBetsPotentialReturnRow(t.OutcomeStake,t.PriceDecimal,h,n.IsSingleBets,n.MaximumPayout)),f.appendChild(e),o.appendChild(f),i.appendChild(o),r.appendChild(i);s&&ToggleBetTypeSwitchError(n.Outcomes);$(".stake-input").attr("onclick","this.select();");$(".stake-input").attr("onchange","SendOutcomeUpdate(this.value, $(this).closest('.SelectedOutcomeForBetslip')[0].attributes['betslipoutcomeid'].nodeValue)");$(".bs-checkbox").bsCheckbox();n.IsSingleBets&&getHasFreeBets()?($(".freeSinglebetsContainer").css({visibility:"visible"}),$(".stake-return-row").show()):($(".freeSinglebetsContainer").css({visibility:"hidden"}),$(".stake-return-row").hide());SetSingleBetsStake(n.Outcomes);assignStakeEvents();document.getElementById("betslip-removeall")==null&&n.Outcomes.length>0&&r.appendChild(GenerateRemoveAllButton());n.Outcomes.length>0&&setFooterWithControls();setBetslipPotentialReturn();applyLiveInPlayColourScheme()}else setFooterEmptyBetslip();ApplyServerColour(currentPageColour);fittext();n.AllowInstantBet==!0&&n.IsSingleBets==!1?$("#placeCashBet").text("Instant bet @ "+n.TotalPriceDecimal):$("#placeCashBet").text("Bet Now");screen.width<1025&&$("#betslip-mobile-modal").modal("hide")}function ToggleBetTypeSwitchError(n){for(var r,i=!1,t=0;t<n.length;t++)if(r=n[t],$("li.SelectedOutcomeForBetslip[selectioneventid="+r.EventId+"]").length>1){i=!0;break}!i&&document.getElementById("betslip-single-multi-error")&&(document.getElementById("betslip-single-multi-error").innerText="")}function GenerateRemoveDiv(n){var i=document.createElement("DIV"),t,r;return i.style.cssFloat="left",i.style.width="4%",t=document.createElement("BUTTON"),t.className="button-remove theOtherFont",t.addEventListener("click",function(t){onBetRemoveClick(t,n)}),t.setAttribute("type","button"),r=document.createElement("DIV"),r.innerHTML='<img src="/Images/Shared/other/cbi.svg" />',t.appendChild(r),i.appendChild(t),i}function GenerateBetslipSportRow(n,t,i,r,u,f,e,o,s,h,c,l,a){var p=document.createElement("DIV"),w,v,y;return p.className="row",w=u=="00000000-0000-0000-da7a-000000580003",v=document.createElement("DIV"),v.className=bootstrapColumns(7),v.appendChild(GenerateOutcomeRow(i,l,a)),v.appendChild(GenerateMarketTitle(r)),v.appendChild(GenerateBetslipEventTitleRow(w,n,h)),y=document.createElement("DIV"),y.className=bootstrapColumns(4),y.appendChild(GenerateFreebetAndOddsRow(t,e,s,f,w,c)),y.appendChild(GenerateSingleBetStakeRow(o,s,f)),p.appendChild(v),p.appendChild(y),p}function GenerateFreebetAndOddsRow(n,t,i,r,u,f){var c=document.createElement("DIV"),o,l,s,a,h,e;c.className="row";o=document.createElement("div");o.className=bootstrapColumns(7)+" freeSinglebetsContainer";var v=document.createElement("span"),y=getHasFreeBets()&&i;return v.innerText="Free Bet ",o.appendChild(v),l=document.createElement("span"),l.className="bs-checkbox",s=document.createElement("input"),s.type="checkbox",s.id="usefreebet"+r.toString(),s.className="chk-free-bet",s.checked=f,l.appendChild(s),o.appendChild(l),y||(o.style.visibility="hidden"),c.appendChild(o),a=t.toFixed(2),h=document.createElement("div"),h.className=bootstrapColumns(5),h.style.cssText+="padding:0; width:30%",e=document.createElement("div"),e.className="bg-alt theOtherFont betslipPriceDecimal",e.style.padding="0px",e.innerText=a,u&&(e.setAttribute("data-lip-value",n),e.setAttribute("data-lip-pricedecimal",a)),h.appendChild(e),c.appendChild(h),c}function GenerateSingleBetStakeRow(n,t,i){var u=document.createElement("div"),r;return u.className="row",r=document.createElement("input"),r.type="number",r.className="stake-input text-box single-line",r.id="stake"+i.toString(),r.style.display=t?"block":"none",r.placeholder="Stake",r.step="0.01",r.innerText=n.toFixed(2),r.align="right",u.appendChild(r),u}function GenerateSingleBetsPotentialReturnRow(n,t,i,r,u){var e=document.createElement("div"),o,f,s;return e.className="row",e.align="right",e.style.textAlign="right",o=document.createElement("div"),o.className=bootstrapColumns(12),f=document.createElement("span"),s=(n*t).toFixed(2),s>u&&(s=u),f.className="stake-return",f.style.display=r?"block":"none",f.innerHTML='Potential Return :<strong class="stake-return-currency">'+i+"<\/strong>",f.innerHTML+='<strong class="stake-return-amount">'+s+"<\/strong>",o.appendChild(f),e.appendChild(o),e}function setFooterWithControls(){$("#divBetslipEmpty").hide();$("#divBetslipCenterNotEmpty").show().css("display","block");$("#divPotentialReturn").show().css("display","block");$("#divPotentialWager").show().css("display","block");$("#divApplicableLimits").show().css("display","block");$(".divBetslipEmpty").hide();$(".divBetslipCenterNotEmpty").show();getIsSingleBets()||($(".divPotentialReturn").show(),$(".divPotentialWager").show(),$(".placeFreeBet").show(),$(".freebet-button-container").show(),$(".divApplicableLimits").show())}function setFooterEmptyBetslip(){$("#divBetslipEmpty").show();$("#divBetslipCenterNotEmpty").hide();$("#divPotentialReturn").hide();$("#divPotentialWager").hide();$("#divApplicableLimits").hide();$(".divBetslipEmpty").show();$(".divBetslipCenterNotEmpty").hide();$(".divPotentialReturn").hide();$(".divPotentialWager").hide();$(".divApplicableLimits").hide();$(".freebet-button-container").hide()}function GenerateRemoveAllButton(){var i=document.createElement("LI"),t,r,u,f,n,e;return i.id="betslip-removeall",i.className="oddsAndRemoveAll",t=document.createElement("SPAN"),t.className="item item-noborder oddsAndRemoveAll-padding",r=document.createElement("SPAN"),r.className="item-right",u=document.createElement("LABEL"),u.className="h5",u.innerHTML="<b>Total Odds:<span id='betslip-totalpricedecimal'>"+getTotalPriceDecimalFromBetslip().toFixed(2)+"<\/span><\/b>",r.appendChild(u),t.appendChild(r),f=document.createElement("SPAN"),f.className="item-left",n=document.createElement("BUTTON"),n.addEventListener("click",function(){showOverlay();useGoogleAnalytics&&gax.RemoveAllFromBetslip();window.location.href="/Bet/RemoveAllOutcomes"}),n.setAttribute("id","removeAllOutcomesBtn"),n.setAttribute("type","button"),e=document.createElement("DIV"),e.innerHTML="Remove All",n.appendChild(e),window.location.pathname.toLowerCase()==="/event/inplay"||window.location.pathname.toLowerCase()==="/event/livesport"||window.location.pathname.toLowerCase()==="/bet/eventmultimarket"&&$("#multi-head").hasClass("inPlayBg")?(n.className="btn btn-default btn-action theOtherFont colour liveInPlayClr",n.style.cssText="background-color: rgb(172, 194, 64); border-bottom-color: rgb(172, 194, 64);"):(n.className="btn btn-default btn-action theOtherFont colour",n.style.cssText="background-color: rgb(67, 149, 57); border-bottom-color: rgb(67, 149, 57);"),f.appendChild(n),t.appendChild(f),i.appendChild(t),i}function getTotalPriceDecimalFromBetslip(){var t=$(".betslipPriceDecimal"),i=getIsSingleBets(),n=1;return t.each(function(t,i){var r=$(i).text().trim();n*=r}),n}function GenerateOutcomeRow(n,t,i){var u=document.createElement("SPAN"),r,f;return u.className="row",r=document.createElement("LABEL"),r.className="theOtherFont outcomeRow-title",f=t?n+" "+i:n,r.innerText=f,u.appendChild(r),u}function CreatePotentialOutcomeHtmlForSingleBets(n,t,i){var o=$("#currencySymbol").val(),f=document.createElement("DIV"),r,u,e;return f.className=bootstrapColumns(4),f.style.padding="0",r=document.createElement("DIV"),r.className="row stake-return-row",r.style.display=i?"block":"none",r.style.alignContent="right",r.style.textAlign="right",u=document.createElement("SPAN"),u.style.alignContent="right",u.style.textAlign="right",u.className="stake-return",u.setAttribute("align","right"),e=parseFloat(n)*t,u.innerHTML='Potential Return : <strong class="stake-return-currency">'+o+'<\/strong> <strong class="stake-return-amount">'+e.toFixed(2)+"<\/strong>",r.appendChild(u),f.appendChild(r),f}function GenerateMarketTitle(n){var i=document.createElement("SPAN"),t;return i.className="row",t=document.createElement("LABEL"),t.className="theOtherFont",t.innerText=n,i.appendChild(t),i}function GenerateBetslipEventTitleRow(n,t,i){var f=document.createElement("SPAN"),r,u;return f.className="row",r=document.createElement("LABEL"),r.className=i?"theOtherFont red":"theOtherFont",r.innerText=t,n&&(u=document.createElement("LABEL"),u.style.cssText="color:#A6BB42; margin-bottom:0px !important",u.innerHTML="&nbsp;(Live)",r.appendChild(u)),f.appendChild(r),f}function bootstrapColumns(n){return"col-xs-"+n+" col-sm-"+n+" col-md-"+n+" col-lg-"+n+""}function hasSingleBetsCount(){var n=$("#sigleBetsCount").text();return n!==null&&n!==""&&n!==undefined}function hasMultipleBetsCount(){var n=$("#multipleBetsCount").text();return n!==null&&n!==""&&n!==undefined}function SetSingleBetsStake(n){var t,i,r;if(n!=null&&n!=undefined&&n.length!=0&&(t=document.getElementsByClassName("stake-input"),t!==null&&t!==undefined&&t.count!==0)){if(t.length<n.length)for(i=0;i<t.length;i++)t[i].value=n[i].OutcomeStake;else t.length>n.length;for(r=0;r<n.length;r++)t[r].value=n[r].OutcomeStake.toFixed(2)}}function assignStakeEvents(){$(".stake-input").keyup(function(){var n=$(this);(n.val()==0||n.val()=="0"||n.val()==0)&&n.val(null)});$(".stake-input").mouseup(function(){var n=$(this);(n.val()==0||n.val()=="0"||n.val()==0)&&n.val(null)});$(".stake-input").focusout(function(){var n=$(this),t=n.val();n.val()==null||n.val()==0||n.val()=="0"||n.val()==0?n.val(null):n.val(parseFloat(t).toFixed(2))});$(".stake-input").on("input",function(){var i=$(this).parentsUntil($("li.SelectedOutcomeForBetslip")).find(".stake-return-amount"),r=$(this).val(),u=$(this).parentsUntil($("li.SelectedOutcomeForBetslip")).find(".betslipPriceDecimal").text(),n=parseFloat(u)*parseFloat(r),t;isNaN(n)&&(n=0);t=parseFloat($("#MaximumPayout").val());n>t?i.text(t.toFixed(2)):i.text(n.toFixed(2))})}function toggleBetTypeLabelText(n,t,i,r,u){var s=getBetSlipCountBadgeValue(),h,f,e,o,c,l,a,v;if(isMobileScreen()&&n<=0&&n!=s&&(n=s),setFooterEmptyBetslip(),n<=0)$("#sigleBetsCount").text(""),$("#multipleBetsCount").text("");else if(setFooterWithControls(),getIsSingleBets()&&getHasFreeBets()?$(".freeSinglebetsContainer").css({visibility:"visible"}):$(".freeSinglebetsContainer").css({visibility:"hidden"}),t)for($(".stake-return").show(),$(".stake-input").show(),$(".sigleBetsCount").text("("+n+")"),$(".multipleBetsCount").text(""),$(".h5").css("visibility","hidden"),$("#placeCashBet").text("Bet Now"),$("#divPotentialWager").css("display","none"),$("#divPotentialReturn").css("display","none"),i&&$("#placeFreeBet").hide(),h=$("#betslip-list").find("li.SelectedOutcomeForBetslip"),f=0;f<h.length;f++)e=parseFloat($(".stake-return-amount")[f].innerHTML.replace(",","")),$(".stake-return-amount")[f].innerHTML=e>u?u.toFixed(2):e.toFixed(2);else $("#betslip-totalpricedecimal").length&&(o=parseFloat($("#potentialWager").val())*parseFloat($("#betslip-totalpricedecimal")[0].innerHTML),o>u?$("#potentialReturn").val(u.toFixed(2)):$("#potentialReturn").val(o.toFixed(2))),$(".stake-return").hide(),$(".stake-input").hide(),$(".multipleBetsCount").text("("+n+")"),$(".sigleBetsCount").text(""),$(".h5").css("visibility","visible"),$("#divPotentialWager").css("display","block"),$("#divPotentialReturn").css("display","block"),r?t?$("#placeCashBet").text("Bet Now"):(c=$("#betslip-totalpricedecimal").text(),$("#placeCashBet").text("Instant bet @ "+c)):$("#placeCashBet").text("Bet Now"),i&&(l=document.getElementById("placeFreeBet"),l==undefined?(a=$("#freebetBtn").text().replace("Free Bet: ",""),v="<div><span><button id=\"placeFreeBet\" value=\"Use My Free Bet\" class=\"btn btn-lg btn-action theFont\" onclick=\"$('#Action').val('Use My Free Bet');onPlaceFreeBet(event, '/Bet/ViewBetConfirmationDialog', '"+a+"', $('#PlaceBetSlip').serialize())\" name=\"action\">Use My Free Bet<\/button><\/span><\/div><br>",$("#divBetslipCenterNotEmpty").append(v)):$("#placeFreeBet").show())}function mobileBetSlipButtonClick(){showOverlay();pat.get("/Bet/Betslip",{datatype:"html"}).done(function(n){$("#betslip-modal-htmlContainer").html(n);var t=null,i=document.getElementById("BetslipBtn");t=screen.width>=768&&i!=null&&i!=undefined?i.getBoundingClientRect():document.getElementById("betslipBtn").getBoundingClientRect();$("#betslip-mobile-modal").css({left:t.right-parseFloat($("#betslip-mobile-modal").css("width").replace("px",""))});$("#betslip-mobile-modal .modal-dialog").css({top:t.bottom-parseFloat($("#betslip-mobile-modal .modal-dialog").css("margin-top").replace("px",""))});(screen.width<=768||window.innerWidth&&window.innerWidth<=768)&&($("#betslip-mobile-modal .modal-dialog").css({paddingLeft:"3%"}),$(".desktopBetslipDiv").remove());$("#betslip-mobile-modal").modal();$("#betslip-mobile-modal.modal-dialog").css("z-index",2);$("#mobileBetslipFooter").css("z-index",1);applyLiveInPlayColourScheme();$(".betslip-header").hide();$("html").addClass("modal-open");$(".stake-input").attr("onclick","this.select();");$("#betslip-mobile-modal").on("hidden.bs.modal",function(){$("#betslip-list li.SelectedOutcomeForBetslip").length>0&&SendWagerAmount();$(document).removeClass("modal-open");$("html").removeClass("modal-open");$("#mobileBetslipFooter").css("z-index",2)});closeOverlay()});setFooterWithControls()}function isDeviceOperaMini(){return document.getElementById("isOperaMini")?$("#isOperaMini").val()=="true":!1}function isMobileScreen(){return window.innerWidth<1025}function isCellPhone(){return window.innerWidth<425}function getBetSlipCountBadgeValue(){return isMobileScreen()?parseFloat($(".betslipCountBadgeCount").length>1?$(".betslipCountBadgeCount").eq(1).text():$(".betslipCountBadgeCount").text()):0}function SendOutcomeUpdate(n,t){var i={outcomeId:t,updatedStake:n};useGoogleAnalytics&&gax.UpdateBetAmount(t,parseFloat(n));pat.post("/Bet/UpdatePriceDecimal",i)}function operaMiniCheckBoxChecked(n,t,i,r){n.preventDefault();showOverlay();var u={outcomes:GetOutcomes(),outcomeId:i,isFreebetChecked:t.checked,freeBetAmount:r};pat.post("/Bet/UpdateOperaMiniSingleFreeBetJSON",u).done(function(){window.location.reload()})}function UpdateWagerAmount(){var n=parseFloat($("#potentialWager").val());pat.post("/Bet/UpdateWagerAmount",{wagerAmount:n})}function SendWagerAmount(){showOverlay();var n=parseFloat($("#potentialWager").val());pat.post("/Bet/UpdateWagerAmount",{wagerAmount:n}).done(function(t){var i=t.PotentialReturn;$("#potentialWager").val(n.toFixed(2));$("#potentialReturn").val(i.toFixed(2));runBetslipScript();closeOverlay()})}function BackToBetslipClickEvent(){pat.post("/Home/ResetBetslipNavigation",null);$(".desktopBetslipDiv").length==0&&mobileBetSlipButtonClick()}function GetOutcomes(){for(var t,r=[],i=$("#betslip-list").find("li.SelectedOutcomeForBetslip"),n=0;n<i.length;n++)t={},t.OutcomeStake=$(i[n]).find(".stake-input").val(),t.OutcomeId=$(i[n]).attr("outcomeIdAttr"),r.push(t);return r}function createOverlay(){var i,t,n,r,u;jQuery(".load-overlay").length>0&&(i=jQuery("body"),t=jQuery("<div />"),t.addClass("modal"),t.attr("id","modalloading"),n=jQuery("<div />"),n.addClass("loading loadingGif"),n.attr("align","center"),i.append(n),i.append(t),n=jQuery(".loading"),r=Math.max(jQuery(window).height()/2-n.height()/2,0),u=Math.max(jQuery(window).width()/2-n.width()/2,0),n.css({top:r,left:u}),jQuery(document).resize(function(){hasResized=!0}))}function getStackTrace(){var n;try{throw new Error("");}catch(t){n=t.stack||""}return n=n.split("\n").map(function(n){return n.trim()}),n.splice(n[0]=="Error"?2:1)}function TimeoutElapsed(){closeOverlay()}function showOverlay(){var n=jQuery(".loading"),t,i;jQuery("#modalloading").show();t=Math.max(jQuery(window).height()/2-n.height()/2,0);i=Math.max(jQuery(window).width()/2-n.width()/2,0);n.css({top:t,left:i});jQuery("#modalloading").show();n.show();window.setTimeout(TimeoutElapsed,3e4)}function closeOverlay(){jQuery(".loading").hide();jQuery("#modalloading").hide();liveUpdate()}function changeItemPlaceHolder(n,t){jQuery(n).val()=="South African ID"?(jQuery(t).attr("placeholder","ID Number"),jQuery(t).attr({type:"number",inputmode:"numeric",pattern:"[0-9]*"}),jQuery(t).val("")):(jQuery(t).removeAttr("inputmode"),jQuery(t).removeAttr("pattern"),jQuery(t).attr("type","text"),jQuery(t).attr("placeholder","Passport Number"),jQuery(t).val(""))}function updateSingleDisplay(n){for(var u,f=$(".stake-input"),e=$(".stake-input").parentsUntil($("li.SelectedOutcomeForBetslip")).find(".betslipPriceDecimal"),i=$("#betslip-list").find(".stake-return-amount"),r=parseFloat($("#MaximumPayout").val()),t=0;t<f.length;t++)u=parseFloat($(f[t]).val())*parseFloat($(e[t]).text()).toFixed(2),u>r?($(i[t]).val(r.toFixed(2)),$(i[t]).text(r.toFixed(2))):($(i[t]).val(u.toFixed(2)),$(i[t]).text(u.toFixed(2)));updatePotentialReturnConfirmation($("#sb_id").hasClass("active"),n,r)}function updatePotentialReturnConfirmation(n,t,i){var e,u,f,o;if(n){for(e=$("#betslip-list").find(".stake-return-amount"),u=0,f=0;f<e.length;f++)o=$(e[f]),u+=parseFloat(o.text());$("#PotentialReturnAmount").val(u.toFixed(2));$("#potentialReturnConfirm").val(u.toFixed(2));$("#PotentialReturnAmount").text(u.toFixed(2));$("#potentialReturnConfirm").text(u.toFixed(2));$("#potentialSingleReturnConfirm").val(u.toFixed(2));$("#potentialSingleReturnConfirm").text(u.toFixed(2))}else{var s=$("#betslip-list").find("#betslip-totalpricedecimal").text(),h=parseFloat($("#potentialWager").val()),r=0;r=t>0?t:s*h;r>i&&(r=i);$("#PotentialReturnAmount").val(r.toFixed(2));$("#potentialReturn").val(r.toFixed(2));$("#PotentialReturnAmount").text(r.toFixed(2));$("#potentialReturn").text(r.toFixed(2));$("#potentialReturnConfirm").val(r.toFixed(2));$("#potentialReturnConfirm").text(r.toFixed(2))}}function onAccountRedirectOptionClick(n,t){document.forms.namedItem(t).querySelectorAll("[name=SelectedPage]")[0].value=n;document.forms.namedItem(t).submit()}function onLoginClick(n){n.preventDefault();showOverlay();data=$("#modal-container-mobile-login").is(":visible")?{mobileNumber:$("#modal-container-mobile-login").find("#MobileNumber").val(),password:$("#modal-container-mobile-login").find("#Password").val(),dialingCode:$("#modal-container-mobile-login").find("#DialingCode").val()}:{mobileNumber:$("#MobileNumber").val(),password:$("#Password").val(),dialingCode:$("#DialingCode").val()};pat.post("/Account/Login",data).done(function(n){n.Error==!1?($("#modal-container-mobile-login").html(""),$("#inline-login-placeholder").html(""),n.RedirectUrl!=undefined&&n.RedirectUrl?window.location.href=n.RedirectUrl:location.reload()):($("#modal-container-mobile-login").html(n),$("#inline-login-placeholder").html(n));closeOverlay()})}function LoginModalFormDisplay(){pat.post("/Account/ViewModalLogin",null,{dataType:"html"}).done(function(n){$("#modal-container-mobile-login").html(n);$("#modal-container-mobile-login").modal()})}function GetJackpot(n,t){showOverlay();var i="/Home/GetJackpot?couponType="+n+"&couponName="+t;window.location.href=i}function RefreshCashBalance(){pat.get("/Account/_GetCashBalanceOnly").done(function(n){$("#cashAmount").is(":visible")?$("#cashAmount").html(n):$(".balance-label").length&&$(".balance-label-amount").html(n)})}function LoadSubMenuBar(n,t){if(n.indexOf("#")>-1){$(".triangle-down").removeClass("triangle-down");$("#triangle_"+n.substr(1).toLowerCase()).addClass("triangle-down");$(".triangle-down").length==0&&$("#triangle_matchbetting").addClass("triangle-down");$(".nav-middle-tab").hide();n=="#topgames"?($("#topGamesPlaceholder").show(),$("#subMenuDiv").hide()):($("#topGamesPlaceholder").hide(),$(n).show());(document.location.href.indexOf("InPlay")>-1||document.location.href.indexOf("LiveSport")>-1)&&inplayMiddleNav();var i=n.substr(1).toLowerCase();TabClick(i)}else t=="_self"||t==""?window.location=n:window.open(n,t);anchorToTop()}function ColourChange(n,t){t=="#"&&($(".colour").hide(),ApplyColour())}function inplayMiddleNav(){$(".mobileMiddleNav").css("background-color","#acc540");$(".mobileMiddleNavItem").css("color","#262626");$(".mobileMiddleNavItem a").css("color","#262626")}function Highlight(n,t,i){var r=i.split(" ").join("").toLowerCase(),u;$("#right").is(":visible")?$("#headerColour").css({color:"white"}):$("#headerColour").css({color:"#262626"});n=="over"&&$(".nav-link-item-"+r).hasClass("active")!==!0?typeof t!==undefined&&t!==null&&t!==""?($(".topSlit-"+r).css("background-color",t),$(".nav-link-item-"+r).css("background-color",hexToRGB(t,.5))):$(".topSlit-"+r).css("background-color","#439539"):n=="out"&&$(".nav-link-item-"+r).hasClass("active")!==!0?($(".topSlit-"+r).css("background-color","#333333"),$(".nav-link-item-"+r).css("background-color","#333333")):n=="clicked"&&(location.hash.indexOf("#")>-1?(u=getServerColour(location.hash),$(".nav-link-item").removeClass("active"),$(".topSlit").css("background-color","#333333"),$(".nav-link-item").css("background-color","#333333"),$(".nav-link-item-"+r).addClass("active"),typeof u!==undefined&&u!==null&&u!==""?($(".topSlit-"+r).css("background-color",u),$(".nav-link-item-"+r).css("background-color",hexToRGB(u,.4))):$(".topSlit-"+r).css("background-color","#439539 !important"),ApplyServerColour(u),changeTabColours(r,u),r=="highlights"||r=="sports"||r=="matchbetting"||r=="inplay"||r=="outrights"||r=="short_term_outrights"||r=="topgames"?(r=="inplay"||r=="livein-play"?$("#headerColour").css({color:"#262626"}):r!="inplay"&&r!="outrights"&&r!="short_term_outrights"?(r="prematchtab",$(".btnTextColour").css({color:"white"})):$(".btnTextColour").css({color:"white"}),$("#mSportDiv").fadeIn(),r=="outrights"||r=="short_term_outrights"?toggleShow(null,null,!0):toggleShow(null,"link-"+r,!1)):($("#mSportDiv").fadeOut(),$(".mobileEvents").fadeOut(),$(".btnTextColour").css({color:"white"}))):($(".nav-link-item").removeClass("active"),$(".topSlit").css("background-color","#333333"),$(".nav-link-item").css("background-color","#333333"),applyLiveInPlayColourScheme(),$(".nav-link-item-"+r).addClass("active"),typeof t!==undefined&&t!==null&&t!==""?($(".topSlit-"+r).css("background-color",t),$(".nav-link-item-"+r).css("background-color",hexToRGB(t,.4))):($(".nav-link-item-"+r).css("background-color","#333333"),$(".topSlit-"+r).css("background-color","#439539"))))}function liveUpdate(){setTimeout(function(){document.location.href.indexOf("Event/LiveSport/?sportConfigId")>-1&&(console.log("url found"),$(".nav-link-item-livein-play").css("background-color","rgb(172, 194, 64)"),$("#MyAccountBtn, #LogoutBtn, #country-title, #Login, #SignUp, .mSport.active, .mobileMiddleNav, #events-btn-next, .nav-link-item-livein-play > .topSlit, .betslip-header-left").css("background-color","rgb(172, 194, 64)"),$(".colour").css("background-color","rgb(172, 194, 64)"),$(".btnTextColour").css("color","#000"),$(".mSport").attr("onmouseover","this.style.background='rgb(172, 194, 64)';").attr("onmouseout","this.style.background='linear-gradient(to bottom, #e8e8e8 1%, #dcdcdc 100%)';"),$(".mSport.active").attr("onmouseout",""))},400)}function ApplyServerColour(n){if(location.hash.indexOf("#")>-1||n=="undefined"||n==null){var t=getServerColour(location.hash);$(".colour").css({"background-color":t,"border-bottom-color":t+" !important"});$(".textColour").css({color:t})}else location.pathname.toLowerCase().indexOf("inplay")>-1||location.pathname.toLowerCase().indexOf("loyalty")>-1?$(".btnTextColour").css({color:"#262626"}):$(".btnTextColour").css({color:"#ffffff"}),$(".colour").css({"background-color":n,"border-bottom-color":n}),$(".textColour").css({color:n})}function HoverColour(n,t){if(!$("#"+n).hasClass("active")){var i=getServerColour(location.pathname);t=="over"?($("#"+n).removeClass("mSportColour"),$("#"+n).css({"background-color":i})):t=="off"&&$("#"+n).addClass("mSportColour")}}function TabClick(n){console.log("clicking tab things with value "+n);var t=n.charAt(0).toUpperCase()+n.slice(1);document.getElementById(t)!==null&&typeof document.getElementById(t)!="undefined"?(document.getElementById("tab-"+t).click(),console.log("Great success")):n==="short_term_outrights"&&$("#sto_region").length<1?(showOverlay(),console.log("ST"),pat.get("/Event/ShortTermOutrightsOnly").done(function(n){$("#short_term_outrights").html(n);closeOverlay()})):console.log("No tab found with divId > "+t)}function SwitchToggleLinks(n){n=="hide"?$(".toggleLink").hide():n=="show"&&TabClick("#prematchtab")}function searchToggle(n){n==""&&(n=$("#webTabs").find(".active").data("markettypecategory"));ShiftFilterToActive(n)}function ShiftFilterToActive(n){var t;$("#mobileFilter").children('[data-markettypecategory="'+n+'"]').length==0?($("#mobileFilter").children("#filters").length>0&&(t=$("#mobileFilter").children("#filters").data("markettypecategory"),$("#mobileFilter").children("#filters").hide(),$("#mobileFilter").children("#filters2").hide(),$("#mobileFilter").children("#filters").attr("id","filters_"+t),$("#mobileFilter").children("#filters2").attr("id","filters2_"+t)),$("#mobileFilter").append($("#filters")),$("#mobileFilter").append($("#filters2"))):(t=$("#mobileFilter").children("#filters").data("markettypecategory"),$("#mobileFilter").children("#filters").hide(),$("#mobileFilter").children("#filters2").hide(),$("#mobileFilter").children("#filters").attr("id","filters_"+t),$("#mobileFilter").children("#filters2").attr("id","filters2_"+t),$("#mobileFilter").children("#filters_"+n).attr("id","filters"),$("#mobileFilter").children("#filters2_"+n).attr("id","filters2"),$("#mobileFilter").children("#filters").show(),$("#mobileFilter").children("#filters2").show());console.log("marketTypeCategoryId",n);n=="00000000-0000-0000-da7a-000000580003"?($(".mobileSearch").css("display","none"),$("#mobileFilter").fadeIn().css({display:"block",height:"48px"})):n==="00000000-0000-0000-da7a-000000580005"||n==="00000000-0000-0000-da7a-000000580006"||n==="00000000-0000-0000-da7a-000000580007"||n==="00000000-0000-0000-0000-000000000000"?($("#mobileFilter").css({display:"none",height:"0px"}),$(".mobileSearch").css("display","none"),$(".btn-countriesAndMarkets").css("display","none")):($(".mobileSearch").fadeIn(),$("#mobileFilter").css({display:"block",height:"48px"}),$(".btn-countriesAndMarkets").fadeIn());$("#filtersDiv").remove()}function changeTabColours(n,t){var r,i;if(document.getElementById("webTabs")!==null&&typeof document.getElementById("webTabs")!="undefined")for(r=document.getElementById("webTabs").childNodes,i=0;i<r.length;i++)r[i].nodeName.toLowerCase()=="li"&&(r[i].style.backgroundColor="#515151");$("#"+n.charAt(0).toUpperCase()+n.slice(1)).css("background-color",t+"!important")}function anchorToTop(){$("body:first").scrollTop(0);$("html, body").animate({scrollTop:0},"slow")}function anchorToId(n){var t=$(n);$("body:first").scrollTop(t.prop("scrollHeight")+65);$("html, body").animate({scrollTop:t.prop("scrollHeight")+65},"fast")}function FicaUploadFormDisplay(n){pat.post("/Account/SubmitFICADetails",null,{dataType:"html"}).done(function(t){typeof n!="undefined"&&n.toLowerCase()=="true"?($("#OperaminiModalHolderContent").html(t),$("#OperaminiModalHolderContent").find("#fica-modal,#fica-popup-modal").attr("id","").removeClass("modal"),$("html,body").removeClass("modal-open"),$("#main").css("margin-top","0px"),$("#OperaminiModalHolder").show(),$("#ficaModal").hide()):($("#modal-container-ficastatus-upload").html(t),$("#modal-container-ficastatus-upload").modal())})}function ficaButtonBack(){$("#OperaminiModalHolder").hide();$("#ficaModal").show()}function VerifyFicaDetails(){pat.get("/Account/VerifyFicaDetails").done(function(n){promptFICANotification=n.toLowerCase()==="true";showFICAStatusConfirmation()})}function DelayFicaNotification(n){typeof n!="undefined"&&n.toLowerCase()=="true"?window.location.href="/":pat.post("/Account/DelayFICANotification",null,{dataType:"html"}).done(function(){promptFICANotification=!1})}function showFICAStatusConfirmation(){promptFICANotification&&($("#modal-container-ficastatus-confirmation").modal(),$("#modal-container-ficastatus-confirmation").show())}function patExample(){pat.get("/Account/_SmsMessages").done(function(n){console.log("data",n)})}function hexToRGB(n,t){var i=parseInt(n.slice(1,3),16),r=parseInt(n.slice(3,5),16),u=parseInt(n.slice(5,7),16);return t?"rgba("+i+", "+r+", "+u+", "+t+")":"rgb("+i+", "+r+", "+u+")"}function LoadAjaxContent(n,t){var r,i;console.log("making ajax call to "+t);window.AjaxLoading=!1;r=document.getElementById(n.attributes["data-subsection"].nodeValue);r!=null&&window.AjaxLoading===!1&&(window.AjaxLoading=!0,i="#"+n.attributes["data-subsection"].nodeValue,$(i).load(t,function(){searchToggle("");var subSectionInitScript=$(i+"-loaded-script");subSectionInitScript.length>0&&eval(subSectionInitScript.text());window.AjaxLoading=!1}),$("#"+n.id).unbind("click.ajaxcontent"))}function applyLiveInPlayColourScheme(){var n=window.location.pathname;(n.toLowerCase()==="/event/inplay"||n.toLowerCase()==="/event/livesport"||n.toLowerCase()==="/bet/eventmultimarket"&&$("#multi-head").hasClass("inPlayBg"))&&($("#allcordion, .fica-btn, #updateLeagueFilterBtn, #depositBtn, #continueBettingBtn, .betslip-header, .betslip-header-left, .sr-scoreboard-head, .sr-lmts-collapse-bar, .bet-confirmation-header, #LoginModalPopUp, #LoginModalPopUpLink, #country-title, #Login, #SignUp, #liveNowHeader, #sb_id.active, #mb_id.active, #placeFreeBet, #removeAllOutcomesBtn, #events-btn-next, #btnReset, #closeLeagueFilterBtn, #showMoreLeagues, .close-button, .placeAnotherLink.btn, #btn-confirm, .back-to-bets.btn, #ConfirmBetslip.betslip-trapezoid, #showLessLeagues, #expand-Acc, #colapse-Acc, .sr-scoreboard-head, .sr-lmts-collapse-bar, .betslip-trapezoid, #placeCashBet, #removeAllOutcomesBtn, #betslipBtn, #BetslipBtn, #placeFreeBet, .betConfirmBtns.btn, .mobileMiddleNav, #ficaStatusMessage.button, .sr-scoreboard-head-title-wrap").addClass("liveInPlayClr"),$(".lmt-container").css({"margin-bottom":"5%"}))}function toggleMultimarketAccordion(n,t){var r,i;n=="anchor"&&($("#accordion.widget-angle").hasClass("fa-angle-up")?$("#accordion.fa").removeClass("fa-angle-up").addClass("fa-angle-down"):$("#accordion.fa").removeClass("fa-angle-down").addClass("fa-angle-up"));t=="outrights"?(i=$(".accordionArrows"),$("#"+n).parent().parent().find(i).hasClass("fa-angle-down")?($("#"+n).parent().parent().find(i).removeClass("fa-angle-down").addClass("fa-angle-up"),$("#"+n).addClass("in")):($("#"+n).parent().parent().find(i).removeClass("fa-angle-up").addClass("fa-angle-down"),$("#"+n).removeClass("in"))):(r=$("#"+n.substring(18)).parent(),$("#"+n).hasClass("fa-angle-up")?$("#"+n).removeClass("fa-angle-up").addClass("fa-angle-down"):$("#"+n).removeClass("fa-angle-down").addClass("fa-angle-up"));setTimeout(function(){var n=!1;$(".acc-header123").each(function(t,i){(i.className.indexOf("collapsing")>-1||i.className.indexOf("in")>-1)&&(n=!0)});n?($("#expand-Acc").hide(),$("#colapse-Acc").show()):($("#colapse-Acc").hide(),$("#expand-Acc").show())},500)}function openAccordions(){$("#colapse-Acc").show();$("#expand-Acc").hide();$(".accordionArrows").removeClass("fa-angle-down").addClass("fa-angle-up");$(".acc-header123").addClass("in")}function closeAccordions(){$("#colapse-Acc").hide();$("#expand-Acc").show();$(".accordionArrows").removeClass("fa-angle-up").addClass("fa-angle-down");$(".acc-header123").removeClass("in").css("height","auto")}function setCookie(n,t,i){var r=new Date,u;r.setTime(r.getTime()+i*864e5);u="expires="+r.toUTCString();document.cookie=n+"="+t.replace(/"/g,"'")+";"+u+";path=/"}function getCookie(n){for(var t,r=n+"=",u=document.cookie.split(";"),i=0;i<u.length;i++){for(t=u[i];t.charAt(0)===" ";)t=t.substring(1);if(t.indexOf(r)===0)return t.substring(r.length,t.length).replace(/'/g,'"')}return""}function eraseCookie(n){setCookie(n,"",-1)}function OpenOverlay(n){console.log($("#overlayMessage_"+n).val());$("#slide_caption").html($("#overlayMessage_"+n).val());$("#modal-motd").modal()}function toggleFICAUploadActive(){var n=!1,t=document.getElementById("proofIdFile").innerHTML,i=document.getElementById("proofIdFileMobile").innerHTML;t!==""&&t!==noFileSelectedText?n=!0:"";i!==""&&i!==noFileSelectedText?n=!0:"";n&&proofIdMobileSize&&fileTypeValid?(document.getElementById("fica-submission-button-mobile").disabled=!1,document.getElementById("fileuploads").className="fica-subheading"):(document.getElementById("fica-submission-button-mobile").disabled=!0,document.getElementById("fileuploads").className="fica-subheading-disabled");n&&proofIdSize&&fileTypeValid?(document.getElementById("fica-submission-button").disabled=!1,document.getElementById("fileuploads").className="fica-subheading"):(document.getElementById("fica-submission-button").disabled=!0,document.getElementById("fileuploads").className="fica-subheading-disabled")}function setDisplay(n,t){var i=t.split("\\");t.length===0?document.getElementById(n).innerHTML=noFileSelectedText:i.length>0&&i.constructor===Array?(t=i[i.length-1],document.getElementById(n).innerHTML=t):"";toggleFICAUploadActive()}function showFICAPopup(){BindFileUploads();$("#fica-popup-modal").modal({backdrop:"static",keyboard:!1})}function submitFicaDetailsAsync(n,t){var u,r,i;event.preventDefault();r="";i="";i=n=="true"?$("#ficaProofMobile"):$("#ficaProof");r=i.attr("action");showOverlay();i.attr("enctype")=="multipart/form-data"?(u=new FormData(i.get(0)),contentType=!1,processData=!1):"";$.ajax({type:"POST",url:r,data:u,dataType:"html",contentType:contentType,processData:processData,success:function(n){t.toLowerCase()=="true"?window.location.href="/Account/MyAccount":($(".modal-backdrop.fade.in").remove(),$("#fica-modal-upload-items").html(n),$("#fica-modal-upload-items").hide(),$("#modal-container-ficauploadresult").show(),closeOverlay())},error:function(n,t,i){$("#subsection").innerHTML=i;$("#subsection").show();closeOverlay()}})}function showFicaComplete(){$("#modal-container-ficauploadresult").modal();$("#modal-container-ficauploadresult").show();$("#modal-container-ficastatus-upload").hide()}function submitFicaDetailsAsyncMobile(){var n,t,i;event.preventDefault();t=$("#ficaProofMobile").attr("action");showOverlay();$("#ficaProofMobile").attr("enctype")=="multipart/form-data"?(i=new FormData($("#ficaProofMobile")),n=new FormData($("#ficaProofMobile").get(0)),contentType=!1,processData=!1):"";$.ajax({type:"POST",url:t,data:n,dataType:"html",contentType:contentType,processData:processData,success:function(){$(".modal-backdrop.fade.in").remove();$("#modal-container-ficauploadresult").modal();$("#modal-container-ficauploadresult").show();$("#modal-container-ficastatus-upload").hide();closeOverlay()},error:function(n,t,i){$("subsection").innerHTML=i;$("#subsection").show();closeOverlay()}})}function clearFICAValidationError(n){if(n!==null){$("#"+n).remove();var t=$("#fica-errors ul li").length;t===0?($("#fica-errors div").removeClass("validation-summary-errors"),$("#fica-errors div").addClass("validation-summary-valid")):""}else $("#fica-errors").find("ul").find("li").remove(),$("#fica-errors div").removeClass("validation-summary-errors"),$("#fica-errors div").addClass("validation-summary-valid")}function setFICAValidationError(n,t){$("#fica-errors div").removeClass("validation-summary-valid");$("#fica-errors div").addClass("validation-summary-errors");$("#fica-errors").find("ul").append("<li id='"+t+"'>"+n+"<\/li>")}function BindFileUploads(){$("#proofId").bind("change",function(){validateUpload("proofId",this)});$("#proofIdMobile").bind("change",function(){validateUpload("proofIdMobile",this)})}function validateUpload(n,t){var f=document.getElementById(n),r,i,u;proofIdSize=!0;clearFICAValidationError("proof-of-id-error");clearFICAValidationError("file-type-error");t.files!==null&&t.files.length>0&&(r=t.files[0].size/1024,r>4096?(setFICAValidationError("The ID proof document is too large.","proof-of-id-error"),proofIdSize=!1):"",i=$(t).attr("accept").toLowerCase().split(","),u="."+t.files[0].name.split(".").pop(),i!=null&&i!=undefined&&i.includes(u)?fileTypeValid=!0:(fileTypeValid=!1,setFICAValidationError("The selected document format/file-type is not supported. Please see below for acceptable file types","file-type-error")));toggleFICAUploadActive()}function onLiveChatButtonClick(n,t){var i,r,u;switch(t){case"KE":i="kenya";break;case"UG":i="uganda";break;case"GH":i="ghana";break;default:i="kenya"}var e=screen.width,f=screen.height,o=e<=425;n?(r="https://chatv1.chatonline.io/chatclient/1/?skill=betway"+i+"&casinoid=0&referringurl=&brandcode=BW"+i[0]+"&accountreference=UNKNOWN&ismobile=true&languagecode=EN&isvip=false&email=&identifier=",u=window.open(r,"_blank"),u.focus()):o?(r="https://chatv1.chatonline.io/chatclient/1/?skill=betway"+i+"&casinoid=0&referringurl=&brandcode=BW"+i[0]+"&accountreference=UNKNOWN&ismobile=true&languagecode=EN&isvip=false&email=&identifier=",u=window.open(r,"_blank"),u.focus()):(f="400px",r="https://chatv1.chatonline.io/chatclient/1/?skill=betway"+i+"&casinoid=0&referringurl=&brandcode=BW"+i[0]+"&accountreference=UNKNOWN&ismobile=false&languagecode=EN&isvip=false&email=&identifier=",$("#chatFrame").css({height:f,width:"100%"}),$("#chatFrame").attr("src",r),maximiseChat(f))}function maximiseChat(n){$("#liveChatModal").show().animate({height:n},"slow")}function closeChat(){$("#liveChatModal").animate({height:0},"slow",function(){$("#liveChatModal").hide()})}function minimiseChat(){$("#liveChatModal").animate({height:65},"slow")}function performAction(){$("#liveChatModal").height()<75?screen.width<=425?maximiseChat("99%"):maximiseChat("400px"):minimiseChat()}function browserStorage(n){var u="LDS",t=function(n){try{var i=window[n],t="__storage_test__";return i.setItem(t,t),i.removeItem(t),!0}catch(r){return!1}},i={storeItem:function(n,t){localStorage.setItem(n,t)},getItem:function(n){return localStorage.getItem(n)},removeItem:function(n){localStorage.removeItem(n)},removeAllItems:function(){for(var n=0;n<localStorage.length;n++)localStorage.removeItem(localStorage.key(n))}},f=function(n,t){var i={},r=ReadCookie(n);return r?r[n]=t:i[n]=t,JSON.stringify(i)},r={storeItem:function(n,t){try{CreateCookie(u,f(n,t),365)}catch(i){console.log(i)}},getItem:function(n){var t="",i,r;try{i=ReadCookie(n);i&&(r=JSON.parse(i),r.hasOwnProperty(n)&&(t=r[n],t||(t="")))}catch(u){console.log(u)}return t},removeItem:function(n){var t,i,r;try{t=ReadCookie(n);t&&(i=JSON.parse(t),i.hasOwnProperty(n)&&(r=i[n],r&&(i[n]="")));CreateCookie(u,JSON.stringify(t),365)}catch(f){console.log(f)}},removeAllItems:function(){EraseCookie(u)}};return{storeItem:function(u,f){t("localStorage")?i.storeItem(u,f):n||r.storeItem(u,f)},getItem:function(u){return t("localStorage")?i.getItem(u):n?void 0:r.getItem(u)},removeItem:function(u){t("localStorage")?i.removeItem(u):n||r.removeItem(u)},removeAllItems:function(){t("localStorage")?i.removeAllItems():n||r.removeAllItems()}}}function ElizaBot(n){function c(){var n,u,r;for(t.quit=!1,t.mem=[],t.lastchoice=[],n=0;n<i.length;n++)for(t.lastchoice[n]=[],u=i[n][2],r=0;r<u.length;r++)t.lastchoice[n][r]=-1}function l(){var y={},p,f,v,n,d,c,s,l,o;if("object"==typeof h)for(o in h)y[o]="("+o+"|"+h[o].join("|")+")";"undefined"==typeof i.length&&(i=[["###",0,[["###",[]]]]]);for(var w=/@(\S+)/,b=/(\S)\s*\*\s*(\S)/,k=/\s+/g,a=0;a<i.length;a++)for(p=i[a][2],i[a][3]=a,o=0;o<p.length;o++){if(f=p[o],"$"==f[0].charAt(0)){for(v=1;" "==f[0].charAt[v];)v++;f[0]=f[0].substring(v);f[2]=!0}else f[2]=!1;for(n=w.exec(f[0]);n;)d=y[n[1]]?y[n[1]]:n[1],f[0]=f[0].substring(0,n.index)+d+f[0].substring(n.index+n[0].length),n=w.exec(f[0]);if(/^\s*\*\s*$/.test(f[0]))f[0]="\\s*(.*)\\s*";else{if(n=b.exec(f[0])){for(s="",c=f[0];n;)s+=c.substring(0,n.index+1),")"!=n[1]&&(s+="\\b"),s+="\\s*(.*)\\s*","("!=n[2]&&"\\"!=n[2]&&(s+="\\b"),s+=n[2],c=c.substring(n.index+n[0].length),n=b.exec(c);f[0]=s+c}(n=/^\s*\*\s*(\S)/.exec(f[0]))&&(s="\\s*(.*)\\s*",")"!=n[1]&&"\\"!=n[1]&&(s+="\\b"),f[0]=s+f[0].substring(n.index-1+n[0].length));(n=/(\S)\s*\*\s*$/.exec(f[0]))&&(s=f[0].substring(0,n.index+1),"("!=n[1]&&(s+="\\b"),f[0]=s+"\\s*(.*)\\s*")}f[0]=f[0].replace(k,"\\s+");k.lastIndex=0}if(i.sort(t._sortKeywords),t.pres={},t.posts={},r.length){for(l=[],o=0;o<r.length;o+=2)l.push(r[o]),t.pres[r[o]]=r[o+1];t.preExp=new RegExp("\\b("+l.join("|")+")\\b")}else t.preExp=/####/,t.pres["####"]="####";if(u.length){for(l=[],o=0;o<u.length;o+=2)l.push(u[o]),t.posts[u[o]]=u[o+1];t.postExp=new RegExp("\\b("+l.join("|")+")\\b")}else t.postExp=/####/,t.posts["####"]="####";"undefined"==typeof e.length&&(e=[]);t._dataParsed=!0}var t=this,o=["How do you do.  Please tell me your problem.","Please tell me what's been bothering you.","Is something troubling you ?"],s=["Goodbye.  It was nice talking to you.","Goodbye.  This was really a nice talk.","Goodbye.  I'm looking forward to our next session.","This was a good session, wasn't it -- but time is over now.   Goodbye.","Maybe we could discuss this moreover in our next session ?   Goodbye."],e=["bye","goodbye","done","exit","quit"],r=["dont","don't","cant","can't","wont","won't","recollect","remember","recall","remember","dreamt","dreamed","dreams","dream","maybe","perhaps","certainly","yes","machine","computer","machines","computer","computers","computer","were","was","you're","you are","i'm","i am","same","alike","identical","alike","equivalent","alike"],u=["am","are","your","my","me","you","myself","yourself","yourself","myself","i","you","you","I","my","your","i'm","you are"],h={be:["am","is","are","was"],belief:["feel","think","believe","wish"],cannot:["can't"],desire:["want","need"],everyone:["everybody","nobody","noone"],family:["mother","mom","father","dad","sister","brother","wife","children","child"],happy:["elated","glad","better"],sad:["unhappy","depressed","sick"]},i=[["xnone",0,[["*",["I'm not sure I understand you fully.","Please go on.","What does that suggest to you ?","Do you feel strongly about discussing such things ?","That is interesting.  Please continue.","Tell me more about that.","Does talking about this bother you ?"]]]],["sorry",0,[["*",["Please don't apologise.","Apologies are not necessary.","I've told you that apologies are not required.","It did not bother me.  Please continue."]]]],["apologise",0,[["*",["goto sorry"]]]],["remember",5,[["* i remember *",["Do you often think of (2) ?","Does thinking of (2) bring anything else to mind ?","What else do you recollect ?","Why do you remember (2) just now ?","What in the present situation reminds you of (2) ?","What is the connection between me and (2) ?","What else does (2) remind you of ?"]],["* do you remember *",["Did you think I would forget (2) ?","Why do you think I should recall (2) now ?","What about (2) ?","goto what","You mentioned (2) ?"]],["* you remember *",["How could I forget (2) ?","What about (2) should I remember ?","goto you"]]]],["forget",5,[["* i forget *",["Can you think of why you might forget (2) ?","Why can't you remember (2) ?","How often do you think of (2) ?","Does it bother you to forget that ?","Could it be a mental block ?","Are you generally forgetful ?","Do you think you are suppressing (2) ?"]],["* did you forget *",["Why do you ask ?","Are you sure you told me ?","Would it bother you if I forgot (2) ?","Why should I recall (2) just now ?","goto what","Tell me more about (2)."]]]],["if",3,[["* if *",["Do you think it's likely that (2) ?","Do you wish that (2) ?","What do you know about (2) ?","Really, if (2) ?","What would you do if (2) ?","But what are the chances that (2) ?","What does this speculation lead to ?"]]]],["dreamed",4,[["* i dreamed *",["Really, (2) ?","Have you ever fantasized (2) while you were awake ?","Have you ever dreamed (2) before ?","goto dream"]]]],["dream",3,[["*",["What does that dream suggest to you ?","Do you dream often ?","What persons appear in your dreams ?","Do you believe that dreams have something to do with your problem ?"]]]],["perhaps",0,[["*",["You don't seem quite certain.","Why the uncertain tone ?","Can't you be more positive ?","You aren't sure ?","Don't you know ?","How likely, would you estimate ?"]]]],["name",15,[["*",["I am not interested in names.","I've told you before, I don't care about names -- please continue."]]]],["deutsch",0,[["*",["goto xforeign","I told you before, I don't understand German."]]]],["francais",0,[["*",["goto xforeign","I told you before, I don't understand French."]]]],["italiano",0,[["*",["goto xforeign","I told you before, I don't understand Italian."]]]],["espanol",0,[["*",["goto xforeign","I told you before, I don't understand Spanish."]]]],["xforeign",0,[["*",["I speak only English."]]]],["hello",0,[["*",["How do you do.  Please state your problem.","Hi.  What seems to be your problem ?"]]]],["computer",50,[["*",["Do computers worry you ?","Why do you mention computers ?","What do you think machines have to do with your problem ?","Don't you think computers can help people ?","What about machines worries you ?","What do you think about machines ?","You don't think I am a computer program, do you ?"]]]],["am",0,[["* am i *",["Do you believe you are (2) ?","Would you want to be (2) ?","Do you wish I would tell you you are (2) ?","What would it mean if you were (2) ?","goto what"]],["* i am *",["goto i"]],["*",["Why do you say 'am' ?","I don't understand that."]]]],["are",0,[["* are you *",["Why are you interested in whether I am (2) or not ?","Would you prefer if I weren't (2) ?","Perhaps I am (2) in your fantasies.","Do you sometimes think I am (2) ?","goto what","Would it matter to you ?","What if I were (2) ?"]],["* you are *",["goto you"]],["* are *",["Did you think they might not be (2) ?","Would you like it if they were not (2) ?","What if they were not (2) ?","Are they always (2) ?","Possibly they are (2).","Are you positive they are (2) ?"]]]],["your",0,[["* your *",["Why are you concerned over my (2) ?","What about your own (2) ?","Are you worried about someone else's (2) ?","Really, my (2) ?","What makes you think of my (2) ?","Do you want my (2) ?"]]]],["was",2,[["* was i *",["What if you were (2) ?","Do you think you were (2) ?","Were you (2) ?","What would it mean if you were (2) ?","What does ' (2) ' suggest to you ?","goto what"]],["* i was *",["Were you really ?","Why do you tell me you were (2) now ?","Perhaps I already know you were (2)."]],["* was you *",["Would you like to believe I was (2) ?","What suggests that I was (2) ?","What do you think ?","Perhaps I was (2).","What if I had been (2) ?"]]]],["i",0,[["* i @desire *",["What would it mean to you if you got (3) ?","Why do you want (3) ?","Suppose you got (3) soon.","What if you never got (3) ?","What would getting (3) mean to you ?","What does wanting (3) have to do with this discussion ?"]],["* i am* @sad *",["I am sorry to hear that you are (3).","Do you think coming here will help you not to be (3) ?","I'm sure it's not pleasant to be (3).","Can you explain what made you (3) ?"]],["* i am* @happy *",["How have I helped you to be (3) ?","Has your treatment made you (3) ?","What makes you (3) just now ?","Can you explain why you are suddenly (3) ?"]],["* i was *",["goto was"]],["* i @belief i *",["Do you really think so ?","But you are not sure you (3).","Do you really doubt you (3) ?"]],["* i* @belief *you *",["goto you"]],["* i am *",["Is it because you are (2) that you came to me ?","How long have you been (2) ?","Do you believe it is normal to be (2) ?","Do you enjoy being (2) ?","Do you know anyone else who is (2) ?"]],["* i @cannot *",["How do you know that you can't (3) ?","Have you tried ?","Perhaps you could (3) now.","Do you really want to be able to (3) ?","What if you could (3) ?"]],["* i don't *",["Don't you really (2) ?","Why don't you (2) ?","Do you wish to be able to (2) ?","Does that trouble you ?"]],["* i feel *",["Tell me more about such feelings.","Do you often feel (2) ?","Do you enjoy feeling (2) ?","Of what does feeling (2) remind you ?"]],["* i * you *",["Perhaps in your fantasies we (2) each other.","Do you wish to (2) me ?","You seem to need to (2) me.","Do you (2) anyone else ?"]],["*",["You say (1) ?","Can you elaborate on that ?","Do you say (1) for some special reason ?","That's quite interesting."]]]],["you",0,[["* you remind me of *",["goto alike"]],["* you are *",["What makes you think I am (2) ?","Does it please you to believe I am (2) ?","Do you sometimes wish you were (2) ?","Perhaps you would like to be (2)."]],["* you* me *",["Why do you think I (2) you ?","You like to think I (2) you -- don't you ?","What makes you think I (2) you ?","Really, I (2) you ?","Do you wish to believe I (2) you ?","Suppose I did (2) you -- what would that mean ?","Does someone else believe I (2) you ?"]],["* you *",["We were discussing you -- not me.","Oh, I (2) ?","You're not really talking about me -- are you ?","What are your feelings now ?"]]]],["yes",0,[["*",["You seem to be quite positive.","You are sure.","I see.","I understand."]]]],["no",0,[["* no one *",["Are you sure, no one (2) ?","Surely someone (2) .","Can you think of anyone at all ?","Are you thinking of a very special person ?","Who, may I ask ?","You have a particular person in mind, don't you ?","Who do you think you are talking about ?"]],["*",["Are you saying no just to be negative?","You are being a bit negative.","Why not ?","Why 'no' ?"]]]],["my",2,[["$ * my *",["Does that have anything to do with the fact that your (2) ?","Lets discuss further why your (2).","Earlier you said your (2).","But your (2)."]],["* my* @family *",["Tell me more about your family.","Who else in your family (4) ?","Your (3) ?","What else comes to your mind when you think of your (3) ?"]],["* my *",["Your (2) ?","Why do you say your (2) ?","Does that suggest anything else which belongs to you ?","Is it important to you that your (2) ?"]]]],["can",0,[["* can you *",["You believe I can (2) don't you ?","goto what","You want me to be able to (2).","Perhaps you would like to be able to (2) yourself."]],["* can i *",["Whether or not you can (2) depends on you more than on me.","Do you want to be able to (2) ?","Perhaps you don't want to (2).","goto what"]]]],["what",0,[["*",["Why do you ask ?","Does that question interest you ?","What is it you really want to know ?","Are such questions much on your mind ?","What answer would please you most ?","What do you think ?","What comes to mind when you ask that ?","Have you asked such questions before ?","Have you asked anyone else ?"]]]],["who",0,[["who *",["goto what"]]]],["when",0,[["when *",["goto what"]]]],["where",0,[["where *",["goto what"]]]],["how",0,[["how *",["goto what"]]]],["because",0,[["*",["Is that the real reason ?","Don't any other reasons come to mind ?","Does that reason seem to explain anything else ?","What other reasons might there be ?"]]]],["why",0,[["* why don't you *",["Do you believe I don't (2) ?","Perhaps I will (2) in good time.","Should you (2) yourself ?","You want me to (2) ?","goto what"]],["* why can't i *",["Do you think you should be able to (2) ?","Do you want to be able to (2) ?","Do you believe this will help you to (2) ?","Have you any idea why you can't (2) ?","goto what"]],["*",["goto what"]]]],["everyone",2,[["* @everyone *",["Really, (2) ?","Surely not (2).","Can you think of anyone in particular ?","Who, for example?","Are you thinking of a very special person ?","Who, may I ask ?","Someone special perhaps ?","You have a particular person in mind, don't you ?","Who do you think you're talking about ?"]]]],["everybody",2,[["*",["goto everyone"]]]],["nobody",2,[["*",["goto everyone"]]]],["noone",2,[["*",["goto everyone"]]]],["always",1,[["*",["Can you think of a specific example ?","When ?","What incident are you thinking of ?","Really, always ?"]]]],["alike",10,[["*",["In what way ?","What resemblence do you see ?","What does that similarity suggest to you ?","What other connections do you see ?","What do you suppose that resemblence means ?","What is the connection, do you suppose ?","Could there really be some connection ?","How ?"]]]],["like",10,[["* @be *like *",["goto alike"]]]],["different",0,[["*",["How is it different ?","What differences do you see ?","What does that difference suggest to you ?","What other distinctions do you see ?","What do you suppose that disparity means ?","Could there be some connection, do you suppose ?","How ?"]]]]],f=[/ old old/g," old",/\bthey were( not)? me\b/g,"it was$1 me",/\bthey are( not)? me\b/g,"it is$1 me",/Are they( always)? me\b/,"it is$1 me",/\bthat your( own)? (\w+)( now)? \?/,"that you have your$1 $2 ?",/\bI to have (\w+)/,"I have $1",/Earlier you said your( own)? (\w+)( now)?\./,"Earlier you talked about your $2."];t.noRandom=n?!0:!1;t.capitalizeFirstLetter=!0;t.debug=!1;t.memSize=20;t.version="1.1 (original)";t._dataParsed||l();c();t._dataParsed=!1;t._sortKeywords=function(n,t){return n[1]>t[1]?-1:n[1]<t[1]?1:n[3]>t[3]?1:n[3]<t[3]?-1:0};t.transform=function(n){var r="",l,h,u,c,f,a,s,o;for(t.quit=!1,n=n.toLowerCase(),n=n.replace(/@#\$%\^&\*\(\)_\+=~`\{\[\}\]\|:;<>\/\\\t/g," "),n=n.replace(/\s+-+\s+/g,"."),n=n.replace(/\s*[,\.\?!;]+\s*/g,"."),n=n.replace(/\s*\bbut\b\s*/g,"."),n=n.replace(/\s{2,}/g," "),l=n.split("."),h=0;h<l.length;h++)if(u=l[h],""!=u){for(c=0;c<e.length;c++)if(e[c]==u)return t.quit=!0,t.getFinal();if(f=t.preExp.exec(u),f){for(a="",s=u;f;)a+=s.substring(0,f.index)+t.pres[f[1]],s=s.substring(f.index+f[0].length),f=t.preExp.exec(s);u=a+s}for(t.sentence=u,o=0;o<i.length;o++)if(u.search(new RegExp("\\b"+i[o][0]+"\\b","i"))>=0&&(r=t._execRule(o)),""!=r)return r}return(r=t._memGet(),""==r)&&(t.sentence=" ",o=t._getRuleIndexByKey("xnone"),o>=0&&(r=t._execRule(o))),""!=r?r:"I am at a loss for words."};t._execRule=function(n){for(var a,u,f,y,s,l,e,p,h,k=i[n],c=k[2],w=/\(([0-9]+)\)/,r=0;r<c.length;r++)if(a=t.sentence.match(c[r][0]),null!=a){var v=c[r][1],b=c[r][2],o=t.noRandom?0:Math.floor(Math.random()*v.length);if(t.noRandom&&t.lastchoice[n][r]>o||t.lastchoice[n][r]==o?(o=++t.lastchoice[n][r],o>=v.length&&(o=0,t.lastchoice[n][r]=-1)):t.lastchoice[n][r]=o,u=v[o],t.debug&&alert("match:\nkey: "+i[n][0]+"\nrank: "+i[n][1]+"\ndecomp: "+c[r][0]+"\nreasmb: "+u+"\nmemflag: "+b),0==u.search("^goto ","i")&&(ki=t._getRuleIndexByKey(u.substring(5)),ki>=0))return t._execRule(ki);if(f=w.exec(u),f){for(y="",s=u;f;){if(l=a[parseInt(f[1])],e=t.postExp.exec(l),e){for(p="",h=l;e;)p+=h.substring(0,e.index)+t.posts[e[1]],h=h.substring(e.index+e[0].length),e=t.postExp.exec(h);l=p+h}y+=s.substring(0,f.index)+l;s=s.substring(f.index+f[0].length);f=w.exec(s)}u=y+s}if(u=t._postTransform(u),!b)return u;t._memSave(u)}return""};t._postTransform=function(n){var i,u,r;if(n=n.replace(/\s{2,}/g," "),n=n.replace(/\s+\./g,"."),f.length)for(i=0;i<f.length;i+=2)n=n.replace(f[i],f[i+1]),f[i].lastIndex=0;return t.capitalizeFirstLetter&&(u=/^([a-z])/,r=u.exec(n),r&&(n=r[0].toUpperCase()+n.substring(1))),n};t._getRuleIndexByKey=function(n){for(var t=0;t<i.length;t++)if(i[t][0]==n)return t;return-1};t._memSave=function(n){t.mem.push(n);t.mem.length>t.memSize&&t.mem.shift()};t._memGet=function(){if(t.mem.length){if(t.noRandom)return t.mem.shift();for(var i=Math.floor(Math.random()*t.mem.length),r=t.mem[i],n=i+1;n<t.mem.length;n++)t.mem[n-1]=t.mem[n];return t.mem.length--,r}return""};t.getFinal=function(){return s?s[Math.floor(Math.random()*s.length)]:""};t.getInitial=function(){return o?o[Math.floor(Math.random()*o.length)]:""}}function Transport_REST_ELIZA(){"use strict";function r(n){var t=n.promise();return{done:t.done,fail:t.fail}}function s(n){var t={},i=!1;switch(n.type){case"Text":n.type="MessageReceived";break;case"ParticipantJoined":n.type="AgentConnected";break;case"ParticipantLeft":n.type="AgentDisconnected";break;case"ParticipantRejoined":n.type="ParticipantRejoined";break;case"TypingStarted":n.type="AgentTyping";i=!0;break;case"TypingStopped":n.type="AgentTyping";i=!1;break;case"TranscriptSaveDone":n.type="TranscriptSaveDone";break;case"Notice":n.type="Notice"}if(n.from&&n.from.type)switch(n.from.type){case"Customer":n.from.type="Client";break;case"Agent":n.from.type="Agent";break;case"External":n.from.type="External"}return t.type=n.type,t.index=n.index,t.timestamp=(new Date).getTime(),t.isTyping="AgentTyping"===n.type?i:void 0,t.content=n.text?{text:n.text,type:"text"}:void 0,t.party={id:n.from?parseInt(n.from.participantId):"",type:n.from?n.from.type:"",name:n.from?n.from.nickname:""},t}function h(t){$.each(t.messages,function(){var t=s(this);n[t.type]&&n[t.type](t)})}function i(n,t,i){setTimeout(function(){h(n);i&&i()},t||1e3)}var o=this,u=$.Deferred,n={},t=0,f,e;this.bWaitingForTokens=!1;f=null;e=!1;this.updateOptions=function(){};this.setFormData=function(){};this.restore=function(){};this.startSession=function(){return $.Deferred(function(n){ElizaBot?(f=new ElizaBot(!0),n.done(function(){i({statusCode:0,messages:[{index:++t,type:"ParticipantJoined",from:{id:"1",type:"Customer",nickname:"b",participantId:"1"}}]},1e3);i({statusCode:0,messages:[{index:++t,type:"ParticipantJoined",from:{id:"2",type:"External",nickname:"system",participantId:"2"}}]},2e3);i({statusCode:0,messages:[{index:++t,type:"Text",from:{id:"2",type:"External",nickname:"system",participantId:"2"},text:"agent will be with you shortly ..."}]},3e3);i({statusCode:0,messages:[{index:++t,type:"ParticipantJoined",from:{id:"3",type:"Agent",nickname:"Eliza",participantId:"3"}}]},5e3,function(){e=!0;o.elizaRespond(!1,"Hello! My name is Eliza. How can you help yourself?")})}),setTimeout(n.resolve,1e3)):setTimeout(n.fail,1e3)})};this.sendMessage=function(n){i({statusCode:0,messages:[{index:++t,type:"Text",from:{id:"1",type:"Customer",nickname:"You",participantId:"1"},text:n.message}]},10);o.elizaRespond(n.message)};this.elizaRespond=function(n,r){if(e){var r=r||f.transform(n);i({statusCode:0,messages:[{index:++t,type:"TypingStarted",from:{id:"3",type:"Agent",nickname:"Eliza",participantId:"3"}}]});i({statusCode:0,messages:[{index:++t,type:"Text",from:{id:"3",type:"Agent",nickname:"Eliza",participantId:"3"},text:r},{index:++t,type:"TypingStopped",from:{id:"3",type:"Agent",nickname:"Eliza",participantId:"3"}}]},3e3,function(){r.toLowerCase().match("goodbye")&&i({statusCode:0,messages:[{index:++t,type:"ParticipantLeft",from:{id:"3",type:"Agent",nickname:"Eliza",participantId:"3"}},{index:++t,type:"ParticipantLeft",from:{id:"1",type:"Customer",nickname:"You",participantId:"1"}}]})})}};this.leaveSession=function(){n.SessionEnded()};this.stopPoll=function(){};this.sendTyping=function(){};this.setUserData=function(){return r(new u)};this.getUserData=function(){return r(new u)};this.deleteUserData=function(){return r(new u)};this.onAgentConnected=function(t){n.AgentConnected=t};this.onAgentTyping=function(t){n.AgentTyping=t};this.onAgentDisconnected=function(t){n.AgentDisconnected=t};this.onMessageReceived=function(t){n.MessageReceived=t};this.onSessionEnded=function(t){n.SessionEnded=t};this.onError=function(t){n.Error=t};this.onRestore=function(t){n.Restore=t}}function Transport_REST_WebAPI(n){"use strict";function y(){c&&"/"!=c[c.length-1]&&(c+="/")}function s(n){var t=n.promise();return{done:t.done,fail:t.fail}}function k(n){return setTimeout(n,0)}function d(n){var t={},i=!1,r=!1;switch(n.type){case"Message":n.type="MessageReceived";break;case"ParticipantJoined":n.type="AgentConnected";break;case"ParticipantLeft":n.type="AgentDisconnected";break;case"ParticipantRejoined":n.type="ParticipantRejoined";break;case"TypingStarted":n.type="AgentTyping";i=!0;break;case"TypingStopped":n.type="AgentTyping";i=!1;break;case"TranscriptSaveDone":n.type="TranscriptSaveDone";break;case"Notice":n.type="MessageReceived";r=!0}if(n.from&&n.from.type)switch(n.from.type){case"Client":n.from.type="Client";break;case"Agent":n.from.type="Agent";break;case"External":n.from.type="External"}return t.type=n.type,t.index=n.index,t.timestamp=(new Date).getTime(),t.isTyping="AgentTyping"===n.type?i:void 0,t.content=n.text?{text:n.text,type:r?"notice":"text"}:void 0,t.party={id:n.from?parseInt(n.from.participantId):"",type:n.from?n.from.type:"",name:n.from?n.from.nickname:""},n.index>=0&&n.index>=a&&(a=n.index+1),t}function p(){localStorage.removeItem("genesys_webchat_session_id");localStorage.removeItem("genesys_webchat_session_keys")}function g(n){$.each(n.messages,function(){var n=d(this);u[n.type]&&u[n.type](n)});n.chatEnded===!0&&(l.stopPoll(),p(),u.SessionEnded(n))}function e(n,u,e){var o=new h;return $.ajax({url:c+$JSTools.encodeEntities(f)+(n||""),type:u,crossDomain:!0,data:JSON.stringify(e,void 0,2),headers:{"Content-Type":"application/json"},xhrFields:{withCredentials:!0},success:function(n){n.id&&(n.sessionId=n.id);n.alias&&(t=n.alias);localStorage.setItem("genesys_webchat_session_keys",JSON.stringify({secureKey:r,alias:t,userId:i}));o.resolve(n||{})},error:function(n){o.reject(n||{})},beforeSend:function(){}}),s(o)}if(console.log("A"),!n||n&&!n.id)return!1;var l=this,h=$.Deferred,c=n.dataURL.replace(/\/$/,""),o=n.id||"Environment",f="",i="",r="",t="",a=1,nt=1,w=((new Date).getTimezoneOffset(),new h),u={},b=!1,v=!1,tt=3e3;y();console.log("B");this.restore=function(){var e=localStorage.getItem("genesys_webchat_session_id"),u=JSON.parse(localStorage.getItem("genesys_webchat_session_keys"));e&&u&&(f=e,p(),r=u.secureKey,t=u.alias,i=u.userId,this.getTranscript().done(function(){n.onRestore&&n.onRestore()}).fail(function(){f=""}))};this.init=function(){return k(w.resolve),s(w)};this.poll=function(){v||(v=!0,this.getTranscript().done(function(n){g(n);v=!1}))};this.startPoll=function(){this.stopPoll();b=setInterval(function(){l.poll()},tt);this.poll()};this.stopPoll=function(){clearInterval(b)};this.setFormData=function(t){n.formData=t};this.updateOptions=function(t){for(var i in t)n[i]=t[i];return y(),this};this.reset=function(){f="";i="";r="";t="";a=1;nt=1};this.startSession=function(){var u={tenantName:o,nickname:n.formData.nickname||n.formData.firstname||"Anonymous",firstName:n.formData.firstname||"John",lastName:n.formData.lastname||"Doe",emailAddress:n.formData.email||"",subject:n.formData.subject||"No Subject",text:"",userData:n.userData||{}};return n.endpoint&&(u.endpoint=n.endpoint),f?this.getTranscript().done(function(n){0==n.statusCode&&(l.startPoll(),localStorage.setItem("genesys_webchat_session_id",f))}):e("","POST",u).done(function(n){0==n.statusCode&&(f=n.chatId,r=n.secureKey,t=n.alias,i=n.userId,localStorage.setItem("genesys_webchat_session_id",f),localStorage.setItem("genesys_webchat_session_keys",JSON.stringify({secureKey:r,alias:t,userId:i})),l.startPoll())})};this.sendMessage=function(n){return e("","POST",{tenantName:o,operationName:"SendMessage",text:n.message,userId:i,secureKey:r,alias:t})};this.getTranscript=function(){return e("/messages","POST",{tenantName:o,secureKey:r,alias:t,userId:i,transcriptPosition:a})};this.getChat=function(){return e("","GET",{tenantName:o,secureKey:r,alias:t,userId:i})};this.leaveSession=function(){return this.stopPoll(),e("","POST",{tenantName:o,operationName:"Complete",alias:t,secureKey:r,userId:i})};this.sendTyping=function(n){var n=n||{};return n.isTyping?e("","POST",{tenantName:o,operationName:"SendStartTypingNotification",alias:t,secureKey:r,userId:i}):e("","POST",{tenantName:o,operationName:"SendStopTypingNotification",alias:t,secureKey:r,userId:i})};this.setUserData=function(){return s(new h)};this.getUserData=function(){return s(new h)};this.deleteUserData=function(){return s(new h)};this.onAgentConnected=function(n){u.AgentConnected=n};this.onAgentTyping=function(n){u.AgentTyping=n};this.onAgentDisconnected=function(n){u.AgentDisconnected=n};this.onMessageReceived=function(n){u.MessageReceived=n};this.onSessionEnded=function(n){u.SessionEnded=n};this.onError=function(n){u.Error=n}}function Transport_REST_HTCC(n){"use strict";function l(){e&&"/"!=e[e.length-1]&&(e+="/")}function y(n){var t={},i=!1;switch(n.type){case"Text":n.type="MessageReceived";break;case"ParticipantJoined":n.type="AgentConnected";break;case"ParticipantLeft":n.type="AgentDisconnected";break;case"ParticipantRejoined":n.type="ParticipantRejoined";break;case"TypingStarted":n.type="AgentTyping";i=!0;break;case"TypingStopped":n.type="AgentTyping";i=!1;break;case"TranscriptSaveDone":n.type="TranscriptSaveDone";break;case"Notice":n.type="Notice"}if(n.from&&n.from.type)switch(n.from.type){case"Customer":n.from.type="Client";break;case"Agent":n.from.type="Agent";break;case"External":n.from.type="External"}return t.type=n.type,t.index=n.index,t.timestamp=(new Date).getTime(),t.isTyping="AgentTyping"===n.type?i:void 0,t.content=n.text?{text:n.text,type:"text"}:void 0,t.party={id:n.from?parseInt(n.from.participantId):"",type:n.from?n.from.type:"",name:n.from?n.from.nickname:""},t}function p(n){var i=$JSTools.sortObjectsByProperty(n.messages,"index",!1,"Number");$.each(i,function(){var n=y(this);t[n.type]&&t[n.type](n)})}function i(n,t,i){var o=new u;return $.ajax({url:e+$JSTools.encodeEntities(r)+(n||""),type:t,crossDomain:!0,data:"POST"==t?JSON.stringify(i,void 0,2):i,headers:{"Content-Type":"application/json"},xhrFields:{withCredentials:!0},success:function(n,t,i){n.id&&(n.sessionId=n.id);i.getResponseHeader("X-CSRF-HEADER")&&i.getResponseHeader("X-CSRF-TOKEN")&&(f.CSRFHeaderName=i.getResponseHeader("X-CSRF-HEADER"),f.CSRFToken=i.getResponseHeader("X-CSRF-TOKEN"));o.resolve(n||{})},error:function(n){o.reject(n||{})},beforeSend:function(n){f.CSRFHeaderName&&f.CSRFToken&&n.setRequestHeader(f.CSRFHeaderName,f.CSRFToken);v?n.setRequestHeader("apikey",v):a&&n.setRequestHeader("ContactCenterId",a)}}),o.promise()}if(!n)return!1;var s=this,u=$.Deferred,e=n.dataURL.replace(/\/$/,""),a=n.id,r="",t=((new Date).getTimezoneOffset(),new u,{}),h=!1,w=3e3,c=!0,o=!1,f={},v=(document.createElement("a"),n.apikey||!1);this.bWaitingForTokens=!0;l();this.restore=function(){$.cookie("genesys_webchat_session_id")&&(r=$.cookie("genesys_webchat_session_id"),$.removeCookie("genesys_webchat_session_id",{path:"/"}),this.getTranscript().done(function(){c=!0;n.onRestore&&n.onRestore()}).fail(function(){r=""}))};this.poll=function(){h||(h=!0,this.getTranscript(c?{index:0}:{}).done(function(n){p(n);h=!1}),c=!1)};this.startPoll=function(){this.stopPoll();var n=this;n.poll();window.poll_int=setInterval(function(){n.poll()},w)};this.stopPoll=function(){clearInterval(window.poll_int)};this.setFormData=function(t){n.formData=t};this.updateOptions=function(t){for(var i in t)n[i]=t[i];return l(),this};this.startSession=function(){if(o)return(new u).promise();o=!0;var t={operationName:"RequestChat",nickname:n.formData.nickname||n.formData.firstname||n.UserNameDefault||"Anonymous",subject:n.formData.subject||"No Subject",userData:n.userData||{}};return n.formData&&(t.userData.FirstName=n.formData.firstname||void 0,t.userData.LastName=n.formData.lastname||void 0,t.userData.EmailAddress=n.formData.email||void 0),n.endpoint&&(t.endpoint=n.endpoint),r?this.getTranscript().done(function(){s.startPoll();$.cookie("genesys_webchat_session_id",r,{path:"/"})}).always(function(){o=!1}):i("","POST",t).done(function(n){n.id&&(r=n.id,$.cookie("genesys_webchat_session_id",r,{path:"/"}));s.startPoll()}).always(function(){o=!1})};this.sendMessage=function(n){return i("","POST",{operationName:"SendMessage",text:n.message}).done(function(){s.poll()})};this.getTranscript=function(n){return i("/messages","GET",n)};this.getChat=function(){return i("","GET",{})};this.leaveSession=function(){return this.stopPoll(),i("","POST",{operationName:"Complete"}).done(function(){$.removeCookie("genesys_webchat_session_id",{path:"/"});t.SessionEnded()}).fail(function(){t.SessionEnded()})};this.sendTyping=function(n){var n=n||{};return n.isTyping?i("","POST",{operationName:"SendStartTypingNotification"}):i("","POST",{operationName:"SendStopTypingNotification"})};this.setUserData=function(){return(new u).promise()};this.getUserData=function(){return(new u).promise()};this.deleteUserData=function(){return(new u).promise()};this.onAgentConnected=function(n){t.AgentConnected=n};this.onAgentTyping=function(n){t.AgentTyping=n};this.onAgentDisconnected=function(n){t.AgentDisconnected=n};this.onMessageReceived=function(n){t.MessageReceived=n};this.onSessionEnded=function(n){t.SessionEnded=n};this.onError=function(n){t.Error=n};this.onRestore=function(n){t.Restore=n}}function Transport_REST_GMS(n){"use strict";function y(){c&&"/"!=c[c.length-1]&&(c+="/")}function o(n){var t=n.promise();return{done:t.done,fail:t.fail}}function k(n){return setTimeout(n,0)}function d(n){var t={},i=!1,r=!1;switch(n.type){case"Message":n.type="MessageReceived";break;case"ParticipantJoined":n.type="AgentConnected";break;case"ParticipantLeft":n.type="AgentDisconnected";break;case"ParticipantRejoined":n.type="ParticipantRejoined";break;case"TypingStarted":n.type="AgentTyping";i=!0;break;case"TypingStopped":n.type="AgentTyping";i=!1;break;case"TranscriptSaveDone":n.type="TranscriptSaveDone";break;case"Notice":n.type="MessageReceived";r=!0}return t.type=n.type,t.index=n.index,t.timestamp=n.utcTime,t.isTyping="AgentTyping"===n.type?i:void 0,t.content=n.text?{text:n.text,type:r?"notice":"text"}:void 0,t.party={id:n.from?parseInt(n.from.participantId):"",type:n.from?n.from.type:"",name:n.from?n.from.nickname:""},n.index>=0&&n.index>=a&&(a=n.index+1),t}function l(){localStorage.removeItem("genesys_webchat_session_id");localStorage.removeItem("genesys_webchat_session_keys")}function g(n){$.each(n.messages,function(){var n=d(this);u[n.type]&&u[n.type](n)});n.chatEnded===!0&&(s.stopPoll(),l(),u.SessionEnded(n))}function f(n,u,f){var s=new h;return $.ajax({url:c+$JSTools.encodeEntities(e)+(n||""),type:u,crossDomain:!0,data:f,timeout:3e3,headers:{"Content-Type":"application/x-www-form-urlencoded"},xhrFields:{withCredentials:!1},success:function(n){n.id&&(n.sessionId=n.id);n.alias&&(t=n.alias);localStorage.setItem("genesys_webchat_session_keys",JSON.stringify({secureKey:r,alias:t,userId:i}));s.resolve(n||{})},error:function(n){s.reject(n||{})},beforeSend:function(n){b&&n.setRequestHeader("apikey",b)}}),o(s)}if(!n)return!1;var s=this,h=$.Deferred,c=n.dataURL.replace(/\/$/,""),e="",i="",r="",t="",a=1,p=((new Date).getTimezoneOffset(),new h),u={},w=!1,v=!1,nt=3e3,b=n.apikey||!1;y();this.restore=function(){var f=localStorage.getItem("genesys_webchat_session_id"),u=JSON.parse(localStorage.getItem("genesys_webchat_session_keys"));f&&u&&(e=f,l(),r=u.secureKey,t=u.alias,i=u.userId,this.getTranscript().done(function(t){t&&t.chatEnded===!1&&n.onRestore&&n.onRestore()}).fail(function(){e=""}))};this.init=function(){return k(p.resolve),o(p)};this.poll=function(){v||(v=!0,this.getTranscript().done(function(n){g(n);v=!1}))};this.startPoll=function(){this.stopPoll();w=setInterval(function(){s.poll()},nt);this.poll()};this.stopPoll=function(){clearInterval(w)};this.setFormData=function(t){n.formData=t};this.updateOptions=function(t){for(var i in t)n[i]=t[i];return y(),this};this.startSession=function(){var u={nickname:n.formData.nickname||n.formData.firstname||"Anonymous",firstName:n.formData.firstname||"John",lastName:n.formData.lastname||"Doe",emailAddress:n.formData.email||"",subject:n.formData.subject||"No Subject",text:"",userData:n.userData||{}};return n.endpoint&&(u.endpoint=n.endpoint),e?this.getTranscript().done(function(n){0==n.statusCode&&(s.startPoll(),localStorage.setItem("genesys_webchat_session_id",e))}):f("","POST",u).done(function(n){0==n.statusCode&&(e=n.chatId,r=n.secureKey,t=n.alias,i=n.userId,localStorage.setItem("genesys_webchat_session_id",e),localStorage.setItem("genesys_webchat_session_keys",JSON.stringify({secureKey:r,alias:t,userId:i})),s.startPoll())})};this.sendMessage=function(n){return f("/send","POST",{message:n.message,messageType:n.messageType||"text",userId:i,secureKey:r,alias:t})};this.getTranscript=function(){return f("/refresh","POST",{userId:i,secureKey:r,alias:t,transcriptPosition:a,message:s.getCurrentTextEntered()})};this.getChat=function(){return f("","GET",{secureKey:r,alias:t,userId:i})};this.leaveSession=function(){return this.stopPoll(),f("/disconnect","POST",{alias:t,secureKey:r,userId:i}).done(function(n){0===n.statusCode&&(l(),u.SessionEnded(n))})};this.sendTyping=function(n){var n=n||{};return n.isTyping?f("/startTyping","POST",{alias:t,secureKey:r,userId:i,message:n.message||""}):f("/stopTyping","POST",{alias:t,secureKey:r,userId:i,message:n.message||""})};this.setUserData=function(){return o(new h)};this.getUserData=function(){return o(new h)};this.deleteUserData=function(){return o(new h)};this.onAgentConnected=function(n){u.AgentConnected=n};this.onAgentTyping=function(n){u.AgentTyping=n};this.onAgentDisconnected=function(n){u.AgentDisconnected=n};this.onMessageReceived=function(n){u.MessageReceived=n};this.onSessionEnded=function(n){u.SessionEnded=n};this.onError=function(n){u.Error=n};this.getCurrentTextEntered=function(){return""}}function GenesysWebChat(n){function ot(){var u,f;t.updateI18nMessages();u=i;for(f in u)u[f]=$(u[f],e);u.Input.keypress(function(n){if(13==n.which&&!n.ctrlKey)return g(),n.preventDefault(),n.stopPropagation(),!0;if(r){var t=vt;t.Interval?t.Timer=0:(r&&r.sendTyping({isTyping:!0}),t.Interval=setInterval(function(){t.Timer+=t.TimeInterval;t.Timer>=t.Timeout&&(clearInterval(t.Interval),t.Interval=!1,t.Timer=0,r&&r.sendTyping({isTyping:!1}))},t.TimeInterval))}}).addClass("disabled").attr("disabled",!0);u.Submit.click(function(n){n.preventDefault();t.startSession()});u.Send.click(function(n){n.preventDefault();g()});u.Close.click(function(n){n.preventDefault();t.close()});u.Minimize.click(function(n){n.preventDefault();k?t.maximize():t.minimize()});u.End.click(function(n){n.preventDefault();t.endSession()});u.ChatEnd.find("button.end-confirm").click(function(){t.hideConfirmEnd();t.endSession()});u.ChatEnd.find("button.end-cancel").click(function(){u.Smokescreen.hide();t.hideConfirmEnd()});u.ChatFailed.find("button.failed-close").click(function(){t.hideChatFailed();t.endSession()});u.ChatFailed.find("button.failed-retry").click(function(){u.Smokescreen.hide();t.hideChatFailed();t.startSession()});u.CoBrowse.click(function(){t.startCoBrowse()});i.Title.text(n.title||"");p=setInterval(function(){ht()},500);rt();o.restore();"slave"!=n.mode&&$(window.document.body).append(e)}function st(n){for(var t=0;t<d.length;t++)if((n+"").match(d[t]))return!1;return!0}function ht(){return null!==p?n.i18n_URL&&!tt?v=!1:(v=!0,clearInterval(p),p=null,!0):v=!1}function rt(){et&&(o&&o.stopPoll(),o=new et({id:n.id,apikey:n.apikey,tenantName:n.tenantName,dataURL:n.dataURL,userData:n.userData,CSRFURL:n.CSRFURL,UserNameDefault:u.UserNameDefault,onRestore:function(){t.onRestore();"overlay"!==n.mode&&"slave"!==n.mode||(t.startSession(!0),t.open())}}))}function g(n){r&&(n||i.Input.val())&&r.sendMessage({message:n||i.Input.val(),type:"text"});n||i.Input.val("")}function s(r){var f=!1,s="",o=(r.sType||"").toLowerCase();return st(r.sText)&&(f=i.LastMessage,at&&"system"!=o&&f&&r.sName==f.data("name")&&(f.hasClass("them")&&h(o)||f.hasClass("you")&&"customer"===o)&&r.iTimestamp&&f.data("time")&&r.iTimestamp-f.data("time")<=yt?(f.find(".message").append("<p>"+r.sText+"<\/p>"),a()):(f=n.templateMessage?$(n.templateMessage):$("<div><span class='avatar'><\/span><span class='name'><\/span><span class='message'><\/span><\/div>"),"injected"==o?f.addClass("injected"):"system"==o?(u[r.sText]?(s=r.sText,r.sText=u[r.sText]):r.sText=r.sText,u[r.sName]&&(s=r.sName,r.sName=u[r.sName]),f.addClass("system"),f.attr({"data-message":s,"data-message-type":"transcript"}),f.addClass("i18n")):(h(o)?f.addClass("them").addClass(o):f.addClass("you"),n.avatars&&(h(o)&&n.avatars.agent?f.find(".avatar").addClass(n.avatars.agent):"client"==o&&n.avatars.customer&&f.find(".avatar").addClass(n.avatars.customer))),f.find(".name").text(r.sName),r.bHTML?f.find(".message").html(r.sText):f.find(".message").text(r.sText),i.Transcript.find(".NewTextBubble").removeClass("NewTextBubble"),f.addClass("NewTextBubble"),i.Transcript.append(f),i.LastMessage=f,r.bNoAnimation?a(!0):(f.find(".avatar").hide().fadeIn(),f.find("> p").hide().fadeIn(),a())),k&&e.addClass("NewMessage"),r.iTimestamp&&(f.find(".time").text(new Date(r.iTimestamp).toLocaleTimeString().split(":").slice(0,2).join(":")),f.data("time",r.iTimestamp)),f.data("name",r.sName),t.onMessageAdded({name:r.sName,text:r.sText,type:o,timestamp:r.iTimestamp})),f}function ct(n){n.sText.toLowerCase().match("http://")||n.sText.toLowerCase().match("https://")||(n.sText="http://"+n.sText);n.sText="<a href='"+n.sText+"' target='_BLANK'>"+n.sText+"<\/a>";n.bHTML=!0;var t=s(n);return t.addClass("notice"),t}function a(){nt||(nt=!0,i.Transcript.animate({scrollTop:i.Transcript[0].scrollHeight},"500","swing",function(){nt=!1;i.Transcript[0].scrollTop<i.Transcript[0].scrollHeight&&(i.Transcript[0].scrollTop=i.Transcript[0].scrollHeight)}))}function lt(n){var n=n||"";switch(n.toLowerCase()){case"pre":return Transport_REST_WebAPI;case"vcc":return Transport_REST_HTCC;case"pod":return Transport_REST_HTCC;case"apg":return Transport_REST_HTCC;case"htcc":return Transport_REST_HTCC;case"gms":return Transport_REST_GMS;case"eliza":return Transport_REST_ELIZA}}function ut(){e.find(".i18n").each(function(){var n=$(this);switch(n.data("message-type")){case"transcript":n.find(".message").html(u[n.data("message")]);break;case"placeholder":n.attr("placeholder",u[n.data("message")]);break;default:n.text(u[n.data("message")])}})}function y(n){return it[n]?!1:(it[n]=!0,!0)}function h(n){return n=n.toLowerCase(),"agent"==n||"supervisor"==n}var p,ft,nt,t=this,n=n||{},e=$(n.template),i={Title:".title",Transcript:".transcript",Input:".input",InputContainer:".input-container",IsTyping:n.templateMessage||".isTyping",Form:".form",Submit:".submit",Close:".close",Minimize:".minimize",Send:".send",PopUpWindow:"",End:".end",CoBrowse:".start-cobrowse",LastMessage:"",ChatEnd:".confirmation.chat-end",ChatFailed:".confirmation.chat-failed",Smokescreen:".smokescreen"},v=!1,tt=!1,c=!1,l=!1,w=!1,b=!1,k=!1,at=!0,r=null,o=null,et=lt(n.transport),vt={Timer:0,Timeout:2e3,TimeInterval:100,Interval:!1},it={},f=null,u={ChatStarted:"Chat Started",ChatEnded:"Chat Ended",ChatFailed:"Failed to Start Chat Session",UserNameDefault:"Anonymous",AgentNameDefault:"Agent",AgentConnected:"<%Agent%> Connected",AgentDisconnected:"<%Agent%> Disconnected",AgentTyping:"...",AgentPending:"An Agent will be with you shortly",AgentUnavailable:"Sorry. There are no agents available. Please try later",ChatTitle:"Chat Support",ChatEnd:"X",ChatClose:"X",ChatFormFirstName:"First Name",ChatFormLastName:"Last Name",ChatFormNickname:"Nickname",ChatFormEmail:"Email",ChatFormSubject:"Subject",ChatFormSubmit:"Start Chat",ChatInputPlaceholder:"Type your message here and hit return",ChatInputSend:"SEND",CoBrowseStart:"Start Cobrowse",ChatEndQuestion:"Are you sure you want to end this chat session?",ChatEndCancel:"Cancel",ChatEndConfirm:"End chat",ActionsDownload:"Download transcript",ActionsEmail:"Email transcript",ActionsPrint:"Print transcript",ActionsCoBrowse:"Co-Browse",ActionsVideo:"Invite to Video Chat","agent will be with you shortly ...":"An Agent will be with you shortly...",system:"system"},d=n.prefilters||[/\{start\:[0-9]{9}\}/],yt=n.iMessageGroupingThreshold||1e5;this.startSession=function(l){return t.updateI18nMessages(),t.hideCoBrowse(),this.checkForm()?(this.clear(),this.hideForm(),l||rt(),o.updateOptions(n),o.setFormData&&o.setFormData(n.formData),e.addClass("starting-session"),ft=setInterval(function(){v&&(clearInterval(ft),w=!1,o.startSession().done(function(){if(r=o,n.formData=!1,r.setFormData(n.formData),w)return w=!1,t.reset(),t.endSession(),t.onCancelled(),!1;var l=i;r.getCurrentTextEntered=function(){return i.Input.val()};r.onMessageReceived(function(n){if(y(n.index)){var t=n.party.type;"system"==n.party.name&&"External"==n.party.type&&(t="system");"notice"==n.content.type?ct({sName:n.party.name,sText:n.content.text,sType:t,iTimestamp:n.timestamp}):s({sName:n.party.name,sText:n.content.text,sType:t,iTimestamp:n.timestamp})}h(n.party.type)&&l.IsTyping.hide()});r.onAgentConnected(function(n){y(n.index)&&(h(n.party.type)?(c=!0,t.onAgentConnected(),b||t.showCoBrowse(),s({sName:n.party.name,sText:u.AgentConnected.replace("<%Agent%>",n.party.name||u.AgentNameDefault),sType:"system",iTimestamp:n.timestamp})):"Client"==n.party.type&&s({sName:n.party.name,sText:"ChatStarted",sType:"system",iTimestamp:n.timestamp}))});r.onAgentDisconnected(function(n){y(n.index)&&(h(n.party.type)?s({sName:n.party.name,sText:u.AgentDisconnected.replace("<%Agent%>",n.party.name||u.AgentNameDefault),sType:"system",iTimestamp:n.timestamp}):"Client"==n.party.type&&t.endSession(),t.hideCoBrowse(),c=!1,t.onAgentDisconnected());l.IsTyping.hide()});r.onAgentTyping(function(t){y(t.index)&&h(t.party.type)&&(t.isTyping?(l.IsTyping.addClass("them"),u.AgentTyping=u.AgentTyping.replace("<%Agent%>",t.party.name||u.AgentNameDefault),l.IsTyping.text(u.AgentTyping),l.Transcript.append(l.IsTyping),n.avatars&&n.avatars.agent&&l.IsTyping.find(".avatar").addClass(n.avatars.agent),l.IsTyping.find(".avatar").hide().fadeIn(),l.IsTyping.find("> p").hide().fadeIn(),a(),l.IsTyping.show(),a()):l.IsTyping.hide())});r.onSessionEnded(function(n){var i=!1;n&&n.messages&&n.messages[0]&&n.messages[0].utcTime&&(i=n.messages[0].utcTime);s({sName:"",sText:"ChatEnded",sType:"system",iTimestamp:i});l.Input.addClass("disabled").attr("disabled",!0);l.IsTyping.hide();l.End.hide();l.Close.show();r=null;c=!1;t.hideCoBrowse();f&&f.exitSession();t.onSessionEnded()});l.Input.removeClass("disabled").attr("disabled",!1);l.Close.hide();l.End.show();t.onStart();e.removeClass("starting-session")}).fail(function(){t.onStartFailed();e.removeClass("starting-session")}))},500),this):this};this.endSession=function(){return r&&(r.leaveSession(),r=null,o=null,it={}),i.Input.empty(),i.IsTyping.hide(),i.End.hide(),i.Close.show(),this.onEnd(),this};this.checkForm=function(){var t=i.Form,r=!0,f={firstname:!1,lastname:!1,nickname:!1,subject:!1,email:!1},u=[];return t.find("input").removeClass("error"),n.formData&&n.formData!=={}||(n.formData={},$(["firstname","lastname","nickname","subject","email"]).each(function(){var i=t.find("input[name="+this+"]");f[this]&&""===i.val()&&(u.push(i),r=!1);n.formData[this]=i.val()}),$(u).each(function(){this.addClass("error")})),r};this.showForm=function(){return i.Form.show(),i.Transcript.hide(),i.InputContainer.hide(),i.Close.show(),this};this.hideForm=function(){return i.Form.hide(),i.Transcript.show(),i.InputContainer.show(),this};this.showCoBrowse=function(){f&&i.CoBrowse.show()};this.hideCoBrowse=function(){i.CoBrowse.hide()};this.showConfirmEnd=function(){i.ChatEnd.show();i.Smokescreen.show()};this.hideConfirmEnd=function(){i.ChatEnd.hide();i.Smokescreen.hide()};this.showChatFailed=function(){i.ChatFailed.show();i.Smokescreen.show()};this.hideChatFailed=function(){i.ChatFailed.hide();i.Smokescreen.hide()};this.open=function(){return e.show(),this.onOpen(),this};this.close=function(){return r&&this.endSession(),this.hideConfirmEnd(),this.hideChatFailed(),w=!0,this.clear(),e.hide(),this.showForm(),l=!1,this.maximize(),this.onClose(),this};this.minimize=function(){e.removeClass("NewMessage").addClass("Minimized");k=!0};this.maximize=function(){e.removeClass("NewMessage").removeClass("Minimized");k=!1};this.clear=function(){var n=i;return n.Input.val(""),n.Form.find("input").val(""),n.Transcript.empty(),n.IsTyping.hide(),this};this.reset=function(){this.clear();this.showForm();c=!1;l=!1};this.openInNewWindow=function(){if(n.popupChatWindowHREF){var r=i,u=n.popupChatWindowOptions||"width=420, height="+screen.height+", top=0, left="+(screen.width-420),f=n.popupChatWindowHREF+"?options="+encodeURIComponent(JSON.stringify(n));r.PopUpWindow=window.open(f,"popupChatWindow",u);r.PopUpWindow.focus();$(r.PopUpWindow).load(function(){t.onOpenNewWindow()});$(r.PopUpWindow).unload(function(){t.onCloseNewWindow()})}};this.suspend=function(){l||(l=!0,o.stopPoll(),this.onSuspend())};this.resume=function(){l&&(l=!1,o.startPoll(),this.onResume())};this.updateI18nMessages=function(i){"object"==typeof i&&(n.i18n_messages=i);n.i18n_messages?($.extend(u,n.i18n_lang&&n.i18n_messages[n.i18n_lang]?n.i18n_messages[n.i18n_lang]:n.i18n_messages),t.onUpdateI18nMessages($.extend({},u)),ut(),tt=!0):n.i18n_URL&&$.getJSON(n.i18n_URL,function(i){i&&($.extend(u,n.i18n_lang&&i[n.i18n_lang]?i[n.i18n_lang]:i),t.onUpdateI18nMessages($.extend({},u)),ut(),tt=!0)})};this.sendFilteredMessage=function(n,i){"string"==typeof n&&i instanceof RegExp&&(t.addPrefilter(i),g(n))};this.addPrefilter=function(n){if(n){n.length||(n=[n]);for(var t=0;t<n.length;t++)d.push(n[t])}};this.clearPrefilters=function(){d=[]};this.registerCoBrowse=function(n){f=n;var i=function(n){n&&n.agents&&n.agents.length>0&&(b=!0,t.hideCoBrowse())},r=function(n){n&&n.token&&(t.sendFilteredMessage("{start:"+n.token+"}",/\{start\:[0-9]{9}\}/),b=!0,t.hideCoBrowse())},u=function(){b=!1;c&&t.showCoBrowse()};return f.onInitialized.add?(f.onInitialized.add(i),f.onSessionStarted.add(r),f.onSessionEnded.add(u)):(f.onInitialized=i,f.onSessionStarted=r,f.onSessionEnded=u),f.markServiceElement(e[0]),f};this.isReady=function(){return v};this.isAgentConnected=function(){return c};this.destroy=function(){e.remove()};this.getTemplate=function(){return e};this.injectMessage=function(n,t,i){var n=(n+"").toLowerCase()||"text";switch(n){case"text":if("object"==typeof i&&i[0]&&i[0].outerHTML)sText=i[0].outerHTML;else{if("string"!=typeof i)return!1;sText=i}break;case"html":sText=i;break;default:return!1}return s({sName:t,sText:sText,sType:"injected"})};this.startCoBrowse=function(){return f?(f.startSession(),t.hideCoBrowse(),!0):!1};this.endCoBrowse=function(){return f?(f.exitSession(),!0):!1};this.onOpen=this.onClose=this.onReady=this.onStart=this.onStartFailed=this.onCancelled=this.onEnd=this.onSuspend=this.onResume=this.onRestore=this.onOpenNewWindow=this.onCloseNewWindow=this.onAgentConnected=this.onAgentDisconnected=this.onUpdateI18nMessages=this.onMessageAdded=this.onSessionEnded=function(){};ot()}function liveChat(){$("#genesys-chat-screen").css({display:"block"})}function _LiveChatEvents(n,t){function e(){$("#genesys-start-chat, #genesys-in-chat, #genesys-end-chat").hide()}function h(n){var t=new Date,r,i;try{n&&(t=new Date(n))}catch(u){t=new Date}r=t.getHours();i=t.getMinutes();i<10&&(i="0"+i);try{n||(window.chatTimes.push(t.getTime()),browserStorage(!0).storeItem("window.chatTimes",JSON.stringify(window.chatTimes)))}catch(f){}return r+":"+i}function b(){$("#genesys-chat-minimize, #genesys-messgage-poll").unbind("click");$("#genesys-chat-minimize, #genesys-messgage-poll").click(function(){$("#genesys-messgage-poll-count").html("");$("#genesys-messgage-poll-count").hide();window.chatVisable?($("#form").show(),$("#genesys-chat-screen").hide(),$("#genesys-messgage-poll").show(),window.chatVisable=!1):($("#genesys-chat-screen").show(),$("#genesys-messgage-poll").hide(),l=0,window.chatVisable=!0,window.continueChatSession=!1);$("#genesys-chat-panel").scrollTop($("#genesys-messages").height())})}function k(){$("#genesys-messages").html("").append('<div class="agent-joined">'+r[language].chatAlternative+"<\/div>");_GlobalClickEvents().supportWindow()}function d(n,t){e();$("#genesys-start-chat").show();$("#genesys-chat-email");$("#genesys-chat-firstname");$("#genesys-close-end-chat-button").unbind("click");$("#genesys-close-end-chat-button").click(function(){$("#genesys-chat-screen, #genesys-messgage-poll").remove();_LiveChatEvents(n,t)});$("#genesys-chat-close").click(function(){s();allowScroll()});$("#genesys-start-chat").unbind("submit");$("#genesys-start-chat").submit(function(n){var u,t,e,s;if(n.preventDefault(),$("#genesys-start-button").prop("disabled")){console.log("Preventing duplicate sessions");return}if(u=browserStorage(!0).getItem("genesysChatParams"),u){i=JSON.parse(u);o(!0,!0);$("#genesys-start-chat").html("Already have a chat active");return}if($(".genesys-chat-error").hide(),t=$("#genesys-chat-firstname").val(),e=$("#genesys-chat-email").val(),!t||!t.match(w.firstname)){$("#genesys-chat-firstname").attr("placeholder",r[language].namePlaceholderRequired).addClass("required-input-field");return}$("#genesys-start-button").prop("disabled",!0);$("#genesys-start-button").html("<span class='text disabled'>Connecting<\/span>");s=i.requestPath+"request-chat";f.firstName=t;f.userDisplayName=t;f.email=e;f.subject=f.subject+t;$.ajax({type:"POST",contentType:"application/x-www-form-urlencoded",url:s,success:function(n){i.serviceId=n._id;g(f)},error:function(){$("#genesys-start-button").prop("disabled",!1)}})})}function g(){e();$("#genesys-in-chat").show();$("#genesys-message-send").css("opacity",.5);var n=i.requestPath+i.serviceId+"/ixn/chat?"+jQuery.param(f);$.ajax({type:"POST",contentType:"application/x-www-form-urlencoded",url:n,success:function(n){i.chatSessionId=n.chatSessionId;i.transcriptPosition=n.transcriptPosition;i.chatActive=!0;window.casinoChatIsActive=!0;browserStorage(!0).storeItem("genesysChatParams",JSON.stringify(i));v();setTimeout(o,2e3)},error:function(){k()}});$("#genesys-endchat-request").unbind("click");$("#genesys-endchat-request").click(function(n){n.preventDefault();s()})}function v(){$("#genesys-message-text").focus();$("#genesys-message-text").on("keypress",function(n){var t,r;if(window.allowChatSend)if(n.which===13)n.preventDefault(),$("#genesys-in-chat").submit(),$("#genesys-message-text").val("");else{if(t=$("#genesys-message-text").val(),t.length>0)return;r=i.requestPath+i.serviceId+"/ixn/chat/startTyping";$.ajax({type:"POST",url:r,contentType:"application/x-www-form-urlencoded",data:"",success:function(n){a(n)},error:function(){}})}});$("#genesys-in-chat").unbind("submit");$("#genesys-in-chat").submit(function(n){var t,r;(n.preventDefault(),window.allowChatSend)&&(t=$("#genesys-message-text").val(),$("#genesys-message-text").val(""),r=i.requestPath+i.serviceId+"/ixn/chat/send",t)&&$.ajax({type:"POST",url:r,contentType:"application/x-www-form-urlencoded",data:"message="+t,success:function(n){if(n.chatIxnState=="DISCONNECTED"){s();return}i.transcriptPosition=n.transcriptPosition;$("#genesys-messages").val("");a(n);$("#genesys-chat-panel").scrollTop($("#genesys-messages").height())},error:function(){}})})}function a(n,t){var u,f;if(n.chatIxnState=="DISCONNECTED"){s();return}if(n.transcriptToShow.length>0)for(window.continueChatSession||$("#genesys-messgage-poll-count").show().html(n.transcriptToShow.length),u=0;u<n.transcriptToShow.length;u++){f=null;try{t&&(f=window.chatTimes[u])}catch(e){}if(JSON.stringify(n.transcriptToShow[u])===i.messageState)return;i.messageState=JSON.stringify(n.transcriptToShow[u]);n.transcriptToShow[u][0]==="Message.Text"&&n.transcriptToShow[u][4]==="AGENT"?$("#genesys-messages").append('<div class="chatbox-cont"><div class="icon icon-float-left"><\/div><div class="chatbox chatbox-float-right">'+n.transcriptToShow[u][2]+'<\/div><div class="chat-time chat-time-align-right">'+r[language].today+" "+h(f)+"<\/div><\/div>"):n.transcriptToShow[u][0]==="Message.Text"&&n.transcriptToShow[u][4]==="EXTERNAL"?$("#genesys-messages").append('<div class="agent-joined">'+n.transcriptToShow[u][2]+"<\/div>"):n.transcriptToShow[u][0]==="Notice.Joined"&&n.transcriptToShow[u][4]==="AGENT"?(window.allowChatSend=!0,$("#genesys-message-send").css("opacity",1),$("#genesys-messages").append('<div class="agent-joined">'+n.transcriptToShow[u][1]+" "+r[language].joinedChat+" "+h(f)+"<\/div>")):n.transcriptToShow[u][0]==="Notice.Joined"&&n.transcriptToShow[u][4]==="SUPERVISOR"?(window.allowChatSend=!0,$("#genesys-message-send").css("opacity",1),$("#genesys-messages").append('<div class="agent-joined">'+n.transcriptToShow[u][1]+" "+r[language].joinedChat+" "+h(f)+"<\/div>")):n.transcriptToShow[u][0]==="Message.Text"&&n.transcriptToShow[u][4]==="CLIENT"&&$("#genesys-messages").append('<div class="chatbox-cont"><div class="icon icon-float-right"><\/div><div class="chatbox chatbox-float-left">'+n.transcriptToShow[u][2]+'<\/div><div class="chat-time chat-time-align-left">'+r[language].today+" "+h(f)+"<\/div><\/div>");$("#genesys-chat-panel").scrollTop($("#genesys-messages").height())}i.transcriptPosition=n.transcriptPosition}function o(n,t){if(i.chatActive){var r=i.requestPath+i.serviceId+"/ixn/chat/refresh?&transcriptPosition="+i.transcriptPosition;$.ajax({type:"POST",url:r,contentType:"application/x-www-form-urlencoded",success:function(i){a(i,n);t||setTimeout(o,5e3)},error:function(n){n&&n.responseText&&(n.responseText.indexOf("disconnected")>-1||n.responseText.indexOf("ResourceNotFoundException"))&&s();t||setTimeout(o,5e3)}})}}function s(){var n=i.requestPath+i.serviceId+"/ixn/chat/disconnect";i.chatActive?($("#genesys-chat-minimize, #genesys-chat-close").unbind("click"),$("#genesys-chat-minimize, #genesys-chat-close").click(function(n){n.preventDefault();$("#genesys-close-end-chat-button").click()}),$.ajax({type:"post",url:n,contentType:"application/x-www-form-urlencoded",success:function(){i.chatActive=!1;window.casinoChatIsActive=!1;$("#messages").empty();e();$("#genesys-end-chat").show();browserStorage(!0).removeItem("genesysChatParams");browserStorage(!0).removeItem("window.chatTimes")},error:function(){i.chatActive=!1;window.casinoChatIsActive=!1;e();$("#genesys-end-chat").show();browserStorage(!0).removeItem("genesysChatParams");browserStorage(!0).removeItem("window.chatTimes")}})):$("#genesys-chat-minimize").click()}var u="",l;switch(t){case"KE":country="kenya";u="K";break;case"UG":country="uganda";u="U";break;case"GH":country="ghana";u="G";break;case"ZA":country="southafrica";u="SA";break;case"NG":country="nigeria";u="N";break;case"ZM":country="zambia";u="Z";break;default:country="kenya";u="K"}var y="betway"+country,c=0;c=c;var f={subject:"BrandCode:BW"+u+"||LanguageCode:en||IsMobile:false||AccountNumber:||Skill:"+y+"||CasinoID:"+c+"||CountryCode:||IPAddress:||IsLoggedIn:||AccountId:||Name:",firstName:"",lastName:"",email:"",userDisplayName:""},i={requestPath:"https://chatv1.dmgamingsystems.com/genesys/1/service/",serviceId:null,chatSessionId:null,transcriptPosition:null,chatActive:!1,messageId:null,messageState:null},r={en:{liveChatHeading:"Live Chat",welcomeText:"Welcome to Live Chat, please provide the following information:",namePlaceholder:"Name *",namePlaceholderRequired:"Name is required *",emailPlacholder:"Email",startChatButton:"Start chat",availableAgent:"Please wait while we connect you with an agent",enterText:"Enter text here",sendButton:"Send",chatDisconnected:"Chat disconnected",chatDisconnectedText:"Your chat has ended, thanks for contacting Betway helpdesk.",closeChatButton:"Close Chat",today:"Today",joinedChat:"has joined the session at",chatSendError:"There was an error while sending your message, please try again.",chatAlternative:'Unfortunately live chat is unavailable at this time, please use an alternative means of contacting the helpdesk <a href="#" api-launch-support-window="api-launch-support-window">here<\/a>'}};language="en";var p='<div id="genesys-chat-screen" class=""><div id="genesys-chat-heading">'+r[language].liveChatHeading+'<div id="genesys-chat-close"><\/div><div id="genesys-chat-minimize"><\/div><\/div><div id="genesys-chat-screen-inner"><form id="genesys-start-chat"><div id="genesys-chat-start-text"><p>'+r[language].welcomeText+'<\/p><\/div><div><label for="genesys-chat-firstname"><input type="text" id="genesys-chat-firstname" name="genesys-chat-firstname" placeholder="'+r[language].namePlaceholder+'" /><\/label><\/div><div><label for="genesys-chat-email"><input type="email" id="genesys-chat-email" name="genesys-chat-email" placeholder="'+r[language].emailPlacholder+'" /><\/label><\/div><div><button role="button" class="button-element" id="genesys-start-button"><span class="text">'+r[language].startChatButton+'<\/span><\/button><\/div><\/form><form id="genesys-in-chat"><div id="genesys-chat-panel"><div id="genesys-messages"><div class="agent-joined">'+r[language].availableAgent+'<\/div><\/div><\/div><div id="genesys-messgage-panel" class="'+language+'-textarea"><textarea type="text" id="genesys-message-text" name="genesys-message-text" placeholder="'+r[language].enterText+'"><\/textarea><button class="button-element" id="genesys-message-send"><span class="text">'+r[language].sendButton+'<\/span><\/button><\/div><\/form><div id="genesys-end-chat"><div><p><strong>'+r[language].chatDisconnected+"<\/strong><\/p><p>"+r[language].chatDisconnectedText+'<\/p><button class="button-element" id="genesys-close-end-chat-button"><span class="text">'+r[language].closeChatButton+'<\/span><\/button><\/div><\/div><div id="genesys-clear"><\/div><\/div><\/div>',w={firstname:/^[\w\s]+$/};window.chatTimes=[];l=0;this.initiate=function(){$("#form").show();window.chatVisable=!1;i.serviceId=null;i.chatSessionId=null;i.transcriptPosition=null;i.chatActive=!1;i.messageId=null;$("body").append(p);d(n,t);b();var r=browserStorage(!0).getItem("genesysChatParams");if(r){window.continueChatSession=!0;i=JSON.parse(r);e();$("#genesys-in-chat").show();try{window.chatTimes=JSON.parse(browserStorage(!0).getItem("window.chatTimes"));browserStorage(!0).removeItem("window.chatTimes")}catch(u){}o(!0);v();window.casinoChatIsActive=!0;isMobileDevice||($("#genesys-messgage-poll-count").html(""),$("#genesys-messgage-poll-count").hide(),isMobileDevice&&$("#form").hide(),window.chatVisable?($("#form").show(),$("#genesys-chat-screen").hide(),$("#genesys-messgage-poll").show(),window.chatVisable=!1):($("#genesys-chat-screen").show(),$("#genesys-messgage-poll").hide(),l=0,window.chatVisable=!0,window.continueChatSession=!1));$("#genesys-chat-panel").scrollTop($("#genesys-messages").height())}};this.initiate()}function getInboxCount(){shouldCheckInbox()&&getInboxCountAjax()}function shouldCheckInbox(){var n=sessionStorage.getItem("inbox_next_check"),t=Math.round((new Date).getTime()),i=t+6e4;return n==null||n==undefined||t>=parseFloat(n)?(sessionStorage.setItem("inbox_next_check",i),!0):!1}function getInboxCountAjax(){console.log("inboxCount");pat.get("/Account/InboxCount").done(function(n){SetMessageCount(n)})}function SetMessageCount(n){document.getElementById("messageCountBadge")!==null&&(document.getElementById("messageCountBadge").innerHTML=n);document.getElementById("messageCountBadgeMobile")!==null&&(document.getElementById("messageCountBadgeMobile").innerHTML=n);document.getElementById("messageCountBadgeFooter")!==null&&(document.getElementById("messageCountBadgeFooter").innerHTML=n)}function getInboxCountOpera(){pat.get("/Account/InboxCount").done(function(){document.getElementById("operaButton")!==null&&(document.getElementById("operaButton").style.backgroundColor="red")})}function openMessageModal(){typeof document.getElementById("myModal")=="undefined"||document.getElementById("myModal")===null?($("#askLoginModal").modal("show"),$(".modal-backdrop").css("z-index","-1"),$("html").addClass("modal-open"),closeOverlay()):pat.get("/Account/InboxMessages").done(function(n){if(typeof document.getElementById("myModal")!="undefined"&&document.getElementById("myModal")!==null){document.getElementById("myModal").innerHTML=n;$("#myModal").on("hidden.bs.modal",function(){$("html").removeClass("modal-open")});$(".modal-backdrop").css("z-index","999");$("html").addClass("modal-open")}closeOverlay()})}function refreshInboxMessages(){pat.get("/Account/_SmsMessages").done(function(n){document.getElementById("subsection")!==null&&(document.getElementById("subsection").innerHTML=n)})}function refreshInboxMessagesModal(){pat.get("/Account/InboxMessages").done(function(n){$(".modal-body")!==null&&(document.getElementById("myModal").innerHTML=n)})}function readMessage(n,t,i,r,u,f){if(f){closeOverlay();return}pat.post("/Account/UpdateMessage",{accountId:n,ReadMessage:t}).done(function(){var t,f,n;if(!r&&!u)for(t=document.getElementById("head-"+i),f=null,n=0;n<t.childNodes.length;n++)if(typeof t.childNodes[n].nextElementSibling!="undefined"&&t.childNodes[n].nextElementSibling!==null&&t.childNodes[n].nextElementSibling.className.toLowerCase().indexOf("label-warning")>=0){f=t.childNodes[n].nextElementSibling;f.className="label label-success";f.innerHTML="Read";break}getInboxCountAjax()});closeOverlay()}function deleteMessage(n,t,i,r,u){pat.post("/Account/DeleteMessage",{accountId:n,ReadMessage:t}).done(function(){var t,f,n;if(r||u)location.reload();else for(t=document.getElementById("head-"+i),f=null,n=0;n<t.childNodes.length;n++)if(typeof t.childNodes[n].nextElementSibling!="undefined"&&t.childNodes[n].nextElementSibling!==null&&t.childNodes[n].nextElementSibling.className.toLowerCase().indexOf("label")>=0){f=t.childNodes[n].nextElementSibling;f.className="label label-danger";f.innerHTML="Deleted";$("#confirm-"+i).modal("hide");break}getInboxCount()});closeOverlay()}function loadInboxPage(n){pat.post("/Account/LoadInboxPage",{direction:n}).done(function(){refreshInboxMessages()})}function loadInboxPageModal(n){pat.post("/Account/LoadInboxPage",{direction:n}).done(function(){refreshInboxMessagesModal()})}function confirmDelete(n,t){n.stopPropagation();$("#confirm-"+t).modal("show");$(".modal-backdrop").css("z-index","999")}function getMenuControls(){pat.get("/SideMenu/GetSideMenuControls").done(function(n){$("#sideMenuControls").html(n)})}function getMenuContent(n,t){showOverlay();pat.post("/SideMenu/GetSideMenuContent",{renderPartial:n}).done(function(n){$("#desktopLogin").html(n);$(".btnMenuBtn").removeClass("active");$(".btnMenu"+t).addClass("active");$("#LoginModal").modal();closeOverlay()})}function getMenuOptions(n,t){pat.post("/SideMenu/GetSideMenuContent",{renderPartial:n}).done(function(n){$("#sideMenuContent").html(n);$(".btnMenuBtn").removeClass("active");$(".btnMenu"+t).addClass("active")})}function getMenuBottomNav(){pat.post("/SideMenu/GetSideMenuBottomNav").done(function(n){$("#sideMenuBottomNav").html(n)})}function closeMenu(){$("#my-menu").fadeOut("fast");var n=$("#my-menu").data("mmenu");n.close()}function openMenu(n,t){$("#vbDiv").fadeOut("fast");$("#my-menu").fadeIn("fast");getMenuControls();getMenuOptions(n,t);getMenuBottomNav();var i=$("#my-menu").data("mmenu");i.open()}function closeMenu(){$("#vbDiv").fadeIn(1500);anchorToTop();$("#my-menu").fadeOut("fast");var n=$("#my-menu").data("mmenu");n.close();$("html").removeClass("modal-open")}function openWidgetFlyout(){$(".widget-flyout").show().animate({width:"452px"}).css({display:"flex"});$(".widget-flyout-div").fadeIn("slow");$("#overlay1").fadeIn("slow")}function closeWidgetFlyout(){$(".widget-flyout-div").hide();$(".widget-flyout").animate({width:"0px"}).fadeOut("fast");$("#overlay1").fadeOut("fast");$("html").removeClass("modal-open");refreshAngles()}function widgetSearch(n,t){showOverlay();pat.post("/Widget/DoSearch",{keyword:t}).done(function(t){openWidgetFlyout();$(".widget-flyout-header").text(n);$(".widget-flyout-content").html(t);$("html").animate({scrollTop:"0"});closeOverlay()});$("html").addClass("modal-open")}function widgetModalSearch(n,t){showOverlay();$(".ModalSearchResults").html("Loading Content...").css({color:"white","padding-left":"5%","margin-top":"63px"});pat.post("/Widget/DoSearch",{keyword:t}).done(function(n){$(".ModalSearchResults").css({"background-color":"white","padding-left":"5%","padding-right":"5%",color:"black","margin-top":"68px"}).html(n);closeOverlay()})}function getFlyoutEvents(n,t,i,r,u,f){$("#"+t).hasClass("fa-angle-right")?(showOverlay(),pat.post("/Widget/getFlyoutEvents",{widgetType:n,groupedLayout:r,QueryDate:u,HeaderStyling:f}).done(function(r){openWidgetFlyout();refreshAngles();$("#"+t).removeClass("fa-angle-right").addClass("fa-angle-left");$(".widget-flyout-header").text(i);$(".widget-flyout-content").html(r);$("html").addClass("modal-open");n==2?$("#widgetCloseIcon").attr("src","/Images/Shared/menu/Exit_IconDG.PNG"):$("#widgetCloseIcon").attr("src","/Images/Shared/menu/CloseIcon.svg");closeOverlay()})):closeWidgetFlyout()}function getModalEvents(n,t,i,r,u){showOverlay();$(".widget-flyout-header").text(t);$(".widget-flyout-header-div").css({"margin-bottom":"10px"});$(".widgetModalContent").css({"padding-left":"5%","background-color":"white"}).html("Loading Content...");pat.post("/Widget/getFlyoutEvents",{widgetType:n,groupedLayout:i,QueryDate:r,HeaderStyling:u}).done(function(t){$(".widgetModalContent").css({"background-color":"white","padding-left":"5%","padding-right":"5%","padding-bottom":"50px"}).html(t);n==2?$("#widgetCloseIcon").attr("src","/Images/Shared/menu/Exit_IconDG.PNG"):$("#widgetCloseIcon").attr("src","/Images/Shared/menu/CloseIcon.svg");$("#widgetModal").show();closeOverlay()});$("html").addClass("modal-open")}function renderSearchPartial(n,t){showOverlay();pat.post("/Widget/renderSearchPartial").done(function(i){$(".widget-flyout-header-div").css({"background-color":"#585858",color:"white","margin-bottom":"0px"});$(".widget-flyout-header").text(n).css(t);$(".widgetModalContent").css({"background-color":"#ffffff","padding-left":"0%","padding-right":"0%"}).html(i);$("#widgetModal").show();closeOverlay()});$("html").addClass("modal-open")}function replaceFlyoutContentByDate(n,t,i){pat.post("/Widget/getFlyoutEvents",{widgetType:n,groupedLayout:t,QueryDate:i}).done(function(n){$(".widgetModalContent")!==null&&typeof $(".widgetModalContent")!="undefined"&&$(".widgetModalContent").is(":visible")?$(".widgetModalContent").html(n):$(".widget-flyout-content").html(n)})}function refreshAngles(){$(".widget-angle").removeClass("fa-angle-left").removeClass("fa-angle-right").addClass("fa-angle-right")}function goToEntity(n,t,i){n.preventDefault();window.location.href="/Bet/EventMultiMarket?eventId="+t+"&marketTypeCategoryId="+i}function toggleMobileModal(){$(".mobileWidgetDiv").is(":visible")?($(".mobileWidgetDiv").fadeOut("slow"),$("#widgetModal").fadeOut("slow"),$(".mobileWidgetBtn").text("Search"),$(".mobileWidgetBtnIcon").removeClass("glyphicon-remove").addClass("glyphicon-plus"),allowScroll()):($(".mobileWidgetDiv").fadeIn("fast"),$(".mobileWidgetBtn").text("Close "),$(".mobileWidgetBtnIcon").removeClass("glyphicon-plus").addClass("glyphicon-remove"),$(".mobileWidgetDiv").css("background-color","white"),$(".mobileWidgetDiv").css("width","100%"),$("#widgetModal").css("height","calc(100% - 50px)"),renderSearchPartial("Search","{'background-color':'gray','color':'white'}"),$("html").addClass("modal-open"))}function getBsCheckboxValues(){for(var t,i=[],r=document.getElementsByClassName("bs-checkbox"),n=0;n<r.length;n++)t=r[n].getElementsByClassName("chk-free-bet")[0],t.type==="checkbox"?i.push(t.checked):"";return i}function openStatsModal(n,t){n.stopPropagation();$("#"+t).modal("show")}function toggleAllMarkets(){$(".toggleMarketBtnText").text()==="Expand All"?($(".marketDiv").collapse("show"),$(".toggleMarketBtnText").text("Collapse All"),$(".toggleMarketBtnIcon").removeClass("glyphicon-plus").addClass("glyphicon-minus"),$(".title-arrow").removeClass("fa-chevron-down").addClass("fa-chevron-up")):($(".marketDiv").collapse("hide"),$(".toggleMarketBtnText").text("Expand All"),$(".toggleMarketBtnIcon").removeClass("glyphicon-minus").addClass("glyphicon-plus"),$(".title-arrow").removeClass("fa-chevron-up").addClass("fa-chevron-down"))}function marketHeaderClick(n){$(".title-"+n).hasClass("fa-chevron-down")?$(".title-"+n).removeClass("fa-chevron-down").addClass("fa-chevron-up"):$(".title-"+n).removeClass("fa-chevron-up").addClass("fa-chevron-down");setTimeout(function(){var n=!1;$(".marketDiv").each(function(t,i){(i.className.indexOf("collapsing")>-1||i.className.indexOf("in")>-1)&&(n=!0)});n?($(".toggleMarketBtnText").text("Collapse All"),$(".toggleMarketBtnIcon").removeClass("glyphicon-plus").addClass("glyphicon-minus")):($(".toggleMarketBtnText").text("Expand All"),$(".toggleMarketBtnIcon").removeClass("glyphicon-minus").addClass("glyphicon-plus"))},500)}function expandDiv(n,t){$("."+n).outerHeight()!==t?($("."+n).animate({height:t},"slow"),$("."+n+"-arrow").removeClass("fa-angle-up").addClass("fa-angle-down")):($("."+n).css({height:"100%"}),$("."+n+"-arrow").removeClass("fa-angle-down").addClass("fa-angle-up"))}var runBetslipScript,betslipItem,betslipBuilder,promptFICANotification,pat,isMultiMixMarket,gax,addedToBetSlip,multiBet,singleBet,betAmount,totalAmount,currencyCode,freeBet,coupon;if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(n){"use strict";var t=n.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1||t[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4");}(jQuery);+function(n){"use strict";function t(){var i=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var t in n)if(void 0!==i.style[t])return{end:n[t]};return!1}n.fn.emulateTransitionEnd=function(t){var i=!1,u=this,r;n(this).one("bsTransitionEnd",function(){i=!0});return r=function(){i||n(u).trigger(n.support.transition.end)},setTimeout(r,t),this};n(function(){n.support.transition=t();n.support.transition&&(n.event.special.bsTransitionEnd={bindType:n.support.transition.end,delegateType:n.support.transition.end,handle:function(t){if(n(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery);+function(n){"use strict";function u(i){return this.each(function(){var r=n(this),u=r.data("bs.alert");u||r.data("bs.alert",u=new t(this));"string"==typeof i&&u[i].call(r)})}var i='[data-dismiss="alert"]',t=function(t){n(t).on("click",i,this.close)},r;t.VERSION="3.3.7";t.TRANSITION_DURATION=150;t.prototype.close=function(i){function e(){r.detach().trigger("closed.bs.alert").remove()}var f=n(this),u=f.attr("data-target"),r;u||(u=f.attr("href"),u=u&&u.replace(/.*(?=#[^\s]*$)/,""));r=n("#"===u?[]:u);i&&i.preventDefault();r.length||(r=f.closest(".alert"));r.trigger(i=n.Event("close.bs.alert"));i.isDefaultPrevented()||(r.removeClass("in"),n.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",e).emulateTransitionEnd(t.TRANSITION_DURATION):e())};r=n.fn.alert;n.fn.alert=u;n.fn.alert.Constructor=t;n.fn.alert.noConflict=function(){return n.fn.alert=r,this};n(document).on("click.bs.alert.data-api",i,t.prototype.close)}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.button"),f="object"==typeof i&&i;r||u.data("bs.button",r=new t(this,f));"toggle"==i?r.toggle():i&&r.setState(i)})}var t=function(i,r){this.$element=n(i);this.options=n.extend({},t.DEFAULTS,r);this.isLoading=!1},r;t.VERSION="3.3.7";t.DEFAULTS={loadingText:"loading..."};t.prototype.setState=function(t){var i="disabled",r=this.$element,f=r.is("input")?"val":"html",u=r.data();t+="Text";null==u.resetText&&r.data("resetText",r[f]());setTimeout(n.proxy(function(){r[f](null==u[t]?this.options[t]:u[t]);"loadingText"==t?(this.isLoading=!0,r.addClass(i).attr(i,i).prop(i,!0)):this.isLoading&&(this.isLoading=!1,r.removeClass(i).removeAttr(i).prop(i,!1))},this),0)};t.prototype.toggle=function(){var t=!0,i=this.$element.closest('[data-toggle="buttons"]'),n;i.length?(n=this.$element.find("input"),"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),i.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")):(this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active"))};r=n.fn.button;n.fn.button=i;n.fn.button.Constructor=t;n.fn.button.noConflict=function(){return n.fn.button=r,this};n(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var r=n(t.target).closest(".btn");i.call(r,"toggle");n(t.target).is('input[type="radio"], input[type="checkbox"]')||(t.preventDefault(),r.is("input,button")?r.trigger("focus"):r.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){n(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.carousel"),f=n.extend({},t.DEFAULTS,u.data(),"object"==typeof i&&i),e="string"==typeof i?i:f.slide;r||u.data("bs.carousel",r=new t(this,f));"number"==typeof i?r.to(i):e?r[e]():f.interval&&r.pause().cycle()})}var t=function(t,i){this.$element=n(t);this.$indicators=this.$element.find(".carousel-indicators");this.options=i;this.paused=null;this.sliding=null;this.interval=null;this.$active=null;this.$items=null;this.options.keyboard&&this.$element.on("keydown.bs.carousel",n.proxy(this.keydown,this));"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",n.proxy(this.pause,this)).on("mouseleave.bs.carousel",n.proxy(this.cycle,this))},u,r;t.VERSION="3.3.7";t.TRANSITION_DURATION=600;t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0};t.prototype.keydown=function(n){if(!/input|textarea/i.test(n.target.tagName)){switch(n.which){case 37:this.prev();break;case 39:this.next();break;default:return}n.preventDefault()}};t.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(n.proxy(this.next,this),this.options.interval)),this};t.prototype.getItemIndex=function(n){return this.$items=n.parent().children(".item"),this.$items.index(n||this.$active)};t.prototype.getItemForDirection=function(n,t){var i=this.getItemIndex(t),f="prev"==n&&0===i||"next"==n&&i==this.$items.length-1,r,u;return f&&!this.options.wrap?t:(r="prev"==n?-1:1,u=(i+r)%this.$items.length,this.$items.eq(u))};t.prototype.to=function(n){var i=this,t=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(n>this.$items.length-1||n<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){i.to(n)}):t==n?this.pause().cycle():this.slide(n>t?"next":"prev",this.$items.eq(n))};t.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&n.support.transition&&(this.$element.trigger(n.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this};t.prototype.next=function(){if(!this.sliding)return this.slide("next")};t.prototype.prev=function(){if(!this.sliding)return this.slide("prev")};t.prototype.slide=function(i,r){var e=this.$element.find(".item.active"),u=r||this.getItemForDirection(i,e),l=this.interval,f="next"==i?"left":"right",a=this,o,s,h,c;return u.hasClass("active")?this.sliding=!1:(o=u[0],s=n.Event("slide.bs.carousel",{relatedTarget:o,direction:f}),(this.$element.trigger(s),!s.isDefaultPrevented())?((this.sliding=!0,l&&this.pause(),this.$indicators.length)&&(this.$indicators.find(".active").removeClass("active"),h=n(this.$indicators.children()[this.getItemIndex(u)]),h&&h.addClass("active")),c=n.Event("slid.bs.carousel",{relatedTarget:o,direction:f}),n.support.transition&&this.$element.hasClass("slide")?(u.addClass(i),u[0].offsetWidth,e.addClass(f),u.addClass(f),e.one("bsTransitionEnd",function(){u.removeClass([i,f].join(" ")).addClass("active");e.removeClass(["active",f].join(" "));a.sliding=!1;setTimeout(function(){a.$element.trigger(c)},0)}).emulateTransitionEnd(t.TRANSITION_DURATION)):(e.removeClass("active"),u.addClass("active"),this.sliding=!1,this.$element.trigger(c)),l&&this.cycle(),this):void 0)};u=n.fn.carousel;n.fn.carousel=i;n.fn.carousel.Constructor=t;n.fn.carousel.noConflict=function(){return n.fn.carousel=u,this};r=function(t){var o,r=n(this),u=n(r.attr("data-target")||(o=r.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,"")),e,f;u.hasClass("carousel")&&(e=n.extend({},u.data(),r.data()),f=r.attr("data-slide-to"),f&&(e.interval=!1),i.call(u,e),f&&u.data("bs.carousel").to(f),t.preventDefault())};n(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r);n(window).on("load",function(){n('[data-ride="carousel"]').each(function(){var t=n(this);i.call(t,t.data())})})}(jQuery);+function(n){"use strict";function r(t){var i,r=t.attr("data-target")||(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return n(r)}function i(i){return this.each(function(){var u=n(this),r=u.data("bs.collapse"),f=n.extend({},t.DEFAULTS,u.data(),"object"==typeof i&&i);!r&&f.toggle&&/show|hide/.test(i)&&(f.toggle=!1);r||u.data("bs.collapse",r=new t(this,f));"string"==typeof i&&r[i]()})}var t=function(i,r){this.$element=n(i);this.options=n.extend({},t.DEFAULTS,r);this.$trigger=n('[data-toggle="collapse"][href="#'+i.id+'"],[data-toggle="collapse"][data-target="#'+i.id+'"]');this.transitioning=null;this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger);this.options.toggle&&this.toggle()},u;t.VERSION="3.3.7";t.TRANSITION_DURATION=350;t.DEFAULTS={toggle:!0};t.prototype.dimension=function(){var n=this.$element.hasClass("width");return n?"width":"height"};t.prototype.show=function(){var f,r,e,u,o,s;if(!this.transitioning&&!this.$element.hasClass("in")&&(r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing"),!(r&&r.length&&(f=r.data("bs.collapse"),f&&f.transitioning))&&(e=n.Event("show.bs.collapse"),this.$element.trigger(e),!e.isDefaultPrevented()))){if(r&&r.length&&(i.call(r,"hide"),f||r.data("bs.collapse",null)),u=this.dimension(),this.$element.removeClass("collapse").addClass("collapsing")[u](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1,o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[u]("");this.transitioning=0;this.$element.trigger("shown.bs.collapse")},!n.support.transition)return o.call(this);s=n.camelCase(["scroll",u].join("-"));this.$element.one("bsTransitionEnd",n.proxy(o,this)).emulateTransitionEnd(t.TRANSITION_DURATION)[u](this.$element[0][s])}};t.prototype.hide=function(){var r,i,u;if(!this.transitioning&&this.$element.hasClass("in")&&(r=n.Event("hide.bs.collapse"),this.$element.trigger(r),!r.isDefaultPrevented()))return i=this.dimension(),this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1,u=function(){this.transitioning=0;this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")},n.support.transition?void this.$element[i](0).one("bsTransitionEnd",n.proxy(u,this)).emulateTransitionEnd(t.TRANSITION_DURATION):u.call(this)};t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};t.prototype.getParent=function(){return n(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(n.proxy(function(t,i){var u=n(i);this.addAriaAndCollapsedClass(r(u),u)},this)).end()};t.prototype.addAriaAndCollapsedClass=function(n,t){var i=n.hasClass("in");n.attr("aria-expanded",i);t.toggleClass("collapsed",!i).attr("aria-expanded",i)};u=n.fn.collapse;n.fn.collapse=i;n.fn.collapse.Constructor=t;n.fn.collapse.noConflict=function(){return n.fn.collapse=u,this};n(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var u=n(this);u.attr("data-target")||t.preventDefault();var f=r(u),e=f.data("bs.collapse"),o=e?"toggle":u.data();i.call(f,o)})}(jQuery);+function(n){"use strict";function r(t){var i=t.attr("data-target"),r;return i||(i=t.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),r=i&&n(i),r&&r.length?r:t.parent()}function u(t){t&&3===t.which||(n(o).remove(),n(i).each(function(){var u=n(this),i=r(u),f={relatedTarget:this};i.hasClass("open")&&(t&&"click"==t.type&&/input|textarea/i.test(t.target.tagName)&&n.contains(i[0],t.target)||(i.trigger(t=n.Event("hide.bs.dropdown",f)),t.isDefaultPrevented()||(u.attr("aria-expanded","false"),i.removeClass("open").trigger(n.Event("hidden.bs.dropdown",f)))))}))}function e(i){return this.each(function(){var r=n(this),u=r.data("bs.dropdown");u||r.data("bs.dropdown",u=new t(this));"string"==typeof i&&u[i].call(r)})}var o=".dropdown-backdrop",i='[data-toggle="dropdown"]',t=function(t){n(t).on("click.bs.dropdown",this.toggle)},f;t.VERSION="3.3.7";t.prototype.toggle=function(t){var f=n(this),i,o,e;if(!f.is(".disabled, :disabled")){if(i=r(f),o=i.hasClass("open"),u(),!o){if("ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length&&n(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(n(this)).on("click",u),e={relatedTarget:this},i.trigger(t=n.Event("show.bs.dropdown",e)),t.isDefaultPrevented())return;f.trigger("focus").attr("aria-expanded","true");i.toggleClass("open").trigger(n.Event("shown.bs.dropdown",e))}return!1}};t.prototype.keydown=function(t){var e,o,s,h,f,u;if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)&&(e=n(this),t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled"))){if(o=r(e),s=o.hasClass("open"),!s&&27!=t.which||s&&27==t.which)return 27==t.which&&o.find(i).trigger("focus"),e.trigger("click");h=" li:not(.disabled):visible a";f=o.find(".dropdown-menu"+h);f.length&&(u=f.index(t.target),38==t.which&&u>0&&u--,40==t.which&&u<f.length-1&&u++,~u||(u=0),f.eq(u).trigger("focus"))}};f=n.fn.dropdown;n.fn.dropdown=e;n.fn.dropdown.Constructor=t;n.fn.dropdown.noConflict=function(){return n.fn.dropdown=f,this};n(document).on("click.bs.dropdown.data-api",u).on("click.bs.dropdown.data-api",".dropdown form",function(n){n.stopPropagation()}).on("click.bs.dropdown.data-api",i,t.prototype.toggle).on("keydown.bs.dropdown.data-api",i,t.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",t.prototype.keydown)}(jQuery);+function(n){"use strict";function i(i,r){return this.each(function(){var f=n(this),u=f.data("bs.modal"),e=n.extend({},t.DEFAULTS,f.data(),"object"==typeof i&&i);u||f.data("bs.modal",u=new t(this,e));"string"==typeof i?u[i](r):e.show&&u.show(r)})}var t=function(t,i){this.options=i;this.$body=n(document.body);this.$element=n(t);this.$dialog=this.$element.find(".modal-dialog");this.$backdrop=null;this.isShown=null;this.originalBodyPad=null;this.scrollbarWidth=0;this.ignoreBackdropClick=!1;this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,n.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))},r;t.VERSION="3.3.7";t.TRANSITION_DURATION=300;t.BACKDROP_TRANSITION_DURATION=150;t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};t.prototype.toggle=function(n){return this.isShown?this.hide():this.show(n)};t.prototype.show=function(i){var r=this,u=n.Event("show.bs.modal",{relatedTarget:i});this.$element.trigger(u);this.isShown||u.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',n.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){r.$element.one("mouseup.dismiss.bs.modal",function(t){n(t.target).is(r.$element)&&(r.ignoreBackdropClick=!0)})}),this.backdrop(function(){var f=n.support.transition&&r.$element.hasClass("fade"),u;r.$element.parent().length||r.$element.appendTo(r.$body);r.$element.show().scrollTop(0);r.adjustDialog();f&&r.$element[0].offsetWidth;r.$element.addClass("in");r.enforceFocus();u=n.Event("shown.bs.modal",{relatedTarget:i});f?r.$dialog.one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(u)}).emulateTransitionEnd(t.TRANSITION_DURATION):r.$element.trigger("focus").trigger(u)}))};t.prototype.hide=function(i){i&&i.preventDefault();i=n.Event("hide.bs.modal");this.$element.trigger(i);this.isShown&&!i.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),n(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),n.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",n.proxy(this.hideModal,this)).emulateTransitionEnd(t.TRANSITION_DURATION):this.hideModal())};t.prototype.enforceFocus=function(){n(document).off("focusin.bs.modal").on("focusin.bs.modal",n.proxy(function(n){document===n.target||this.$element[0]===n.target||this.$element.has(n.target).length||this.$element.trigger("focus")},this))};t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",n.proxy(function(n){27==n.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")};t.prototype.resize=function(){this.isShown?n(window).on("resize.bs.modal",n.proxy(this.handleUpdate,this)):n(window).off("resize.bs.modal")};t.prototype.hideModal=function(){var n=this;this.$element.hide();this.backdrop(function(){n.$body.removeClass("modal-open");n.resetAdjustments();n.resetScrollbar();n.$element.trigger("hidden.bs.modal")})};t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};t.prototype.backdrop=function(i){var e=this,f=this.$element.hasClass("fade")?"fade":"",r,u;if(this.isShown&&this.options.backdrop){if(r=n.support.transition&&f,this.$backdrop=n(document.createElement("div")).addClass("modal-backdrop "+f).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",n.proxy(function(n){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(n.target===n.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!i)return;r?this.$backdrop.one("bsTransitionEnd",i).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):i()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),u=function(){e.removeBackdrop();i&&i()},n.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",u).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):u()):i&&i()};t.prototype.handleUpdate=function(){this.adjustDialog()};t.prototype.adjustDialog=function(){var n=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&n?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!n?this.scrollbarWidth:""})};t.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})};t.prototype.checkScrollbar=function(){var n=window.innerWidth,t;n||(t=document.documentElement.getBoundingClientRect(),n=t.right-Math.abs(t.left));this.bodyIsOverflowing=document.body.clientWidth<n;this.scrollbarWidth=this.measureScrollbar()};t.prototype.setScrollbar=function(){var n=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";this.bodyIsOverflowing&&this.$body.css("padding-right",n+this.scrollbarWidth)};t.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)};t.prototype.measureScrollbar=function(){var n=document.createElement("div"),t;return n.className="modal-scrollbar-measure",this.$body.append(n),t=n.offsetWidth-n.clientWidth,this.$body[0].removeChild(n),t};r=n.fn.modal;n.fn.modal=i;n.fn.modal.Constructor=t;n.fn.modal.noConflict=function(){return n.fn.modal=r,this};n(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var r=n(this),f=r.attr("href"),u=n(r.attr("data-target")||f&&f.replace(/.*(?=#[^\s]+$)/,"")),e=u.data("bs.modal")?"toggle":n.extend({remote:!/#/.test(f)&&f},u.data(),r.data());r.is("a")&&t.preventDefault();u.one("show.bs.modal",function(n){n.isDefaultPrevented()||u.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})});i.call(u,e,this)})}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var u=n(this),r=u.data("bs.tooltip"),f="object"==typeof i&&i;!r&&/destroy|hide/.test(i)||(r||u.data("bs.tooltip",r=new t(this,f)),"string"==typeof i&&r[i]())})}var t=function(n,t){this.type=null;this.options=null;this.enabled=null;this.timeout=null;this.hoverState=null;this.$element=null;this.inState=null;this.init("tooltip",n,t)},i;t.VERSION="3.3.7";t.TRANSITION_DURATION=150;t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"><\/div><div class="tooltip-inner"><\/div><\/div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}};t.prototype.init=function(t,i,r){var f,e,u,o,s;if(this.enabled=!0,this.type=t,this.$element=n(i),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&n(n.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(f=this.options.trigger.split(" "),e=f.length;e--;)if(u=f[e],"click"==u)this.$element.on("click."+this.type,this.options.selector,n.proxy(this.toggle,this));else"manual"!=u&&(o="hover"==u?"mouseenter":"focusin",s="hover"==u?"mouseleave":"focusout",this.$element.on(o+"."+this.type,this.options.selector,n.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,n.proxy(this.leave,this)));this.options.selector?this._options=n.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.getOptions=function(t){return t=n.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t};t.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&n.each(this._options,function(n,r){i[n]!=r&&(t[n]=r)}),t};t.prototype.enter=function(t){var i=t instanceof this.constructor?t:n(t.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)),t instanceof n.Event&&(i.inState["focusin"==t.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())};t.prototype.isInStateTrue=function(){for(var n in this.inState)if(this.inState[n])return!0;return!1};t.prototype.leave=function(t){var i=t instanceof this.constructor?t:n(t.currentTarget).data("bs."+this.type);if(i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)),t instanceof n.Event&&(i.inState["focusout"==t.type?"focus":"hover"]=!1),!i.isInStateTrue())return clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()};t.prototype.show=function(){var c=n.Event("show.bs."+this.type),l,p,e,w,h;if(this.hasContent()&&this.enabled){if(this.$element.trigger(c),l=n.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]),c.isDefaultPrevented()||!l)return;var u=this,r=this.tip(),a=this.getUID(this.type);this.setContent();r.attr("id",a);this.$element.attr("aria-describedby",a);this.options.animation&&r.addClass("fade");var i="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,v=/\s?auto?\s?/i,y=v.test(i);y&&(i=i.replace(v,"")||"top");r.detach().css({top:0,left:0,display:"block"}).addClass(i).data("bs."+this.type,this);this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element);this.$element.trigger("inserted.bs."+this.type);var f=this.getPosition(),o=r[0].offsetWidth,s=r[0].offsetHeight;y&&(p=i,e=this.getPosition(this.$viewport),i="bottom"==i&&f.bottom+s>e.bottom?"top":"top"==i&&f.top-s<e.top?"bottom":"right"==i&&f.right+o>e.width?"left":"left"==i&&f.left-o<e.left?"right":i,r.removeClass(p).addClass(i));w=this.getCalculatedOffset(i,f,o,s);this.applyPlacement(w,i);h=function(){var n=u.hoverState;u.$element.trigger("shown.bs."+u.type);u.hoverState=null;"out"==n&&u.leave(u)};n.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",h).emulateTransitionEnd(t.TRANSITION_DURATION):h()}};t.prototype.applyPlacement=function(t,i){var r=this.tip(),l=r[0].offsetWidth,e=r[0].offsetHeight,o=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10),h,f,u;isNaN(o)&&(o=0);isNaN(s)&&(s=0);t.top+=o;t.left+=s;n.offset.setOffset(r[0],n.extend({using:function(n){r.css({top:Math.round(n.top),left:Math.round(n.left)})}},t),0);r.addClass("in");h=r[0].offsetWidth;f=r[0].offsetHeight;"top"==i&&f!=e&&(t.top=t.top+e-f);u=this.getViewportAdjustedDelta(i,t,h,f);u.left?t.left+=u.left:t.top+=u.top;var c=/top|bottom/.test(i),a=c?2*u.left-l+h:2*u.top-e+f,v=c?"offsetWidth":"offsetHeight";r.offset(t);this.replaceArrow(a,r[0][v],c)};t.prototype.replaceArrow=function(n,t,i){this.arrow().css(i?"left":"top",50*(1-n/t)+"%").css(i?"top":"left","")};t.prototype.setContent=function(){var n=this.tip(),t=this.getTitle();n.find(".tooltip-inner")[this.options.html?"html":"text"](t);n.removeClass("fade in top bottom left right")};t.prototype.hide=function(i){function f(){"in"!=r.hoverState&&u.detach();r.$element&&r.$element.removeAttr("aria-describedby").trigger("hidden.bs."+r.type);i&&i()}var r=this,u=n(this.$tip),e=n.Event("hide.bs."+this.type);if(this.$element.trigger(e),!e.isDefaultPrevented())return u.removeClass("in"),n.support.transition&&u.hasClass("fade")?u.one("bsTransitionEnd",f).emulateTransitionEnd(t.TRANSITION_DURATION):f(),this.hoverState=null,this};t.prototype.fixTitle=function(){var n=this.$element;(n.attr("title")||"string"!=typeof n.attr("data-original-title"))&&n.attr("data-original-title",n.attr("title")||"").attr("title","")};t.prototype.hasContent=function(){return this.getTitle()};t.prototype.getPosition=function(t){t=t||this.$element;var r=t[0],u="BODY"==r.tagName,i=r.getBoundingClientRect();null==i.width&&(i=n.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var f=window.SVGElement&&r instanceof window.SVGElement,e=u?{top:0,left:0}:f?null:t.offset(),o={scroll:u?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},s=u?{width:n(window).width(),height:n(window).height()}:null;return n.extend({},i,o,s,e)};t.prototype.getCalculatedOffset=function(n,t,i,r){return"bottom"==n?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==n?{top:t.top-r,left:t.left+t.width/2-i/2}:"left"==n?{top:t.top+t.height/2-r/2,left:t.left-i}:{top:t.top+t.height/2-r/2,left:t.left+t.width}};t.prototype.getViewportAdjustedDelta=function(n,t,i,r){var f={top:0,left:0},e,u,o,s,h,c;return this.$viewport?(e=this.options.viewport&&this.options.viewport.padding||0,u=this.getPosition(this.$viewport),/right|left/.test(n)?(o=t.top-e-u.scroll,s=t.top+e-u.scroll+r,o<u.top?f.top=u.top-o:s>u.top+u.height&&(f.top=u.top+u.height-s)):(h=t.left-e,c=t.left+e+i,h<u.left?f.left=u.left-h:c>u.right&&(f.left=u.left+u.width-c)),f):f};t.prototype.getTitle=function(){var t=this.$element,n=this.options;return t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)};t.prototype.getUID=function(n){do n+=~~(1e6*Math.random());while(document.getElementById(n));return n};t.prototype.tip=function(){if(!this.$tip&&(this.$tip=n(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};t.prototype.enable=function(){this.enabled=!0};t.prototype.disable=function(){this.enabled=!1};t.prototype.toggleEnabled=function(){this.enabled=!this.enabled};t.prototype.toggle=function(t){var i=this;t&&(i=n(t.currentTarget).data("bs."+this.type),i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)));t?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)};t.prototype.destroy=function(){var n=this;clearTimeout(this.timeout);this.hide(function(){n.$element.off("."+n.type).removeData("bs."+n.type);n.$tip&&n.$tip.detach();n.$tip=null;n.$arrow=null;n.$viewport=null;n.$element=null})};i=n.fn.tooltip;n.fn.tooltip=r;n.fn.tooltip.Constructor=t;n.fn.tooltip.noConflict=function(){return n.fn.tooltip=i,this}}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var u=n(this),r=u.data("bs.popover"),f="object"==typeof i&&i;!r&&/destroy|hide/.test(i)||(r||u.data("bs.popover",r=new t(this,f)),"string"==typeof i&&r[i]())})}var t=function(n,t){this.init("popover",n,t)},i;if(!n.fn.tooltip)throw new Error("Popover requires tooltip.js");t.VERSION="3.3.7";t.DEFAULTS=n.extend({},n.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"><\/div><h3 class="popover-title"><\/h3><div class="popover-content"><\/div><\/div>'});t.prototype=n.extend({},n.fn.tooltip.Constructor.prototype);t.prototype.constructor=t;t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.setContent=function(){var n=this.tip(),i=this.getTitle(),t=this.getContent();n.find(".popover-title")[this.options.html?"html":"text"](i);n.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof t?"html":"append":"text"](t);n.removeClass("fade top bottom left right in");n.find(".popover-title").html()||n.find(".popover-title").hide()};t.prototype.hasContent=function(){return this.getTitle()||this.getContent()};t.prototype.getContent=function(){var t=this.$element,n=this.options;return t.attr("data-content")||("function"==typeof n.content?n.content.call(t[0]):n.content)};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};i=n.fn.popover;n.fn.popover=r;n.fn.popover.Constructor=t;n.fn.popover.noConflict=function(){return n.fn.popover=i,this}}(jQuery);+function(n){"use strict";function t(i,r){this.$body=n(document.body);this.$scrollElement=n(n(i).is(document.body)?window:i);this.options=n.extend({},t.DEFAULTS,r);this.selector=(this.options.target||"")+" .nav li > a";this.offsets=[];this.targets=[];this.activeTarget=null;this.scrollHeight=0;this.$scrollElement.on("scroll.bs.scrollspy",n.proxy(this.process,this));this.refresh();this.process()}function i(i){return this.each(function(){var u=n(this),r=u.data("bs.scrollspy"),f="object"==typeof i&&i;r||u.data("bs.scrollspy",r=new t(this,f));"string"==typeof i&&r[i]()})}t.VERSION="3.3.7";t.DEFAULTS={offset:10};t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)};t.prototype.refresh=function(){var t=this,i="offset",r=0;this.offsets=[];this.targets=[];this.scrollHeight=this.getScrollHeight();n.isWindow(this.$scrollElement[0])||(i="position",r=this.$scrollElement.scrollTop());this.$body.find(this.selector).map(function(){var f=n(this),u=f.data("target")||f.attr("href"),t=/^#./.test(u)&&n(u);return t&&t.length&&t.is(":visible")&&[[t[i]().top+r,u]]||null}).sort(function(n,t){return n[0]-t[0]}).each(function(){t.offsets.push(this[0]);t.targets.push(this[1])})};t.prototype.process=function(){var n,i=this.$scrollElement.scrollTop()+this.options.offset,f=this.getScrollHeight(),e=this.options.offset+f-this.$scrollElement.height(),t=this.offsets,r=this.targets,u=this.activeTarget;if(this.scrollHeight!=f&&this.refresh(),i>=e)return u!=(n=r[r.length-1])&&this.activate(n);if(u&&i<t[0])return this.activeTarget=null,this.clear();for(n=t.length;n--;)u!=r[n]&&i>=t[n]&&(void 0===t[n+1]||i<t[n+1])&&this.activate(r[n])};t.prototype.activate=function(t){this.activeTarget=t;this.clear();var r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=n(r).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active"));i.trigger("activate.bs.scrollspy")};t.prototype.clear=function(){n(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=n.fn.scrollspy;n.fn.scrollspy=i;n.fn.scrollspy.Constructor=t;n.fn.scrollspy.noConflict=function(){return n.fn.scrollspy=r,this};n(window).on("load.bs.scrollspy.data-api",function(){n('[data-spy="scroll"]').each(function(){var t=n(this);i.call(t,t.data())})})}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var u=n(this),r=u.data("bs.tab");r||u.data("bs.tab",r=new t(this));"string"==typeof i&&r[i]()})}var t=function(t){this.element=n(t)},u,i;t.VERSION="3.3.7";t.TRANSITION_DURATION=150;t.prototype.show=function(){var t=this.element,f=t.closest("ul:not(.dropdown-menu)"),i=t.data("target"),u;if(i||(i=t.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var r=f.find(".active:last a"),e=n.Event("hide.bs.tab",{relatedTarget:t[0]}),o=n.Event("show.bs.tab",{relatedTarget:r[0]});(r.trigger(e),t.trigger(o),o.isDefaultPrevented()||e.isDefaultPrevented())||(u=n(i),this.activate(t.closest("li"),f),this.activate(u,u.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:t[0]});t.trigger({type:"shown.bs.tab",relatedTarget:r[0]})}))}};t.prototype.activate=function(i,r,u){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1);i.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0);o?(i[0].offsetWidth,i.addClass("in")):i.removeClass("fade");i.parent(".dropdown-menu").length&&i.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0);u&&u()}var f=r.find("> .active"),o=u&&n.support.transition&&(f.length&&f.hasClass("fade")||!!r.find("> .fade").length);f.length&&o?f.one("bsTransitionEnd",e).emulateTransitionEnd(t.TRANSITION_DURATION):e();f.removeClass("in")};u=n.fn.tab;n.fn.tab=r;n.fn.tab.Constructor=t;n.fn.tab.noConflict=function(){return n.fn.tab=u,this};i=function(t){t.preventDefault();r.call(n(this),"show")};n(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.affix"),f="object"==typeof i&&i;r||u.data("bs.affix",r=new t(this,f));"string"==typeof i&&r[i]()})}var t=function(i,r){this.options=n.extend({},t.DEFAULTS,r);this.$target=n(this.options.target).on("scroll.bs.affix.data-api",n.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",n.proxy(this.checkPositionWithEventLoop,this));this.$element=n(i);this.affixed=null;this.unpin=null;this.pinnedOffset=null;this.checkPosition()},r;t.VERSION="3.3.7";t.RESET="affix affix-top affix-bottom";t.DEFAULTS={offset:0,target:window};t.prototype.getState=function(n,t,i,r){var u=this.$target.scrollTop(),f=this.$element.offset(),e=this.$target.height();if(null!=i&&"top"==this.affixed)return u<i&&"top";if("bottom"==this.affixed)return null!=i?!(u+this.unpin<=f.top)&&"bottom":!(u+e<=n-r)&&"bottom";var o=null==this.affixed,s=o?u:f.top,h=o?e:t;return null!=i&&u<=i?"top":null!=r&&s+h>=n-r&&"bottom"};t.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(t.RESET).addClass("affix");var n=this.$target.scrollTop(),i=this.$element.offset();return this.pinnedOffset=i.top-n};t.prototype.checkPositionWithEventLoop=function(){setTimeout(n.proxy(this.checkPosition,this),1)};t.prototype.checkPosition=function(){var i,e,o;if(this.$element.is(":visible")){var s=this.$element.height(),r=this.options.offset,f=r.top,u=r.bottom,h=Math.max(n(document).height(),n(document.body).height());if("object"!=typeof r&&(u=f=r),"function"==typeof f&&(f=r.top(this.$element)),"function"==typeof u&&(u=r.bottom(this.$element)),i=this.getState(h,s,f,u),this.affixed!=i){if(null!=this.unpin&&this.$element.css("top",""),e="affix"+(i?"-"+i:""),o=n.Event(e+".bs.affix"),this.$element.trigger(o),o.isDefaultPrevented())return;this.affixed=i;this.unpin="bottom"==i?this.getPinnedOffset():null;this.$element.removeClass(t.RESET).addClass(e).trigger(e.replace("affix","affixed")+".bs.affix")}"bottom"==i&&this.$element.offset({top:h-s-u})}};r=n.fn.affix;n.fn.affix=i;n.fn.affix.Constructor=t;n.fn.affix.noConflict=function(){return n.fn.affix=r,this};n(window).on("load",function(){n('[data-spy="affix"]').each(function(){var r=n(this),t=r.data();t.offset=t.offset||{};null!=t.offsetBottom&&(t.offset.bottom=t.offsetBottom);null!=t.offsetTop&&(t.offset.top=t.offsetTop);i.call(r,t)})})}(jQuery);!function(n){"use strict";n.matchMedia=n.matchMedia||function(n){var u,i=n.documentElement,f=i.firstElementChild||i.firstChild,r=n.createElement("body"),t=n.createElement("div");return t.id="mq-test-1",t.style.cssText="position:absolute;top:-100em",r.style.background="none",r.appendChild(t),function(n){return t.innerHTML='&shy;<style media="'+n+'"> #mq-test-1 { width: 42px; }<\/style>',i.insertBefore(r,f),u=42===t.offsetWidth,i.removeChild(r),{matches:u,media:n}}}(n.document)}(this),function(n){"use strict";function p(){y(!0)}var t={};n.respond=t;t.update=function(){};var f=[],tt=function(){var t=!1;try{t=new n.XMLHttpRequest}catch(i){t=new n.ActiveXObject("Microsoft.XMLHTTP")}return function(){return t}}(),w=function(n,t){var i=tt();i&&(i.open("GET",n,!0),i.onreadystatechange=function(){4!==i.readyState||200!==i.status&&304!==i.status||t(i.responseText)},4!==i.readyState&&i.send(null))};if(t.ajax=w,t.queue=f,t.regex={media:/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi,keyframes:/@(?:\-(?:o|moz|webkit)\-)?keyframes[^\{]+\{(?:[^\{\}]*\{[^\}\{]*\})+[^\}]*\}/gi,urls:/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,findStyles:/@media *([^\{]+)\{([\S\s]+?)$/,only:/(only\s+)?([a-zA-Z]+)\s?/,minw:/\([\s]*min\-width\s*:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/,maxw:/\([\s]*max\-width\s*:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/},t.mediaQueriesSupported=n.matchMedia&&null!==n.matchMedia("only all")&&n.matchMedia("only all").matches,!t.mediaQueriesSupported){var c,b,l,i=n.document,r=i.documentElement,e=[],o=[],u=[],a={},k=30,s=i.getElementsByTagName("head")[0]||r,it=i.getElementsByTagName("base")[0],h=s.getElementsByTagName("link"),v=function(){var u,t=i.createElement("div"),n=i.body,o=r.style.fontSize,e=n&&n.style.fontSize,f=!1;return t.style.cssText="position:absolute;font-size:1em;width:1em",n||(n=f=i.createElement("body"),n.style.background="none"),r.style.fontSize="100%",n.style.fontSize="100%",n.appendChild(t),f&&r.insertBefore(n,r.firstChild),u=t.offsetWidth,f?r.removeChild(n):n.removeChild(t),r.style.fontSize=o,e&&(n.style.fontSize=e),u=l=parseFloat(u)},y=function(t){var rt="clientWidth",ut=r[rt],ft="CSS1Compat"===i.compatMode&&ut||i.body[rt]||ut,p={},ct=h[h.length-1],et=(new Date).getTime(),tt,g,nt,f,it;if(t&&c&&k>et-c)return n.clearTimeout(b),b=n.setTimeout(y,k),void 0;c=et;for(tt in e)if(e.hasOwnProperty(tt)){var a=e[tt],w=a.minw,d=a.maxw,ot=null===w,st=null===d,ht="em";w&&(w=parseFloat(w)*(w.indexOf(ht)>-1?l||v():1));d&&(d=parseFloat(d)*(d.indexOf(ht)>-1?l||v():1));a.hasquery&&(ot&&st||!(ot||ft>=w)||!(st||d>=ft))||(p[a.media]||(p[a.media]=[]),p[a.media].push(o[a.rules]))}for(g in u)u.hasOwnProperty(g)&&u[g]&&u[g].parentNode===s&&s.removeChild(u[g]);u.length=0;for(nt in p)p.hasOwnProperty(nt)&&(f=i.createElement("style"),it=p[nt].join("\n"),f.type="text/css",f.media=nt,s.insertBefore(f,ct.nextSibling),f.styleSheet?f.styleSheet.cssText=it:f.appendChild(i.createTextNode(it)),u.push(f))},d=function(n,i,r){var h=n.replace(t.regex.keyframes,"").match(t.regex.media),c=h&&h.length||0,l,a,f,v,u,p,w,s;for(i=i.substring(0,i.lastIndexOf("/")),l=function(n){return n.replace(t.regex.urls,"$1"+i+"$2$3")},a=!c&&r,i.length&&(i+="/"),a&&(c=1),f=0;c>f;f++)for(a?(v=r,o.push(l(n))):(v=h[f].match(t.regex.findStyles)&&RegExp.$1,o.push(RegExp.$2&&l(RegExp.$2))),p=v.split(","),w=p.length,s=0;w>s;s++)u=p[s],e.push({media:u.split("(")[0].match(t.regex.only)&&RegExp.$2||"all",rules:o.length-1,hasquery:u.indexOf("(")>-1,minw:u.match(t.regex.minw)&&parseFloat(RegExp.$1)+(RegExp.$2||""),maxw:u.match(t.regex.maxw)&&parseFloat(RegExp.$1)+(RegExp.$2||"")});y()},g=function(){if(f.length){var t=f.shift();w(t.href,function(i){d(i,t.href,t.media);a[t.href]=!0;n.setTimeout(function(){g()},0)})}},nt=function(){for(var r=0;r<h.length;r++){var i=h[r],t=i.href,u=i.media,e=i.rel&&"stylesheet"===i.rel.toLowerCase();t&&e&&!a[t]&&(i.styleSheet&&i.styleSheet.rawCssText?(d(i.styleSheet.rawCssText,t,u),a[t]=!0):(!/^([a-zA-Z:]*\/\/)/.test(t)&&!it||t.replace(RegExp.$1,"").split("/")[0]===n.location.host)&&("//"===t.substring(0,2)&&(t=n.location.protocol+t),f.push({href:t,media:u})))}g()};nt();t.update=nt;t.getEmValue=v;n.addEventListener?n.addEventListener("resize",p,!1):n.attachEvent&&n.attachEvent("onresize",p)}}(this);!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof exports?module.exports=n(require("jquery")):n(jQuery)}(function(n){function t(t){this.$element=n(t);this.$main=this.$element.closest(".dropdown, .dropup, .btn-group");this.$menu=this.$element.parent();this.$drop=this.$menu.parent().parent();this.$menus=this.$menu.siblings(".dropdown-submenu");var r=this.$menu.find("> .dropdown-menu > "+i);this.$submenus=r.filter(".dropdown-submenu");this.$items=r.not(".dropdown-submenu");this.init()}var i=":not(.disabled, .divider, .dropdown-header)";return t.prototype={init:function(){this.$element.on("click.bs.dropdown",this.click.bind(this));this.$element.keydown(this.keydown.bind(this));this.$menu.on("hide.bs.submenu",this.hide.bind(this));this.$items.keydown(this.item_keydown.bind(this));this.$menu.nextAll(i+":first:not(.dropdown-submenu)").children("a").keydown(this.next_keydown.bind(this))},click:function(n){n.stopPropagation();this.toggle()},toggle:function(){this.$menu.hasClass("open")?this.close():(this.$menu.addClass("open"),this.$menus.trigger("hide.bs.submenu"))},hide:function(n){n.stopPropagation();this.close()},close:function(){this.$menu.removeClass("open");this.$submenus.trigger("hide.bs.submenu")},keydown:function(n){if(/^(32|38|40)$/.test(n.keyCode)&&n.preventDefault(),/^(13|32)$/.test(n.keyCode))this.toggle();else if(/^(27|38|40)$/.test(n.keyCode))if(n.stopPropagation(),27==n.keyCode)this.$menu.hasClass("open")?this.close():(this.$menus.trigger("hide.bs.submenu"),this.$drop.removeClass("open").children("a").focus());else{var i=this.$main.find("li:not(.disabled):visible > a"),t=i.index(n.target);if(38==n.keyCode&&0!==t)t--;else{if(40!=n.keyCode||t===i.length-1)return;t++}i.eq(t).focus()}},item_keydown:function(n){27==n.keyCode&&(n.stopPropagation(),this.close(),this.$element.focus())},next_keydown:function(n){if(38==n.keyCode){n.preventDefault();n.stopPropagation();var t=this.$drop.find("li:not(.disabled):visible > a"),i=t.index(n.target);t.eq(i-1).focus()}}},n.fn.submenupicker=function(i){var r=this instanceof n?this:n(i);return r.each(function(){var i=n.data(this,"bs.submenu");i||(i=new t(this),n.data(this,"bs.submenu",i))})}});!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):n("object"==typeof exports?require("jquery"):jQuery)}(function(n,t){function u(){return new Date(Date.UTC.apply(Date,arguments))}function h(){var n=new Date;return u(n.getFullYear(),n.getMonth(),n.getDate())}function y(n,t){return n.getUTCFullYear()===t.getUTCFullYear()&&n.getUTCMonth()===t.getUTCMonth()&&n.getUTCDate()===t.getUTCDate()}function c(n){return function(){return this[n].apply(this,arguments)}}function p(n){return n&&!isNaN(n.getTime())}function w(t,i){function o(n,t){return t.toLowerCase()}var u,f=n(t).data(),e={},s=new RegExp("^"+i.toLowerCase()+"([A-Z])"),r;i=new RegExp("^"+i.toLowerCase());for(r in f)i.test(r)&&(u=r.replace(s,o),e[u]=f[r]);return e}function b(t){var u={},i;if(r[t]||(t=t.split("-")[0],r[t]))return i=r[t],n.each(v,function(n,t){t in i&&(u[t]=i[t])}),u}var l=function(){var t={get:function(n){return this.slice(n)[0]},contains:function(n){for(var i=n&&n.valueOf(),t=0,r=this.length;r>t;t++)if(this[t].valueOf()===i)return t;return-1},remove:function(n){this.splice(n,1)},replace:function(t){t&&(n.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.length=0},copy:function(){var n=new l;return n.replace(this),n}};return function(){var i=[];return i.push.apply(i,arguments),n.extend(i,t),i}}(),f=function(t,r){n(t).data("datepicker",this);this._process_options(r);this.dates=new l;this.viewDate=this.o.defaultViewDate;this.focusDate=null;this.element=n(t);this.isInput=this.element.is("input");this.inputField=this.isInput?this.element:this.element.find("input");this.component=this.element.hasClass("date")?this.element.find(".add-on, .input-group-addon, .btn"):!1;this.hasInput=this.component&&this.inputField.length;this.component&&0===this.component.length&&(this.component=!1);this.isInline=!this.component&&this.element.is("div");this.picker=n(i.template);this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow);this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow);this._buildEvents();this._attachEvents();this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu");this.o.rtl&&this.picker.addClass("datepicker-rtl");this.viewMode=this.o.startView;this.o.calendarWeeks&&this.picker.find("thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(n,t){return parseInt(t)+1});this._allow_update=!1;this.setStartDate(this._o.startDate);this.setEndDate(this._o.endDate);this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);this.setDaysOfWeekHighlighted(this.o.daysOfWeekHighlighted);this.setDatesDisabled(this.o.datesDisabled);this.fillDow();this.fillMonths();this._allow_update=!0;this.update();this.showMode();this.isInline&&this.show()},o,a,e,s,v,r,i;f.prototype={constructor:f,_resolveViewName:function(n,i){return 0===n||"days"===n||"month"===n?0:1===n||"months"===n||"year"===n?1:2===n||"years"===n||"decade"===n?2:3===n||"decades"===n||"century"===n?3:4===n||"centuries"===n||"millennium"===n?4:i===t?!1:i},_check_template:function(i){try{if(i===t||""===i)return!1;if((i.match(/[<>]/g)||[]).length<=0)return!0;var r=n(i);return r.length>0}catch(u){return!1}},_process_options:function(t){var f,o,l,e,c;if(this._o=n.extend({},this._o,t),f=this.o=n.extend({},this._o),o=f.language,r[o]||(o=o.split("-")[0],r[o]||(o=s.language)),f.language=o,f.startView=this._resolveViewName(f.startView,0),f.minViewMode=this._resolveViewName(f.minViewMode,0),f.maxViewMode=this._resolveViewName(f.maxViewMode,4),f.startView=Math.min(f.startView,f.maxViewMode),f.startView=Math.max(f.startView,f.minViewMode),f.multidate!==!0&&(f.multidate=Number(f.multidate)||!1,f.multidate!==!1&&(f.multidate=Math.max(0,f.multidate))),f.multidateSeparator=String(f.multidateSeparator),f.weekStart%=7,f.weekEnd=(f.weekStart+6)%7,l=i.parseFormat(f.format),f.startDate!==-(1/0)&&(f.startDate=f.startDate?f.startDate instanceof Date?this._local_to_utc(this._zero_time(f.startDate)):i.parseDate(f.startDate,l,f.language,f.assumeNearbyYear):-(1/0)),f.endDate!==1/0&&(f.endDate=f.endDate?f.endDate instanceof Date?this._local_to_utc(this._zero_time(f.endDate)):i.parseDate(f.endDate,l,f.language,f.assumeNearbyYear):1/0),f.daysOfWeekDisabled=f.daysOfWeekDisabled||[],n.isArray(f.daysOfWeekDisabled)||(f.daysOfWeekDisabled=f.daysOfWeekDisabled.split(/[,\s]*/)),f.daysOfWeekDisabled=n.map(f.daysOfWeekDisabled,function(n){return parseInt(n,10)}),f.daysOfWeekHighlighted=f.daysOfWeekHighlighted||[],n.isArray(f.daysOfWeekHighlighted)||(f.daysOfWeekHighlighted=f.daysOfWeekHighlighted.split(/[,\s]*/)),f.daysOfWeekHighlighted=n.map(f.daysOfWeekHighlighted,function(n){return parseInt(n,10)}),f.datesDisabled=f.datesDisabled||[],n.isArray(f.datesDisabled)||(f.datesDisabled=[f.datesDisabled]),f.datesDisabled=n.map(f.datesDisabled,function(n){return i.parseDate(n,l,f.language,f.assumeNearbyYear)}),e=String(f.orientation).toLowerCase().split(/\s+/g),c=f.orientation.toLowerCase(),e=n.grep(e,function(n){return/^auto|left|right|top|bottom$/.test(n)}),f.orientation={x:"auto",y:"auto"},c&&"auto"!==c)if(1===e.length)switch(e[0]){case"top":case"bottom":f.orientation.y=e[0];break;case"left":case"right":f.orientation.x=e[0]}else c=n.grep(e,function(n){return/^left|right$/.test(n)}),f.orientation.x=c[0]||"auto",c=n.grep(e,function(n){return/^top|bottom$/.test(n)}),f.orientation.y=c[0]||"auto";if(f.defaultViewDate){var a=f.defaultViewDate.year||(new Date).getFullYear(),v=f.defaultViewDate.month||0,y=f.defaultViewDate.day||1;f.defaultViewDate=u(a,v,y)}else f.defaultViewDate=h()},_events:[],_secondaryEvents:[],_applyEvents:function(n){for(var f,r,u,i=0;i<n.length;i++)f=n[i][0],2===n[i].length?(r=t,u=n[i][1]):3===n[i].length&&(r=n[i][1],u=n[i][2]),f.on(u,r)},_unapplyEvents:function(n){for(var f,r,u,i=0;i<n.length;i++)f=n[i][0],2===n[i].length?(u=t,r=n[i][1]):3===n[i].length&&(u=n[i][1],r=n[i][2]),f.off(r,u)},_buildEvents:function(){var t={keyup:n.proxy(function(t){-1===n.inArray(t.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:n.proxy(this.keydown,this),paste:n.proxy(this.paste,this)};this.o.showOnFocus===!0&&(t.focus=n.proxy(this.show,this));this._events=this.isInput?[[this.element,t]]:this.component&&this.hasInput?[[this.inputField,t],[this.component,{click:n.proxy(this.show,this)}]]:[[this.element,{click:n.proxy(this.show,this),keydown:n.proxy(this.keydown,this)}]];this._events.push([this.element,"*",{blur:n.proxy(function(n){this._focused_from=n.target},this)}],[this.element,{blur:n.proxy(function(n){this._focused_from=n.target},this)}]);this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":n.proxy(function(n){this.update(n.date)},this)}]);this._secondaryEvents=[[this.picker,{click:n.proxy(this.click,this)}],[n(window),{resize:n.proxy(this.place,this)}],[n(document),{mousedown:n.proxy(function(n){this.element.is(n.target)||this.element.find(n.target).length||this.picker.is(n.target)||this.picker.find(n.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents();this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,r){var u=r||this.dates.get(-1),f=this._utc_to_local(u);this.element.trigger({type:t,date:f,dates:n.map(this.dates,this._utc_to_local),format:n.proxy(function(n,t){0===arguments.length?(n=this.dates.length-1,t=this.o.format):"string"==typeof n&&(t=n,n=this.dates.length-1);t=t||this.o.format;var r=this.dates.get(n);return i.formatDate(r,t,this.o.language)},this)})},show:function(){if(!this.inputField.prop("disabled")&&(!this.inputField.prop("readonly")||this.o.enableOnReadonly!==!1))return(this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&n(this.element).blur(),this)},hide:function(){return this.isInline||!this.picker.is(":visible")?this:(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide"),this)},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(t){var i;if(t.originalEvent.clipboardData&&t.originalEvent.clipboardData.types&&-1!==n.inArray("text/plain",t.originalEvent.clipboardData.types))i=t.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;i=window.clipboardData.getData("Text")}this.setDate(i);this.update();t.preventDefault()},_utc_to_local:function(n){return n&&new Date(n.getTime()+6e4*n.getTimezoneOffset())},_local_to_utc:function(n){return n&&new Date(n.getTime()-6e4*n.getTimezoneOffset())},_zero_time:function(n){return n&&new Date(n.getFullYear(),n.getMonth(),n.getDate())},_zero_utc_time:function(n){return n&&new Date(Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()))},getDates:function(){return n.map(this.dates,this._utc_to_local)},getUTCDates:function(){return n.map(this.dates,function(n){return new Date(n)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var n=this.dates.get(-1);return"undefined"!=typeof n?new Date(n):null},clearDates:function(){this.inputField&&this.inputField.val("");this.update();this._trigger("changeDate");this.o.autoclose&&this.hide()},setDates:function(){var t=n.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var t=n.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,n.map(t,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:c("setDates"),setUTCDate:c("setUTCDates"),remove:c("destroy"),setValue:function(){var n=this.getFormattedDate();return this.inputField.val(n),this},getFormattedDate:function(r){r===t&&(r=this.o.format);var u=this.o.language;return n.map(this.dates,function(n){return i.formatDate(n,r,u)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(n){return this._process_options({startDate:n}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(n){return this._process_options({endDate:n}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(n){return this._process_options({daysOfWeekDisabled:n}),this.update(),this.updateNavArrows(),this},setDaysOfWeekHighlighted:function(n){return this._process_options({daysOfWeekHighlighted:n}),this.update(),this},setDatesDisabled:function(n){this._process_options({datesDisabled:n});this.update();this.updateNavArrows()},place:function(){var y,r,p;if(this.isInline)return this;var f=this.picker.outerWidth(),s=this.picker.outerHeight(),e=n(this.o.container),h=e.width(),c="body"===this.o.container?n(document).scrollTop():e.scrollTop(),l=e.offset(),a=[];this.element.parents().each(function(){var t=n(this).css("z-index");"auto"!==t&&0!==t&&a.push(parseInt(t))});var v=Math.max.apply(Math,a)+this.o.zIndexOffset,u=this.component?this.component.parent().offset():this.element.offset(),w=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),o=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),t=u.left-l.left,i=u.top-l.top;return"body"!==this.o.container&&(i+=c),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(t-=f-o)):u.left<0?(this.picker.addClass("datepicker-orient-left"),t-=u.left-10):t+f>h?(this.picker.addClass("datepicker-orient-right"),t+=o-f):this.picker.addClass("datepicker-orient-left"),r=this.o.orientation.y,("auto"===r&&(y=-c+i-s,r=0>y?"bottom":"top"),this.picker.addClass("datepicker-orient-"+r),"top"===r?i-=s+parseInt(this.picker.css("padding-top")):i+=w,this.o.rtl)?(p=h-(t+o),this.picker.css({top:i,right:p,zIndex:v})):this.picker.css({top:i,left:t,zIndex:v}),this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var r=this.dates.copy(),t=[],u=!1;return arguments.length?(n.each(arguments,n.proxy(function(n,i){i instanceof Date&&(i=this._local_to_utc(i));t.push(i)},this)),u=!0):(t=this.isInput?this.element.val():this.element.data("date")||this.inputField.val(),t=t&&this.o.multidate?t.split(this.o.multidateSeparator):[t],delete this.element.data().date),t=n.map(t,n.proxy(function(n){return i.parseDate(n,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),t=n.grep(t,n.proxy(function(n){return!this.dateWithinRange(n)||!n},this),!0),this.dates.replace(t),this.viewDate=this.dates.length?new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?new Date(this.o.startDate):this.viewDate>this.o.endDate?new Date(this.o.endDate):this.o.defaultViewDate,u?this.setValue():t.length&&String(r)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&r.length&&this._trigger("clearDate"),this.fill(),this.element.change(),this},fillDow:function(){var i=this.o.weekStart,t="<tr>";for(this.o.calendarWeeks&&(this.picker.find(".datepicker-days .datepicker-switch").attr("colspan",function(n,t){return parseInt(t)+1}),t+='<th class="cw">&#160;<\/th>');i<this.o.weekStart+7;)t+='<th class="dow',n.inArray(i,this.o.daysOfWeekDisabled)>-1&&(t+=" disabled"),t+='">'+r[this.o.language].daysMin[i++%7]+"<\/th>";t+="<\/tr>";this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){for(var u,t=this._utc_to_local(this.viewDate),i="",n=0;12>n;)u=t&&t.getMonth()===n?" focused":"",i+='<span class="month'+u+'">'+r[this.o.language].monthsShort[n++]+"<\/span>";this.picker.find(".datepicker-months td").html(i)},setRange:function(t){t&&t.length?this.range=n.map(t,function(n){return n.valueOf()}):delete this.range;this.fill()},getClassNames:function(t){var i=[],r=this.viewDate.getUTCFullYear(),f=this.viewDate.getUTCMonth(),u=new Date;return t.getUTCFullYear()<r||t.getUTCFullYear()===r&&t.getUTCMonth()<f?i.push("old"):(t.getUTCFullYear()>r||t.getUTCFullYear()===r&&t.getUTCMonth()>f)&&i.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&i.push("focused"),this.o.todayHighlight&&t.getUTCFullYear()===u.getFullYear()&&t.getUTCMonth()===u.getMonth()&&t.getUTCDate()===u.getDate()&&i.push("today"),-1!==this.dates.contains(t)&&i.push("active"),this.dateWithinRange(t)||i.push("disabled"),this.dateIsDisabled(t)&&i.push("disabled","disabled-date"),-1!==n.inArray(t.getUTCDay(),this.o.daysOfWeekHighlighted)&&i.push("highlighted"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&i.push("range"),-1!==n.inArray(t.valueOf(),this.range)&&i.push("selected"),t.valueOf()===this.range[0]&&i.push("range-start"),t.valueOf()===this.range[this.range.length-1]&&i.push("range-end")),i},_fill_yearsView:function(i,r,u,f,e,o,s,h){var w,b,y,k,d,g,a,v,l,p,c;for(w="",b=this.picker.find(i),y=parseInt(e/u,10)*u,d=parseInt(o/f,10)*f,g=parseInt(s/f,10)*f,k=n.map(this.dates,function(n){return parseInt(n.getUTCFullYear()/f,10)*f}),b.find(".datepicker-switch").text(y+"-"+(y+9*f)),a=y-f,v=-1;11>v;v+=1)l=[r],p=null,-1===v?l.push("old"):10===v&&l.push("new"),-1!==n.inArray(a,k)&&l.push("active"),(d>a||a>g)&&l.push("disabled"),a===this.viewDate.getFullYear()&&l.push("focused"),h!==n.noop&&(c=h(new Date(a,0,1)),c===t?c={}:"boolean"==typeof c?c={enabled:c}:"string"==typeof c&&(c={classes:c}),c.enabled===!1&&l.push("disabled"),c.classes&&(l=l.concat(c.classes.split(/\s+/))),c.tooltip&&(p=c.tooltip)),w+='<span class="'+l.join(" ")+'"'+(p?' title="'+p+'"':"")+">"+a+"<\/span>",a+=f;b.find("td").html(w)},fill:function(){var y,e,p=new Date(this.viewDate),o=p.getUTCFullYear(),k=p.getUTCMonth(),a=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),it=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),v=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,rt=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,ut=r[this.o.language].today||r.en.today||"",ft=r[this.o.language].clear||r.en.clear||"",et=r[this.o.language].titleFormat||r.en.titleFormat,f,w,h,s,c,nt,l,tt;if(!isNaN(o)&&!isNaN(k)){for(this.picker.find(".datepicker-days .datepicker-switch").text(i.formatDate(p,et,this.o.language)),this.picker.find("tfoot .today").text(ut).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot .clear").text(ft).toggle(this.o.clearBtn!==!1),this.picker.find("thead .datepicker-title").text(this.o.title).toggle(""!==this.o.title),this.updateNavArrows(),this.fillMonths(),f=u(o,k-1,28),w=i.getDaysInMonth(f.getUTCFullYear(),f.getUTCMonth()),f.setUTCDate(w),f.setUTCDate(w-(f.getUTCDay()-this.o.weekStart+7)%7),h=new Date(f),f.getUTCFullYear()<100&&h.setUTCFullYear(f.getUTCFullYear()),h.setUTCDate(h.getUTCDate()+42),h=h.valueOf(),c=[];f.valueOf()<h;){if(f.getUTCDay()===this.o.weekStart&&(c.push("<tr>"),this.o.calendarWeeks)){var d=new Date(+f+(this.o.weekStart-f.getUTCDay()-7)%7*864e5),g=new Date(Number(d)+(11-d.getUTCDay())%7*864e5),b=new Date(Number(b=u(g.getUTCFullYear(),0,1))+(11-b.getUTCDay())%7*864e5),ot=(g-b)/6048e5+1;c.push('<td class="cw">'+ot+"<\/td>")}s=this.getClassNames(f);s.push("day");this.o.beforeShowDay!==n.noop&&(e=this.o.beforeShowDay(this._utc_to_local(f)),e===t?e={}:"boolean"==typeof e?e={enabled:e}:"string"==typeof e&&(e={classes:e}),e.enabled===!1&&s.push("disabled"),e.classes&&(s=s.concat(e.classes.split(/\s+/))),e.tooltip&&(y=e.tooltip));s=n.unique(s);c.push('<td class="'+s.join(" ")+'"'+(y?' title="'+y+'"':"")+">"+f.getUTCDate()+"<\/td>");y=null;f.getUTCDay()===this.o.weekEnd&&c.push("<\/tr>");f.setUTCDate(f.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(c.join(""));nt=r[this.o.language].monthsTitle||r.en.monthsTitle||"Months";l=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?nt:o).end().find("span").removeClass("active");(n.each(this.dates,function(n,t){t.getUTCFullYear()===o&&l.eq(t.getUTCMonth()).addClass("active")}),(a>o||o>v)&&l.addClass("disabled"),o===a&&l.slice(0,it).addClass("disabled"),o===v&&l.slice(rt+1).addClass("disabled"),this.o.beforeShowMonth!==n.noop)&&(tt=this,n.each(l,function(i,r){var f=new Date(o,i,1),u=tt.o.beforeShowMonth(f);u===t?u={}:"boolean"==typeof u?u={enabled:u}:"string"==typeof u&&(u={classes:u});u.enabled!==!1||n(r).hasClass("disabled")||n(r).addClass("disabled");u.classes&&n(r).addClass(u.classes);u.tooltip&&n(r).prop("title",u.tooltip)}));this._fill_yearsView(".datepicker-years","year",10,1,o,a,v,this.o.beforeShowYear);this._fill_yearsView(".datepicker-decades","decade",100,10,o,a,v,this.o.beforeShowDecade);this._fill_yearsView(".datepicker-centuries","century",1e3,100,o,a,v,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),n=t.getUTCFullYear(),i=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-(1/0)&&n<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"});this.o.endDate!==1/0&&n>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:case 3:case 4:this.o.startDate!==-(1/0)&&n<=this.o.startDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"});this.o.endDate!==1/0&&n>=this.o.endDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(t){var r,c,o,e,f,s,l,a;t.preventDefault();t.stopPropagation();r=n(t.target);r.hasClass("datepicker-switch")&&this.showMode(1);a=r.closest(".prev, .next");a.length>0&&(c=i.modes[this.viewMode].navStep*(a.hasClass("prev")?-1:1),0===this.viewMode?(this.viewDate=this.moveMonth(this.viewDate,c),this._trigger("changeMonth",this.viewDate)):(this.viewDate=this.moveYear(this.viewDate,c),1===this.viewMode&&this._trigger("changeYear",this.viewDate)),this.fill());r.hasClass("today")&&!r.hasClass("day")&&(this.showMode(-2),this._setDate(h(),"linked"===this.o.todayBtn?null:"view"));r.hasClass("clear")&&this.clearDates();r.hasClass("disabled")||(r.hasClass("day")&&(o=parseInt(r.text(),10)||1,e=this.viewDate.getUTCFullYear(),f=this.viewDate.getUTCMonth(),r.hasClass("old")&&(0===f?(f=11,e-=1,s=!0,l=!0):(f-=1,s=!0)),r.hasClass("new")&&(11===f?(f=0,e+=1,s=!0,l=!0):(f+=1,s=!0)),this._setDate(u(e,f,o)),l&&this._trigger("changeYear",this.viewDate),s&&this._trigger("changeMonth",this.viewDate)),r.hasClass("month")&&(this.viewDate.setUTCDate(1),o=1,f=r.parent().find("span").index(r),e=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(f),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode?(this._setDate(u(e,f,o)),this.showMode()):this.showMode(-1),this.fill()),(r.hasClass("year")||r.hasClass("decade")||r.hasClass("century"))&&(this.viewDate.setUTCDate(1),o=1,f=0,e=parseInt(r.text(),10)||0,this.viewDate.setUTCFullYear(e),r.hasClass("year")&&(this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(u(e,f,o))),r.hasClass("decade")&&(this._trigger("changeDecade",this.viewDate),3===this.o.minViewMode&&this._setDate(u(e,f,o))),r.hasClass("century")&&(this._trigger("changeCentury",this.viewDate),4===this.o.minViewMode&&this._setDate(u(e,f,o))),this.showMode(-1),this.fill()));this.picker.is(":visible")&&this._focused_from&&n(this._focused_from).focus();delete this._focused_from},_toggle_multidate:function(n){var t=this.dates.contains(n);if(n||this.dates.clear(),-1!==t?(this.o.multidate===!0||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(t):this.o.multidate===!1?(this.dates.clear(),this.dates.push(n)):this.dates.push(n),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(n,t){t&&"date"!==t||this._toggle_multidate(n&&new Date(n));t&&"view"!==t||(this.viewDate=n&&new Date(n));this.fill();this.setValue();t&&"view"===t||this._trigger("changeDate");this.inputField&&this.inputField.change();!this.o.autoclose||t&&"date"!==t||this.hide()},moveDay:function(n,t){var i=new Date(n);return i.setUTCDate(n.getUTCDate()+t),i},moveWeek:function(n,t){return this.moveDay(n,7*t)},moveMonth:function(n,t){var f;if(!p(n))return this.o.defaultViewDate;if(!t)return n;var r,u,i=new Date(n.valueOf()),e=i.getUTCDate(),o=i.getUTCMonth(),s=Math.abs(t);if(t=t>0?1:-1,1===s)u=-1===t?function(){return i.getUTCMonth()===o}:function(){return i.getUTCMonth()!==r},r=o+t,i.setUTCMonth(r),(0>r||r>11)&&(r=(r+12)%12);else{for(f=0;s>f;f++)i=this.moveMonth(i,t);r=i.getUTCMonth();i.setUTCDate(e);u=function(){return r!==i.getUTCMonth()}}for(;u();)i.setUTCDate(--e),i.setUTCMonth(r);return i},moveYear:function(n,t){return this.moveMonth(n,12*t)},moveAvailableDate:function(n,t,i){do{if(n=this[i](n,t),!this.dateWithinRange(n))return!1;i="moveDay"}while(this.dateIsDisabled(n));return n},weekOfDateIsDisabled:function(t){return-1!==n.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(t){return this.weekOfDateIsDisabled(t)||n.grep(this.o.datesDisabled,function(n){return y(t,n)}).length>0},dateWithinRange:function(n){return n>=this.o.startDate&&n<=this.o.endDate},keydown:function(n){if(!this.picker.is(":visible"))return void((40===n.keyCode||27===n.keyCode)&&(this.show(),n.stopPropagation()));var t,i,u=!1,r=this.focusDate||this.viewDate;switch(n.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide();n.preventDefault();n.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;t=37===n.keyCode||38===n.keyCode?-1:1;0===this.viewMode?n.ctrlKey?(i=this.moveAvailableDate(r,t,"moveYear"),i&&this._trigger("changeYear",this.viewDate)):n.shiftKey?(i=this.moveAvailableDate(r,t,"moveMonth"),i&&this._trigger("changeMonth",this.viewDate)):37===n.keyCode||39===n.keyCode?i=this.moveAvailableDate(r,t,"moveDay"):this.weekOfDateIsDisabled(r)||(i=this.moveAvailableDate(r,t,"moveWeek")):1===this.viewMode?((38===n.keyCode||40===n.keyCode)&&(t=4*t),i=this.moveAvailableDate(r,t,"moveMonth")):2===this.viewMode&&((38===n.keyCode||40===n.keyCode)&&(t=4*t),i=this.moveAvailableDate(r,t,"moveYear"));i&&(this.focusDate=this.viewDate=i,this.setValue(),this.fill(),n.preventDefault());break;case 13:if(!this.o.forceParse)break;r=this.focusDate||this.dates.get(-1)||this.viewDate;this.o.keyboardNavigation&&(this._toggle_multidate(r),u=!0);this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.setValue();this.fill();this.picker.is(":visible")&&(n.preventDefault(),n.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.fill();this.hide()}u&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField&&this.inputField.change())},showMode:function(n){n&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,this.viewMode+n)));this.picker.children("div").hide().filter(".datepicker-"+i.modes[this.viewMode].clsName).show();this.updateNavArrows()}};o=function(t,i){n(t).data("datepicker",this);this.element=n(t);this.inputs=n.map(i.inputs,function(n){return n.jquery?n[0]:n});delete i.inputs;e.call(n(this.inputs),i).on("changeDate",n.proxy(this.dateUpdated,this));this.pickers=n.map(this.inputs,function(t){return n(t).data("datepicker")});this.updateDates()};o.prototype={updateDates:function(){this.dates=n.map(this.pickers,function(n){return n.getUTCDate()});this.updateRanges()},updateRanges:function(){var t=n.map(this.dates,function(n){return n.valueOf()});n.each(this.pickers,function(n,i){i.setRange(t)})},dateUpdated:function(t){var f;if(!this.updating&&(this.updating=!0,f=n(t.target).data("datepicker"),"undefined"!=typeof f)){var i=f.getUTCDate(),e=n.inArray(t.target,this.inputs),r=e-1,u=e+1,o=this.inputs.length;if(-1!==e){if(n.each(this.pickers,function(n,t){t.getUTCDate()||t.setUTCDate(i)}),i<this.dates[r])for(;r>=0&&i<this.dates[r];)this.pickers[r--].setUTCDate(i);else if(i>this.dates[u])for(;o>u&&i>this.dates[u];)this.pickers[u++].setUTCDate(i);this.updateDates();delete this.updating}}},remove:function(){n.map(this.pickers,function(n){n.remove()});delete this.element.data().datepicker}};a=n.fn.datepicker;e=function(i){var u=Array.apply(null,arguments),r;if(u.shift(),this.each(function(){var h=n(this),t=h.data("datepicker"),c="object"==typeof i&&i;if(!t){var l=w(this,"date"),a=n.extend({},s,l,c),v=b(a.language),e=n.extend({},s,v,l,c);h.hasClass("input-daterange")||e.inputs?(n.extend(e,{inputs:e.inputs||h.find("input").toArray()}),t=new o(this,e)):t=new f(this,e);h.data("datepicker",t)}"string"==typeof i&&"function"==typeof t[i]&&(r=t[i].apply(t,u))}),r===t||r instanceof f||r instanceof o)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+i+" function)");return r};n.fn.datepicker=e;s=n.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:n.noop,beforeShowMonth:n.noop,beforeShowYear:n.noop,beforeShowDecade:n.noop,beforeShowCentury:n.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-(1/0),startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&laquo;",rightArrow:"&raquo;"}};v=n.fn.datepicker.locale_opts=["format","rtl","weekStart"];n.fn.datepicker.Constructor=f;r=n.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}};i={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10},{clsName:"decades",navFnc:"FullDecade",navStep:100},{clsName:"centuries",navFnc:"FullCentury",navStep:1e3}],isLeapYear:function(n){return n%4==0&&n%100!=0||n%400==0},getDaysInMonth:function(n,t){return[31,i.isLeapYear(n)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(n){if("function"==typeof n.toValue&&"function"==typeof n.toDisplay)return n;var t=n.replace(this.validParts,"\x00").split("\x00"),i=n.match(this.validParts);if(!t||!t.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:t,parts:i}},parseDate:function(e,o,s,c){function rt(n,t){return t===!0&&(t=10),100>n&&(n+=2e3,n>(new Date).getFullYear()+t&&(n-=100)),n}function ut(){var n=this.slice(0,a[l].length),t=a[l].slice(0,n.length);return n.toLowerCase()===t.toLowerCase()}var p,st,tt,b;if(!e)return t;if(e instanceof Date)return e;if("string"==typeof o&&(o=i.parseFormat(o)),o.toValue)return o.toValue(e,o,s);var v,k,l,d,ft=/([\-+]\d+)([dmwy])/,a=e.match(/([\-+]\d+)([dmwy])/g),et={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},ot={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(e)){for(e=new Date,l=0;l<a.length;l++)v=ft.exec(a[l]),k=parseInt(v[1]),d=et[v[2]],e=f.prototype[d](e,k);return u(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())}if("undefined"!=typeof ot[e]&&(e=ot[e],a=e.match(/([\-+]\d+)([dmwy])/g),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(e))){for(e=new Date,l=0;l<a.length;l++)v=ft.exec(a[l]),k=parseInt(v[1]),d=et[v[2]],e=f.prototype[d](e,k);return u(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())}a=e&&e.match(this.nonpunctuation)||[];e=new Date;var w,g,nt={},it=["yyyy","yy","M","MM","m","mm","d","dd"],y={yyyy:function(n,t){return n.setUTCFullYear(c?rt(t,c):t)},yy:function(n,t){return n.setUTCFullYear(c?rt(t,c):t)},m:function(n,t){if(isNaN(n))return n;for(t-=1;0>t;)t+=12;for(t%=12,n.setUTCMonth(t);n.getUTCMonth()!==t;)n.setUTCDate(n.getUTCDate()-1);return n},d:function(n,t){return n.setUTCDate(t)}};if(y.M=y.MM=y.mm=y.m,y.dd=y.d,e=h(),p=o.parts.slice(),a.length!==p.length&&(p=n(p).filter(function(t,i){return-1!==n.inArray(i,it)}).toArray()),a.length===p.length){for(l=0,st=p.length;st>l;l++){if(w=parseInt(a[l],10),v=p[l],isNaN(w))switch(v){case"MM":g=n(r[s].months).filter(ut);w=n.inArray(g[0],r[s].months)+1;break;case"M":g=n(r[s].monthsShort).filter(ut);w=n.inArray(g[0],r[s].monthsShort)+1}nt[v]=w}for(l=0;l<it.length;l++)b=it[l],b in nt&&!isNaN(nt[b])&&(tt=new Date(e),y[b](tt,nt[b]),isNaN(tt)||(e=tt))}return e},formatDate:function(t,u,f){var e;if(!t)return"";if("string"==typeof u&&(u=i.parseFormat(u)),u.toDisplay)return u.toDisplay(t,u,f);e={d:t.getUTCDate(),D:r[f].daysShort[t.getUTCDay()],DD:r[f].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:r[f].monthsShort[t.getUTCMonth()],MM:r[f].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};e.dd=(e.d<10?"0":"")+e.d;e.mm=(e.m<10?"0":"")+e.m;t=[];for(var s=n.extend([],u.separators),o=0,h=u.parts.length;h>=o;o++)s.length&&t.push(s.shift()),t.push(e[u.parts[o]]);return t.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"><\/th><\/tr><tr><th class="prev">&laquo;<\/th><th colspan="5" class="datepicker-switch"><\/th><th class="next">&raquo;<\/th><\/tr><\/thead>',contTemplate:'<tbody><tr><td colspan="7"><\/td><\/tr><\/tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"><\/th><\/tr><tr><th colspan="7" class="clear"><\/th><\/tr><\/tfoot>'};i.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+i.headTemplate+"<tbody><\/tbody>"+i.footTemplate+'<\/table><\/div><div class="datepicker-months"><table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+'<\/table><\/div><div class="datepicker-years"><table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+'<\/table><\/div><div class="datepicker-decades"><table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+'<\/table><\/div><div class="datepicker-centuries"><table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+"<\/table><\/div><\/div>";n.fn.datepicker.DPGlobal=i;n.fn.datepicker.noConflict=function(){return n.fn.datepicker=a,this};n.fn.datepicker.version="1.6.1";n(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var i=n(this);i.data("datepicker")||(t.preventDefault(),e.call(i,"show"))});n(function(){e.call(n('[data-provide="datepicker-inline"]'))})});runBetslipScript=function(){var n=!0;$("#potentialWager").on("focus",function(){n&&($("#potentialWager").val(""),$("#WagerAmount").val(""),n=!1)});$("#PotentialReturnAmount").val()===undefined||$("#PotentialReturnAmount").val().indexOf(" ")<0&&$("#PotentialReturnAmount").val()!=="?"&&$("#PotentialReturnAmount").val(parseFloat($("#PotentialReturnAmount").val()).toFixed(2));$("#potentialWager").focus(function(){$.isNumeric($("#potentialWager").val())&&$("#potentialWager").val()!==0||($("#potentialWager").val(""),$("#WagerAmount").val(""))});$("#potentialWager").blur(function(){UpdateWagerAmount();console.log("blur");$("#potentialWager").val()===""?($("#potentialWager").val(parseFloat($("#DefaultBetAmount").val()).toFixed(2)),$("#WagerAmount").val(parseFloat($("#DefaultBetAmount").val()).toFixed(2))):($("#WagerAmount").val(parseFloat($("#potentialWager").val()).toFixed(2)),$("#potentialWager").val(parseFloat($("#potentialWager").val()).toFixed(2)))});$("#potentialWager").mouseup(function(){$("#potentialWager").select()});$("#potentialWager").keyup(function(){setBetslipPotentialReturn()})};betslipItem={outcomeId:"",sportTitle:"",eventTitle:"",MarketTitle:"",outcomeTitle:"",priceDecimal:""};betslipBuilder={totalOdds:"",wagerAmount:"",potentialReturn:"",Outcomes:[]};$(document).ready(function(){applyLiveInPlayColourScheme()});$(document).ready(function(){$('[data-toggle="tooltip"]').tooltip();$("#depositModal").on("shown.bs.modal",function(){$("html").addClass("modal-open")});$("#depositModal").on("hidden.bs.modal",function(){$("html").removeClass("modal-open")})});promptFICANotification=!1;$(document).ready(function(n){var t=window.location.href,i=t;n(".nav-link-item a").each(function(){var t=this.href;i==t&&n(this).parent().addClass("active")})});$(document).ready(liveUpdate);$(document).ready(function(){$(window).width()<767&&$("#pro-img").attr("src","@item.MobileImageURL");applyLiveInPlayColourScheme()});pat={},function(){function n(n,t,i,r){var u="application/x-www-form-urlencoded",f=null;return typeof t=="undefined"&&(t=null),typeof i!="undefined"&&(typeof i.contentType!="undefined"&&(u=i.contentType),typeof i.dataType!="undefined"&&(f=i.dataType)),$.ajax({url:n,type:r,dataType:f,contentType:u,data:t,async:!0,cache:!1,complete:function(){},success:function(){},error:function(n,t,i){console.log("Error: ",i)}})}pat.get=function(t,i,r){return $.when(n(t,i,r,"GET"))};pat.post=function(t,i,r){return $.when(n(t,i,r,"POST"))}}();isMultiMixMarket=!1;ApplyServerColour(currentPageColour);$(document).ready(function(){createOverlay();$("#my-menu").mmenu({},{offCanvas:{pageSelector:"#my-page",menuNodetype:"div"}});document.getElementById("mm-blocker").addEventListener("touchstart",function(){$("#vbDiv").fadeIn(1500);anchorToTop()},!1);document.documentElement.addEventListener("touchstart",function(n){n.touches.length>1&&n.preventDefault()},!1);$("#partialLogin").keypress(function(n){n.keyCode===13&&$("#Login").click()});typeof expandCollapseMenu=="function"&&expandCollapseMenu();typeof closeOverlay=="function"&&closeOverlay();typeof bindLeagues=="function"&&bindLeagues();typeof backToBets=="function"&&backToBets();typeof runBetslipScript=="function"&&runBetslipScript();$(window).scroll(function(){$(this).scrollTop()>100?$("#scroll").fadeIn():$("#scroll").fadeOut()});$("#scroll").click(function(){return $("html, body").animate({scrollTop:0},600),!1});$(document).mouseup(function(n){var t=$("#menupagelinks");t.is(n.target)||t.has(n.target).length!==0||t.hide()});$(".homeCarousel").not(".slick-initialized").slick({lazyLoad:"progessive",infinite:!0,draggable:!0,speed:300,slidesToShow:1,slidesToScroll:1,autoplay:!0,cssEase:"ease",pauseOnHover:!0,swipe:!0,variableWidth:!1,dots:!0});$(window).bind("load",function(){var n=new Blazy({containerClass:"homeCarousel",offset:15e3})});$("#sporttype").fadeIn(200);window.setTimeout("gotoSport()",20);$("mobileFilter").show();!$("#triangle_matchbetting").hasClass("triangle-down")&&$(".triangle-down").length<1&&$(".mobileMiddleNavContainer").find("span[id^='triangle']").first().addClass("triangle-down");var n=document.querySelector("div.container");homeOverlay=document.getElementById("homeOverlay");homeOverlay!==null&&(closeBttn=homeOverlay.querySelector("button.overlay-close"),closeBttn.addEventListener("click",toggleOverlay));$("#bs-footer > .btn").on("click",function(){allowScroll()});$(".stake-input").attr("onclick","this.select();");$(".stake-input").attr("onchange","SendOutcomeUpdate(this.value, $(this).closest('.SelectedOutcomeForBetslip')[0].attributes['betslipoutcomeid'].nodeValue)");$("#potentialReturn").attr("onclick","this.select();");fittext(!0);window.addEventListener("resize",function(){fittext(!1)})});$(window).click(function(n){var t=window.location.pathname;applyLiveInPlayColourScheme();$("#betslip-mobile-modal").on("shown.bs.modal",function(){applyLiveInPlayColourScheme()});(t.toLowerCase()==="/event/inplay"||t.toLowerCase()==="/event/livesport"||t.toLowerCase()==="/bet/eventmultimarket"&&$("#multi-head").hasClass("inPlayBg"))&&($("#betslipBtn, #BetslipBtn, .betslip-trapezoid, #sb_id.active, #mb_id.active, #placeFreeBet, #headerColour, .betslip-trapezoid, #placeCashBet, #removeAllOutcomesBtn").addClass("liveInPlayClr"),n.target.id==="sb_id"&&($("#mb_id").removeClass("active"),$("#mb_id").removeClass("liveInPlayClr")),n.target.id==="mb_id"&&($("#sb_id").removeClass("active"),$("#sb_id").removeClass("liveInPlayClr")));$(".fixture-holder .eventRow").length>10?$("#events-btn-next").show():$("#events-btn-next").hide()});$("#footer").find(".sprite").each(function(){$(this).attr("class",$(this).attr("data-class"))}),function(n,t,i,r,u,f,e,o,s){n[u]||(s=n[u]=function(){(n[u].q=n[u].q||[]).push(arguments)},s.l=1*new Date,s.o=f,e=t.createElement(i),o=t.getElementsByTagName(i)[0],e.async=1,e.src=r,e.setAttribute("n",u),o.parentNode.insertBefore(e,o))}(window,document,"script","https://widgets.sir.sportradar.com/20fcb125e30291271383db8bce9a6247/widgetloader","SIR",{language:"en",theme:"custom"});getCookie("Stats")==="Yes-Please"?($(".mg-stats-toggle").removeClass("toggle-clicked"),$("#toggle-stats").removeClass("icon-clicked"),$(".lmt-container-old, .lmt-container-new").show()):($(".mg-stats-toggle").addClass("toggle-clicked"),$("#toggle-stats").addClass("icon-clicked"),$(".lmt-container-old, .lmt-container-new").hide());gax={};addedToBetSlip=[];gax.AddBetToBetslip=function(n,t){if(!$("#sb_id").hasClass("active"))for(var i=0;i<addedToBetSlip.length;i++)addedToBetSlip[i].dimension14===n.gameId&&addedToBetSlip[i].dimension16!==n.outcome&&addedToBetSlip.splice(i,1);addedToBetSlip.push({dimension9:n.id,dimension10:n.category,dimension11:n.sport,dimension12:n.league,dimension13:n.betType,dimension14:n.gameId,dimension15:n.detail,dimension16:n.outcome,dimension17:n.odds,dimension18:n.multiBet,dimension19:n.singleBet,dimension20:n.betAmount,dimension21:n.totalAmount,dimension22:n.freeBet});t&&typeof t!="underfined"&&t!==null||dataLayer.push({event:"addToBetslip",ecommerce:{currencyCode:currency,add:{actionField:{step:"1"},products:[{name:n.detail,id:n.gameId,category:n.category,betType:n.betType,quantity:1}]}}});closeOverlay()};gax.RemoveFromBetSlip=function(n){for(var i="",r="",u="",t=0;t<addedToBetSlip.length;t++)addedToBetSlip[t].dimension16===n.outcome&&(i=addedToBetSlip[t].dimension10,r=addedToBetSlip[t].dimension14,u=addedToBetSlip[t].dimension13,addedToBetSlip.splice(t,1));dataLayer.push({event:"removeFromBetslip",ecommerce:{currencyCode:currency,remove:{products:[{name:n.detail,id:r,category:i,betType:u,quantity:1}]}}});closeOverlay()};gax.RemoveAllFromBetslip=function(){var n=_.map(addedToBetSlip,function(n){return{name:n.dimension15,id:n.dimension14,price:n.dimension20,category:n.dimension10,betType:n.dimension13,quantity:1}});dataLayer.push({event:"removeAllFromBetslip",ecommerce:{remove:{products:n}}});addedToBetSlip=[];addedToBetSlip.length=0};gax.PlaceBet=function(){var n=_.map(addedToBetSlip,function(n){return{name:n.dimension15,id:n.dimension14,price:n.dimension20,category:n.dimension10,betType:n.dimension13,quantity:1}});dataLayer.push({event:"placeBet",ecommerce:{currencyCode:currency,checkout:{actionField:{step:2},products:n}}});console.log("dataLayer place bets",dataLayer)};gax.ConfirmBet=function(){var t=_.map(addedToBetSlip,function(n){return{name:n.dimension15,id:n.dimension14,price:n.dimension20,category:n.dimension10,betType:n.dimension13,quantity:1,freeBet:n.dimension22}}),i=_.first(addedToBetSlip).dimension9,n="",r=_.reduce(_.pluck(addedToBetSlip,"dimension20"),function(n,t){return n+t},0);n=$("#sb_id").hasClass("active")?_.reduce(_.pluck(addedToBetSlip,"dimension20"),function(n,t){return n+t},0):_.first(_.pluck(addedToBetSlip,"dimension20"));dataLayer.push({event:"confirmBet",ecommerce:{purchase:{actionField:{step:3,id:i,revenue:n,coupon:"Default Coupon"},products:t}}})};gax.UpdateBetAmount=function(n,t){var i=_.findWhere(addedToBetSlip,{dimension16:n});i.dimension20=t};gax.UpdateAllFreeBet=function(n){if(!$("#sb_id").hasClass("active"))for(var t=0;t<addedToBetSlip.length;t++)addedToBetSlip[t].dimension22=n};gax.UpdateSingleFreeBet=function(n,t){var i=_.findWhere(addedToBetSlip,{dimension16:n});i.dimension22=t};var noFileSelectedText="No file selected.",proofIdSize=!0,proofResidenceSize=!0,proofIdMobileSize=!0,fileTypeValid=!1,proofResidenceMobileSize=!0;window.XDomainRequest&&jQuery.ajaxTransport(function(n){if(n.crossDomain&&n.async){n.timeout&&(n.xdrTimeout=n.timeout,delete n.timeout);var t;return{send:function(i,r){function u(n,i,u,f){t.onload=t.onerror=t.ontimeout=jQuery.noop;t=undefined;r(n,i,u,f)}t=new XDomainRequest;t.onload=function(){u(200,"OK",{text:t.responseText},"Content-Type: "+t.contentType)};t.onerror=function(){u(404,"Not Found")};t.onprogress=jQuery.noop;t.ontimeout=function(){u(0,"timeout")};t.timeout=n.xdrTimeout||Number.MAX_VALUE;t.open(n.type,n.url);t.send(n.hasContent&&n.data||null)},abort:function(){t&&(t.onerror=jQuery.noop,t.abort())}}}});jQuery.support.cors=!0,function(){var n=this;if(n.$JSTools)return!1;String.prototype.reverse=function(){return this.split("").reverse().join("")};n.$JSTools={sortObjectsByProperty:function(n,t,i,r){var f,l,h,u;if(n.length<=1||!t)return n;for(var n=n.slice(0),s=t.isArray?t.slice(0):[t],t=s[0],e=[],o=[],c=!1,a="Number"==r?function(n,t){return n-t}:void 0,u=0;u<n.length;u++)e.push($JSTools.drillDownToProperty(n[u],t));for(e=e.sort(a),u=0;u<e.length;u++)for(c=!1,f=0;f<n.length;f++)c||"!%^&&^%!"==n[f]||$JSTools.drillDownToProperty(n[f],t)!=e[u]||(o[u]=n[f],n[f]="!%^&&^%!",c=!0);if(s[1]){for(l=$JSTools.groupSortedObjectsByProperty(o,t),h=[],s.shift(),u=0;u<l.length;u++)h=h.concat($JSTools.sortObjectsByProperty(l[u],s,i));o=h}return i?o.reverse():o},drillDownToProperty:function(n,t){aPath=t.split(".");for(var i=0;i<aPath.length;i++){if(i==aPath.length-1)return n[aPath[i]];n[aPath[i]]&&(n=n[aPath[i]])}},groupSortedObjectsByProperty:function(n,t){if(0==n.length||!t)return n;for(var r=[[n[0]]],u=0,i=0;i<n.length;i++)n[i+1]&&($JSTools.drillDownToProperty(n[i+1],t)!=$JSTools.drillDownToProperty(n[i],t)&&(u++,r[u]=[]),r[u].push(n[i+1]));return r},encodeEntities:function(n){return n=n||"",n.replace(/&/g,"&amp;").replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,function(n){var t=n.charCodeAt(0),i=n.charCodeAt(1);return"&#"+((t-55296)*1024+(i-56320)+65536)+";"}).replace(/([^\#-~| |!])/g,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}}}.call(this),function(n){function i(n){return t.raw?n:encodeURIComponent(n)}function u(n){return t.raw?n:decodeURIComponent(n)}function f(n){return i(t.json?JSON.stringify(n):String(n))}function e(n){n.indexOf('"')===0&&(n=n.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return n=decodeURIComponent(n.replace(o," ")),t.json?JSON.parse(n):n}catch(i){}}function r(i,r){var u=t.raw?i:e(i);return n.isFunction(r)?r(u):u}var o=/\+/g,t=n.cookie=function(e,o,s){var y,a,h,v,c,p;if(arguments.length>1&&!n.isFunction(o))return s=n.extend({},t.defaults,s),typeof s.expires=="number"&&(y=s.expires,a=s.expires=new Date,a.setTime(+a+y*864e5)),document.cookie=[i(e),"=",f(o),s.expires?"; expires="+s.expires.toUTCString():"",s.path?"; path="+s.path:"",s.domain?"; domain="+s.domain:"",s.secure?"; secure":""].join("");for(h=e?undefined:{},v=document.cookie?document.cookie.split("; "):[],c=0,p=v.length;c<p;c++){var w=v[c].split("="),b=u(w.shift()),l=w.join("=");if(e&&e===b){h=r(l,o);break}e||(l=r(l))===undefined||(h[b]=l)}return h};t.defaults={};n.removeCookie=function(t,i){return n.cookie(t)===undefined?!1:(n.cookie(t,"",n.extend({},i,{expires:-1})),!n.cookie(t))}}($);window.GenesysWebChat=GenesysWebChat;window.casinoChatIsActive=!1;window.allowChatSend=!1;var x=screen.width,y=screen.height,isMobileDevice=x<=425;!function(n){function e(t,i,r){if(r){if("object"!=typeof t&&(t={}),"boolean"!=typeof t.isMenu){var f=r.children();t.isMenu=1==f.length&&f.is(i.panelNodetype)}return t}return t=n.extend(!0,{},n[u].defaults,t),("top"==t.position||"bottom"==t.position)&&("back"==t.zposition||"next"==t.zposition)&&(n[u].deprecated('Using position "'+t.position+'" in combination with zposition "'+t.zposition+'"','zposition "front"'),t.zposition="front"),t}function s(t){return t=n.extend(!0,{},n[u].configuration,t),"string"!=typeof t.pageSelector&&(t.pageSelector="> "+t.pageNodetype),t}function h(){r.$wndw=n(window);r.$html=n("html");r.$body=n("body");r.$allMenus=n();n.each([t,f,i],function(n,t){t.add=function(n){n=n.split(" ");for(var i in n)t[n[i]]=t.mm(n[i])}});t.mm=function(n){return"mm-"+n};t.add("menu ismenu panel list subtitle selected label spacer current highest hidden page blocker modal background opened opening subopened subopen fullsubopen subclose");t.umm=function(n){return"mm-"==n.slice(0,3)&&(n=n.slice(3)),n};f.mm=function(n){return"mm-"+n};f.add("parent style");i.mm=function(n){return n+".mm"};i.add("toggle open opening opened close closing closed update setPage setSelected transitionend webkitTransitionEnd mousedown touchstart mouseup touchend scroll touchmove click keydown keyup resize");r.$wndw.on(i.keydown,function(n){if(r.$html.hasClass(t.opened)&&9==n.keyCode)return(n.preventDefault(),!1)});var e=0;r.$wndw.on(i.resize,function(n,i){if(i||r.$html.hasClass(t.opened)){var u=r.$wndw.height();u!=e&&(e=u,r.$page.css("min-height",u))}});n[u]._c=t;n[u]._d=f;n[u]._e=i;n[u].glbl=r}function c(i,r){if(i.hasClass(t.current))return!1;var f=n("."+t.panel,r),u=f.filter("."+t.current);return f.removeClass(t.highest).removeClass(t.current).not(i).not(u).addClass(t.hidden),i.hasClass(t.opened)?u.addClass(t.highest).removeClass(t.opened).removeClass(t.subopened):(i.addClass(t.highest),u.addClass(t.subopened)),i.removeClass(t.hidden).removeClass(t.subopened).addClass(t.current).addClass(t.opened),"open"}function o(n,t,r){var f=!1,u=function(){f||t.call(n[0]);f=!0};n.one(i.transitionend,u);n.one(i.webkitTransitionEnd,u);setTimeout(u,1.1*r)}var u="mmenu";if(!n[u]){var r={$wndw:null,$html:null,$body:null,$page:null,$blck:null,$allMenus:null},t={},f={},i={},l=0,a=0;n[u]=function(n,t,i){return r.$allMenus=r.$allMenus.add(n),this.$menu=n,this.opts=t,this.conf=i,this.serialnr=l++,this._init(),this};n[u].prototype={open:function(){var n=this;return this._openSetup(),setTimeout(function(){n._openFinish()},50),"open"},_openSetup:function(){a=r.$wndw.scrollTop();this.$menu.addClass(t.current);r.$allMenus.not(this.$menu).trigger(i.close);r.$page.data(f.style,r.$page.attr("style")||"");r.$wndw.trigger(i.resize,[!0]);this.opts.modal&&r.$html.addClass(t.modal);this.opts.moveBackground&&r.$html.addClass(t.background);"left"!=this.opts.position&&r.$html.addClass(t.mm(this.opts.position));"back"!=this.opts.zposition&&r.$html.addClass(t.mm(this.opts.zposition));this.opts.classes&&r.$html.addClass(this.opts.classes);r.$html.addClass(t.opened);this.$menu.addClass(t.opened)},_openFinish:function(){var n=this;o(r.$page,function(){n.$menu.trigger(i.opened)},this.conf.transitionDuration);r.$html.addClass(t.opening);this.$menu.trigger(i.opening)},close:function(){var n=this;return o(r.$page,function(){n.$menu.removeClass(t.current).removeClass(t.opened);r.$html.removeClass(t.opened).removeClass(t.modal).removeClass(t.background).removeClass(t.mm(n.opts.position)).removeClass(t.mm(n.opts.zposition));n.opts.classes&&r.$html.removeClass(n.opts.classes);r.$wndw.off(i.resize).off(i.keydown);r.$page.attr("style",r.$page.data(f.style));n.$menu.trigger(i.closed)},this.conf.transitionDuration),r.$html.removeClass(t.opening),this.$menu.trigger(i.closing),"close"},_init:function(){if(this.opts=e(this.opts,this.conf,this.$menu),this.direction=this.opts.slidingSubmenus?"horizontal":"vertical",this._initPage(r.$page),this._initMenu(),this._initBlocker(),this._initPanles(),this._initLinks(),this._initOpenClose(),this._bindCustomEvents(),n[u].addons)for(var t=0;t<n[u].addons.length;t++)"function"==typeof this["_addon_"+n[u].addons[t]]&&this["_addon_"+n[u].addons[t]]()},_bindCustomEvents:function(){var r=this,u;this.$menu.off(i.open+" "+i.close+" "+i.setPage+" "+i.update).on(i.open+" "+i.close+" "+i.setPage+" "+i.update,function(n){n.stopPropagation()});this.$menu.on(i.open,function(i){return n(this).hasClass(t.current)?(i.stopImmediatePropagation(),!1):r.open()}).on(i.close,function(i){return n(this).hasClass(t.current)?r.close():(i.stopImmediatePropagation(),!1)}).on(i.setPage,function(n,t){r._initPage(t);r._initOpenClose()});u=this.$menu.find(this.opts.isMenu&&"horizontal"!=this.direction?"ul, ol":"."+t.panel);u.off(i.toggle+" "+i.open+" "+i.close).on(i.toggle+" "+i.open+" "+i.close,function(n){n.stopPropagation()});"horizontal"==this.direction?u.on(i.open,function(){return c(n(this),r.$menu)}):u.on(i.toggle,function(){var r=n(this);return r.triggerHandler(r.parent().hasClass(t.opened)?i.close:i.open)}).on(i.open,function(){return n(this).parent().addClass(t.opened),"open"}).on(i.close,function(){return n(this).parent().removeClass(t.opened),"close"})},_initBlocker:function(){var u=this;r.$blck||(r.$blck=n('<div id="'+t.blocker+'" />').appendTo(r.$body));r.$blck.off(i.touchstart).on(i.touchstart,function(n){n.preventDefault();n.stopPropagation();r.$blck.trigger(i.mousedown)}).on(i.mousedown,function(n){n.preventDefault();r.$html.hasClass(t.modal)||u.$menu.trigger(i.close)})},_initPage:function(i){i||(i=n(this.conf.pageSelector,r.$body),i.length>1&&(n[u].debug("Multiple nodes found for the page-node, all nodes are wrapped in one <"+this.conf.pageNodetype+">."),i=i.wrapAll("<"+this.conf.pageNodetype+" />").parent()));i.addClass(t.page);r.$page=i},_initMenu:function(){this.conf.clone&&(this.$menu=this.$menu.clone(!0),this.$menu.add(this.$menu.find("*")).filter("[id]").each(function(){n(this).attr("id",t.mm(n(this).attr("id")))}));this.$menu.contents().each(function(){3==n(this)[0].nodeType&&n(this).remove()});this.$menu.prependTo("body").addClass(t.menu);this.$menu.addClass(t.mm(this.direction));this.opts.classes&&this.$menu.addClass(this.opts.classes);this.opts.isMenu&&this.$menu.addClass(t.ismenu);"left"!=this.opts.position&&this.$menu.addClass(t.mm(this.opts.position));"back"!=this.opts.zposition&&this.$menu.addClass(t.mm(this.opts.zposition))},_initPanles:function(){var o=this,u,r,h,s,e;this.__refactorClass(n("."+this.conf.listClass,this.$menu),"list");this.opts.isMenu&&n("ul, ol",this.$menu).not(".mm-nolist").addClass(t.list);u=n("."+t.list+" > li",this.$menu);this.__refactorClass(u.filter("."+this.conf.selectedClass),"selected");this.__refactorClass(u.filter("."+this.conf.labelClass),"label");this.__refactorClass(u.filter("."+this.conf.spacerClass),"spacer");u.off(i.setSelected).on(i.setSelected,function(i,r){i.stopPropagation();u.removeClass(t.selected);"boolean"!=typeof r&&(r=!0);r&&n(this).addClass(t.selected)});this.__refactorClass(n("."+this.conf.panelClass,this.$menu),"panel");this.$menu.children().filter(this.conf.panelNodetype).add(this.$menu.find("."+t.list).children().children().filter(this.conf.panelNodetype)).addClass(t.panel);r=n("."+t.panel,this.$menu);r.each(function(i){var r=n(this),u=r.attr("id")||t.mm("m"+o.serialnr+"-p"+i);r.attr("id",u)});r.find("."+t.panel).each(function(){var i=n(this),s=i.is("ul, ol")?i:i.find("ul ,ol").first(),r=i.parent(),u=r.find("> a, > span"),h=r.closest("."+t.panel),e;(i.data(f.parent,r),r.parent().is("."+t.list))&&(e=n('<a class="'+t.subopen+'" href="#'+i.attr("id")+'" />').insertBefore(u),u.is("a")||e.addClass(t.fullsubopen),"horizontal"==o.direction&&s.prepend('<li class="'+t.subtitle+'"><a class="'+t.subclose+'" href="#'+h.attr("id")+'">'+u.text()+"<\/a><\/li>"))});h="horizontal"==this.direction?i.open:i.toggle;(r.each(function(){var t=n(this),r=t.attr("id");n('a[href="#'+r+'"]',o.$menu).off(i.click).on(i.click,function(n){n.preventDefault();t.trigger(h)})}),"horizontal"==this.direction)?(s=n("."+t.list+" > li."+t.selected,this.$menu),s.add(s.parents("li")).parents("li").removeClass(t.selected).end().each(function(){var i=n(this),r=i.find("> ."+t.panel);r.length&&(i.parents("."+t.panel).addClass(t.subopened),r.addClass(t.opened))}).closest("."+t.panel).addClass(t.opened).parents("."+t.panel).addClass(t.subopened)):n("li."+t.selected,this.$menu).addClass(t.opened).parents("."+t.selected).removeClass(t.selected);e=r.filter("."+t.opened);e.length||(e=r.first());e.addClass(t.opened).last().addClass(t.current);"horizontal"==this.direction&&r.find("."+t.panel).appendTo(this.$menu)},_initLinks:function(){var u=this;n("."+t.list+" > li > a",this.$menu).not("."+t.subopen).not("."+t.subclose).not('[rel="external"]').not('[target="_blank"]').off(i.click).on(i.click,function(f){var e=n(this),s=e.attr("href"),o;u.__valueOrFn(u.opts.onClick.setSelected,e)&&e.parent().trigger(i.setSelected);o=u.__valueOrFn(u.opts.onClick.preventDefault,e,"#"==s.slice(0,1));o&&f.preventDefault();u.__valueOrFn(u.opts.onClick.blockUI,e,!o)&&r.$html.addClass(t.blocking);u.__valueOrFn(u.opts.onClick.close,e,o)&&u.$menu.triggerHandler(i.close)})},_initOpenClose:function(){var f=this,u=this.$menu.attr("id");u&&u.length&&(this.conf.clone&&(u=t.umm(u)),n('a[href="#'+u+'"]').off(i.click).on(i.click,function(n){n.preventDefault();f.$menu.trigger(i.open)}));u=r.$page.attr("id");u&&u.length&&n('a[href="#'+u+'"]').off(i.click).on(i.click,function(n){n.preventDefault();f.$menu.trigger(i.close)})},__valueOrFn:function(n,t,i){return"function"==typeof n?n.call(t[0]):"undefined"==typeof n&&"undefined"!=typeof i?i:n},__refactorClass:function(n,i){n.removeClass(this.conf[i+"Class"]).addClass(t[i])}};n.fn[u]=function(t,i){return r.$wndw||h(),t=e(t,i),i=s(i),this.each(function(){var r=n(this);r.data(u)||r.data(u,new n[u](r,t,i))})};n[u].version="4.2.0";n[u].defaults={position:"left",zposition:"back",moveBackground:!0,slidingSubmenus:!0,modal:!1,classes:"",onClick:{setSelected:!0}};n[u].configuration={preventTabbing:!0,panelClass:"Panel",listClass:"List",selectedClass:"Selected",labelClass:"Label",spacerClass:"Spacer",pageNodetype:"div",panelNodetype:"ul, ol, div",transitionDuration:400},function(){var i=window.document,t=window.navigator.userAgent,r=(document.createElement("div").style,"ontouchstart"in i),e="WebkitOverflowScrolling"in i.documentElement.style,f=function(){return t.indexOf("Android")>=0?2.4>parseFloat(t.slice(t.indexOf("Android")+8)):!1}();n[u].support={touch:r,oldAndroidBrowser:f,overflowscrolling:function(){return r?e?!0:f?!1:!0:!0}()}}();n[u].debug=function(){};n[u].deprecated=function(n,t){"undefined"!=typeof console&&"undefined"!=typeof console.warn&&console.warn("MMENU: "+n+" is deprecated, use "+t+" instead.")}}}(jQuery),function(n){n.fn.bsCheckbox=function(t){t=n.extend({},n.fn.bsCheckbox.defaultOptions,t);this.each(function(t,i){var r=jQuery(i),u=r.find("input");r.addClass("glyphicon").addClass(u[0].checked?"glyphicon-check":"glyphicon-unchecked");u[0].checked?(n(".bs-checkbox").find(".chk-free-bet").prop("disabled",!0),n(".bs-checkbox").css("color","gray"),n(".bs-checkbox").prev().css("color","gray"),n(".bs-checkbox").prop("disabled",!0),r.find(".chk-free-bet").prop("disabled",!1),r.css("color","inherit"),r.prev().css("color","inherit"),r.parentsUntil(n("li.SelectedOutcomeForBetslip")).find(".stake-input").prop("disabled",!0)):"";r.closest("label").length===0&&r.click(function(){if(r.find(".chk-free-bet").prop("disabled")!==!0){u[0].checked=!u[0].checked;r.removeClass("glyphicon-check").removeClass("glyphicon-unchecked");r.addClass(u[0].checked?"glyphicon-check":"glyphicon-unchecked");u.trigger("change");var t=getFreeBetValue(),i=r.parentsUntil(n("li.SelectedOutcomeForBetslip")).parent().attr("betSlipOutcomeId"),f={outcomeId:i,isFreebetChecked:u[0].checked,freeBetAmount:t};useGoogleAnalytics?gax.UpdateSingleFreeBet(i,u[0].checked.toString()):"";pat.post("/Bet/UpdateSingleFreeBetJSON",f).done(function(i){r.parentsUntil(n("li.SelectedOutcomeForBetslip")).find(".stake-input").val(i.OutcomeStake.toFixed(2));var f=parseFloat(r.parentsUntil(n("li.SelectedOutcomeForBetslip")).find(".betslipPriceDecimal").text().trim()),e=i.IsSingleFreeBet?f*i.OutcomeStake-t:f*i.OutcomeStake;r.parentsUntil(n("li.SelectedOutcomeForBetslip")).find(".stake-return-amount").text(e.toFixed(2));r.parentsUntil(n("li.SelectedOutcomeForBetslip")).find(".stake-input").prop("disabled",u[0].checked)})}});r.closest(".checkbox").length===0&&r.closest(".form-group").length>0?r.addClass("checkbox"):"";u.change(function(){u[0].checked?(n(".bs-checkbox").find(".chk-free-bet").prop("disabled",!0),n(".bs-checkbox").css("color","gray"),n(".bs-checkbox").prev().css("color","gray"),n(".bs-checkbox").prop("disabled",!0),r.find(".chk-free-bet").prop("disabled",!1),r.css("color","inherit"),r.prev().css("color","inherit"),r.parentsUntil(n("li.SelectedOutcomeForBetslip")).find(".stake-input").prop("disabled",!0)):(n(".bs-checkbox").prop("disabled",!1),n(".bs-checkbox").find(".chk-free-bet").prop("disabled",!1),n(".bs-checkbox").css("color","inherit"),n(".bs-checkbox").prev().css("color","inherit"),r.parentsUntil(n("li.SelectedOutcomeForBetslip")).find(".stake-input").prop("disabled",!1));r.removeClass("glyphicon-check").removeClass("glyphicon-unchecked");r.addClass(u[0].checked?"glyphicon-check":"glyphicon-unchecked")})})};n.fn.bsCheckbox.defaultOptions={}}(jQuery),function(){function nt(t){function r(n,i,r,u,f,e){for(;f>=0&&e>f;f+=t){var o=u?u[f]:f;r=i(r,n[o],o,n)}return r}return function(u,f,o,s){f=e(f,s,4);var h=!i(u)&&n.keys(u),l=(h||u).length,c=t>0?0:l-1;return arguments.length<3&&(o=u[h?h[c]:c],c+=t),r(u,f,o,h,c,l)}}function tt(n){return function(i,r,f){r=t(r,f);for(var o=u(i),e=n>0?0:o-1;e>=0&&o>e;e+=n)if(r(i[e],e,i))return e;return-1}}function it(t,i,f){return function(e,o,s){var c=0,h=u(e);if("number"==typeof s)t>0?c=s>=0?s:Math.max(s+h,c):h=s>=0?Math.min(s+1,h):s+h+1;else if(f&&s&&h)return s=f(e,o),e[s]===o?s:-1;if(o!==o)return s=i(r.call(e,c,h),n.isNaN),s>=0?s+c:-1;for(s=t>0?c:h-1;s>=0&&h>s;s+=t)if(e[s]===o)return s;return-1}}function rt(t,i){var u=d.length,f=t.constructor,e=n.isFunction(f)&&f.prototype||v,r="constructor";for(n.has(t,r)&&!n.contains(i,r)&&i.push(r);u--;)r=d[u],r in t&&t[r]!==e[r]&&!n.contains(i,r)&&i.push(r)}var a=this,lt=a._,s=Array.prototype,v=Object.prototype,at=Function.prototype,vt=s.push,r=s.slice,o=v.toString,yt=v.hasOwnProperty,pt=Array.isArray,ut=Object.keys,y=at.bind,ft=Object.create,p=function(){},n=function(t){return t instanceof n?t:this instanceof n?void(this._wrapped=t):new n(t)},e,t,h,f,b,k,d,c,ct,l;"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=n),exports._=n):a._=n;n.VERSION="1.8.3";e=function(n,t,i){if(t===void 0)return n;switch(null==i?3:i){case 1:return function(i){return n.call(t,i)};case 2:return function(i,r){return n.call(t,i,r)};case 3:return function(i,r,u){return n.call(t,i,r,u)};case 4:return function(i,r,u,f){return n.call(t,i,r,u,f)}}return function(){return n.apply(t,arguments)}};t=function(t,i,r){return null==t?n.identity:n.isFunction(t)?e(t,i,r):n.isObject(t)?n.matcher(t):n.property(t)};n.iteratee=function(n,i){return t(n,i,1/0)};var w=function(n,t){return function(i){var e=arguments.length,r,u;if(2>e||null==i)return i;for(r=1;e>r;r++)for(var o=arguments[r],s=n(o),h=s.length,f=0;h>f;f++)u=s[f],t&&i[u]!==void 0||(i[u]=o[u]);return i}},et=function(t){if(!n.isObject(t))return{};if(ft)return ft(t);p.prototype=t;var i=new p;return p.prototype=null,i},ot=function(n){return function(t){if(null!=t)return t[n]}},wt=Math.pow(2,53)-1,u=ot("length"),i=function(n){var t=u(n);return"number"==typeof t&&t>=0&&wt>=t};n.each=n.forEach=function(t,r,u){var f,o,s;if(r=e(r,u),i(t))for(f=0,o=t.length;o>f;f++)r(t[f],f,t);else for(s=n.keys(t),f=0,o=s.length;o>f;f++)r(t[s[f]],s[f],t);return t};n.map=n.collect=function(r,u,f){var s;u=t(u,f);for(var o=!i(r)&&n.keys(r),h=(o||r).length,c=Array(h),e=0;h>e;e++)s=o?o[e]:e,c[e]=u(r[s],s,r);return c};n.reduce=n.foldl=n.inject=nt(1);n.reduceRight=n.foldr=nt(-1);n.find=n.detect=function(t,r,u){var f;return f=i(t)?n.findIndex(t,r,u):n.findKey(t,r,u),f!==void 0&&f!==-1?t[f]:void 0};n.filter=n.select=function(i,r,u){var f=[];return r=t(r,u),n.each(i,function(n,t,i){r(n,t,i)&&f.push(n)}),f};n.reject=function(i,r,u){return n.filter(i,n.negate(t(r)),u)};n.every=n.all=function(r,u,f){var s;u=t(u,f);for(var o=!i(r)&&n.keys(r),h=(o||r).length,e=0;h>e;e++)if(s=o?o[e]:e,!u(r[s],s,r))return!1;return!0};n.some=n.any=function(r,u,f){var s;u=t(u,f);for(var o=!i(r)&&n.keys(r),h=(o||r).length,e=0;h>e;e++)if(s=o?o[e]:e,u(r[s],s,r))return!0;return!1};n.contains=n.includes=n.include=function(t,r,u,f){return i(t)||(t=n.values(t)),("number"!=typeof u||f)&&(u=0),n.indexOf(t,r,u)>=0};n.invoke=function(t,i){var u=r.call(arguments,2),f=n.isFunction(i);return n.map(t,function(n){var t=f?i:n[i];return null==t?t:t.apply(n,u)})};n.pluck=function(t,i){return n.map(t,n.property(i))};n.where=function(t,i){return n.filter(t,n.matcher(i))};n.findWhere=function(t,i){return n.find(t,n.matcher(i))};n.max=function(r,u,f){var h,o,e=-1/0,c=-1/0,s,l;if(null==u&&null!=r)for(r=i(r)?r:n.values(r),s=0,l=r.length;l>s;s++)h=r[s],h>e&&(e=h);else u=t(u,f),n.each(r,function(n,t,i){o=u(n,t,i);(o>c||o===-1/0&&e===-1/0)&&(e=n,c=o)});return e};n.min=function(r,u,f){var h,o,e=1/0,c=1/0,s,l;if(null==u&&null!=r)for(r=i(r)?r:n.values(r),s=0,l=r.length;l>s;s++)h=r[s],e>h&&(e=h);else u=t(u,f),n.each(r,function(n,t,i){o=u(n,t,i);(c>o||1/0===o&&1/0===e)&&(e=n,c=o)});return e};n.shuffle=function(t){for(var u,e=i(t)?t:n.values(t),o=e.length,f=Array(o),r=0;o>r;r++)u=n.random(0,r),u!==r&&(f[r]=f[u]),f[u]=e[r];return f};n.sample=function(t,r,u){return null==r||u?(i(t)||(t=n.values(t)),t[n.random(t.length-1)]):n.shuffle(t).slice(0,Math.max(0,r))};n.sortBy=function(i,r,u){return r=t(r,u),n.pluck(n.map(i,function(n,t,i){return{value:n,index:t,criteria:r(n,t,i)}}).sort(function(n,t){var i=n.criteria,r=t.criteria;if(i!==r){if(i>r||i===void 0)return 1;if(r>i||r===void 0)return-1}return n.index-t.index}),"value")};h=function(i){return function(r,u,f){var e={};return u=t(u,f),n.each(r,function(n,t){var f=u(n,t,r);i(e,n,f)}),e}};n.groupBy=h(function(t,i,r){n.has(t,r)?t[r].push(i):t[r]=[i]});n.indexBy=h(function(n,t,i){n[i]=t});n.countBy=h(function(t,i,r){n.has(t,r)?t[r]++:t[r]=1});n.toArray=function(t){return t?n.isArray(t)?r.call(t):i(t)?n.map(t,n.identity):n.values(t):[]};n.size=function(t){return null==t?0:i(t)?t.length:n.keys(t).length};n.partition=function(i,r,u){r=t(r,u);var f=[],e=[];return n.each(i,function(n,t,i){(r(n,t,i)?f:e).push(n)}),[f,e]};n.first=n.head=n.take=function(t,i,r){if(null!=t)return null==i||r?t[0]:n.initial(t,t.length-i)};n.initial=function(n,t,i){return r.call(n,0,Math.max(0,n.length-(null==t||i?1:t)))};n.last=function(t,i,r){if(null!=t)return null==i||r?t[t.length-1]:n.rest(t,Math.max(0,t.length-i))};n.rest=n.tail=n.drop=function(n,t,i){return r.call(n,null==t||i?1:t)};n.compact=function(t){return n.filter(t,n.identity)};f=function(t,r,e,o){for(var s,l,a,h=[],v=0,c=o||0,y=u(t);y>c;c++)if(s=t[c],i(s)&&(n.isArray(s)||n.isArguments(s)))for(r||(s=f(s,r,e)),l=0,a=s.length,h.length+=a;a>l;)h[v++]=s[l++];else e||(h[v++]=s);return h};n.flatten=function(n,t){return f(n,t,!1)};n.without=function(t){return n.difference(t,r.call(arguments,1))};n.uniq=n.unique=function(i,r,f,e){var o,c;n.isBoolean(r)||(e=f,f=r,r=!1);null!=f&&(f=t(f,e));for(var s=[],l=[],h=0,a=u(i);a>h;h++)o=i[h],c=f?f(o,h,i):o,r?(h&&l===c||s.push(o),l=c):f?n.contains(l,c)||(l.push(c),s.push(o)):n.contains(s,o)||s.push(o);return s};n.union=function(){return n.uniq(f(arguments,!0,!0))};n.intersection=function(t){for(var r,i,f=[],o=arguments.length,e=0,s=u(t);s>e;e++)if(r=t[e],!n.contains(f,r)){for(i=1;o>i&&n.contains(arguments[i],r);i++);i===o&&f.push(r)}return f};n.difference=function(t){var i=f(arguments,!0,!0,1);return n.filter(t,function(t){return!n.contains(i,t)})};n.zip=function(){return n.unzip(arguments)};n.unzip=function(t){for(var r=t&&n.max(t,u).length||0,f=Array(r),i=0;r>i;i++)f[i]=n.pluck(t,i);return f};n.object=function(n,t){for(var r={},i=0,f=u(n);f>i;i++)t?r[n[i]]=t[i]:r[n[i][0]]=n[i][1];return r};n.findIndex=tt(1);n.findLastIndex=tt(-1);n.sortedIndex=function(n,i,r,f){var o;r=t(r,f,1);for(var h=r(i),e=0,s=u(n);s>e;)o=Math.floor((e+s)/2),r(n[o])<h?e=o+1:s=o;return e};n.indexOf=it(1,n.findIndex,n.sortedIndex);n.lastIndexOf=it(-1,n.findLastIndex);n.range=function(n,t,i){null==t&&(t=n||0,n=0);i=i||1;for(var u=Math.max(Math.ceil((t-n)/i),0),f=Array(u),r=0;u>r;r++,n+=i)f[r]=n;return f};b=function(t,i,r,u,f){if(!(u instanceof i))return t.apply(r,f);var e=et(t.prototype),o=t.apply(e,f);return n.isObject(o)?o:e};n.bind=function(t,i){if(y&&t.bind===y)return y.apply(t,r.call(arguments,1));if(!n.isFunction(t))throw new TypeError("Bind must be called on a function");var f=r.call(arguments,2),u=function(){return b(t,u,i,this,f.concat(r.call(arguments)))};return u};n.partial=function(t){var i=r.call(arguments,1),u=function(){for(var f=0,o=i.length,e=Array(o),r=0;o>r;r++)e[r]=i[r]===n?arguments[f++]:i[r];for(;f<arguments.length;)e.push(arguments[f++]);return b(t,u,this,this,e)};return u};n.bindAll=function(t){var i,r,u=arguments.length;if(1>=u)throw new Error("bindAll must be passed function names");for(i=1;u>i;i++)r=arguments[i],t[r]=n.bind(t[r],t);return t};n.memoize=function(t,i){var r=function(u){var f=r.cache,e=""+(i?i.apply(this,arguments):u);return n.has(f,e)||(f[e]=t.apply(this,arguments)),f[e]};return r.cache={},r};n.delay=function(n,t){var i=r.call(arguments,2);return setTimeout(function(){return n.apply(null,i)},t)};n.defer=n.partial(n.delay,n,1);n.throttle=function(t,i,r){var f,e,s,u=null,o=0,h;return r||(r={}),h=function(){o=r.leading===!1?0:n.now();u=null;s=t.apply(f,e);u||(f=e=null)},function(){var l=n.now(),c;return o||r.leading!==!1||(o=l),c=i-(l-o),f=this,e=arguments,0>=c||c>i?(u&&(clearTimeout(u),u=null),o=l,s=t.apply(f,e),u||(f=e=null)):u||r.trailing===!1||(u=setTimeout(h,c)),s}};n.debounce=function(t,i,r){var u,f,e,s,o,h=function(){var c=n.now()-s;i>c&&c>=0?u=setTimeout(h,i-c):(u=null,r||(o=t.apply(e,f),u||(e=f=null)))};return function(){e=this;f=arguments;s=n.now();var c=r&&!u;return u||(u=setTimeout(h,i)),c&&(o=t.apply(e,f),e=f=null),o}};n.wrap=function(t,i){return n.partial(i,t)};n.negate=function(n){return function(){return!n.apply(this,arguments)}};n.compose=function(){var n=arguments,t=n.length-1;return function(){for(var r=t,i=n[t].apply(this,arguments);r--;)i=n[r].call(this,i);return i}};n.after=function(n,t){return function(){if(--n<1)return t.apply(this,arguments)}};n.before=function(n,t){var i;return function(){return--n>0&&(i=t.apply(this,arguments)),1>=n&&(t=null),i}};n.once=n.partial(n.before,2);k=!{toString:null}.propertyIsEnumerable("toString");d=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];n.keys=function(t){var i,r;if(!n.isObject(t))return[];if(ut)return ut(t);i=[];for(r in t)n.has(t,r)&&i.push(r);return k&&rt(t,i),i};n.allKeys=function(t){var i,r;if(!n.isObject(t))return[];i=[];for(r in t)i.push(r);return k&&rt(t,i),i};n.values=function(t){for(var r=n.keys(t),u=r.length,f=Array(u),i=0;u>i;i++)f[i]=t[r[i]];return f};n.mapObject=function(i,r,u){r=t(r,u);for(var f,o=n.keys(i),h=o.length,s={},e=0;h>e;e++)f=o[e],s[f]=r(i[f],f,i);return s};n.pairs=function(t){for(var r=n.keys(t),u=r.length,f=Array(u),i=0;u>i;i++)f[i]=[r[i],t[r[i]]];return f};n.invert=function(t){for(var u={},r=n.keys(t),i=0,f=r.length;f>i;i++)u[t[r[i]]]=r[i];return u};n.functions=n.methods=function(t){var i=[];for(var r in t)n.isFunction(t[r])&&i.push(r);return i.sort()};n.extend=w(n.allKeys);n.extendOwn=n.assign=w(n.keys);n.findKey=function(i,r,u){r=t(r,u);for(var f,o=n.keys(i),e=0,s=o.length;s>e;e++)if(f=o[e],r(i[f],f,i))return f};n.pick=function(t,i,r){var c,o,l={},u=t,s,v,h,a;if(null==u)return l;for(n.isFunction(i)?(o=n.allKeys(u),c=e(i,r)):(o=f(arguments,!1,!1,1),c=function(n,t,i){return t in i},u=Object(u)),s=0,v=o.length;v>s;s++)h=o[s],a=u[h],c(a,h,u)&&(l[h]=a);return l};n.omit=function(t,i,r){if(n.isFunction(i))i=n.negate(i);else{var u=n.map(f(arguments,!1,!1,1),String);i=function(t,i){return!n.contains(u,i)}}return n.pick(t,i,r)};n.defaults=w(n.allKeys,!0);n.create=function(t,i){var r=et(t);return i&&n.extendOwn(r,i),r};n.clone=function(t){return n.isObject(t)?n.isArray(t)?t.slice():n.extend({},t):t};n.tap=function(n,t){return t(n),n};n.isMatch=function(t,i){var e=n.keys(i),o=e.length,f,r,u;if(null==t)return!o;for(f=Object(t),r=0;o>r;r++)if(u=e[r],i[u]!==f[u]||!(u in f))return!1;return!0};c=function(t,i,r,u){var h,a,e,s,f,l,v;if(t===i)return 0!==t||1/t==1/i;if(null==t||null==i)return t===i;if(t instanceof n&&(t=t._wrapped),i instanceof n&&(i=i._wrapped),h=o.call(t),h!==o.call(i))return!1;switch(h){case"[object RegExp]":case"[object String]":return""+t==""+i;case"[object Number]":return+t!=+t?+i!=+i:0==+t?1/+t==1/i:+t==+i;case"[object Date]":case"[object Boolean]":return+t==+i}if(a="[object Array]"===h,!a&&("object"!=typeof t||"object"!=typeof i||(e=t.constructor,s=i.constructor,e!==s&&!(n.isFunction(e)&&e instanceof e&&n.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in i)))return!1;for(r=r||[],u=u||[],f=r.length;f--;)if(r[f]===t)return u[f]===i;if(r.push(t),u.push(i),a){if(f=t.length,f!==i.length)return!1;for(;f--;)if(!c(t[f],i[f],r,u))return!1}else{if(v=n.keys(t),f=v.length,n.keys(i).length!==f)return!1;for(;f--;)if(l=v[f],!n.has(i,l)||!c(t[l],i[l],r,u))return!1}return r.pop(),u.pop(),!0};n.isEqual=function(n,t){return c(n,t)};n.isEmpty=function(t){return null==t?!0:i(t)&&(n.isArray(t)||n.isString(t)||n.isArguments(t))?0===t.length:0===n.keys(t).length};n.isElement=function(n){return!(!n||1!==n.nodeType)};n.isArray=pt||function(n){return"[object Array]"===o.call(n)};n.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n};n.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){n["is"+t]=function(n){return o.call(n)==="[object "+t+"]"}});n.isArguments(arguments)||(n.isArguments=function(t){return n.has(t,"callee")});"function"!=typeof/./&&"object"!=typeof Int8Array&&(n.isFunction=function(n){return"function"==typeof n||!1});n.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))};n.isNaN=function(t){return n.isNumber(t)&&t!==+t};n.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"===o.call(n)};n.isNull=function(n){return null===n};n.isUndefined=function(n){return n===void 0};n.has=function(n,t){return null!=n&&yt.call(n,t)};n.noConflict=function(){return a._=lt,this};n.identity=function(n){return n};n.constant=function(n){return function(){return n}};n.noop=function(){};n.property=ot;n.propertyOf=function(n){return null==n?function(){}:function(t){return n[t]}};n.matcher=n.matches=function(t){return t=n.extendOwn({},t),function(i){return n.isMatch(i,t)}};n.times=function(n,t,i){var u=Array(Math.max(0,n)),r;for(t=e(t,i,1),r=0;n>r;r++)u[r]=t(r);return u};n.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))};n.now=Date.now||function(){return(new Date).getTime()};var st={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},bt=n.invert(st),ht=function(t){var r=function(n){return t[n]},i="(?:"+n.keys(t).join("|")+")",u=RegExp(i),f=RegExp(i,"g");return function(n){return n=null==n?"":""+n,u.test(n)?n.replace(f,r):n}};n.escape=ht(st);n.unescape=ht(bt);n.result=function(t,i,r){var u=null==t?void 0:t[i];return u===void 0&&(u=r),n.isFunction(u)?u.call(t):u};ct=0;n.uniqueId=function(n){var t=++ct+"";return n?n+t:t};n.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var g=/(.)^/,kt={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},dt=/\\|'|\r|\n|\u2028|\u2029/g,gt=function(n){return"\\"+kt[n]};n.template=function(t,i,r){var o,f,h;!i&&r&&(i=r);i=n.defaults({},i,n.templateSettings);var c=RegExp([(i.escape||g).source,(i.interpolate||g).source,(i.evaluate||g).source].join("|")+"|$","g"),e=0,u="__p+='";t.replace(c,function(n,i,r,f,o){return u+=t.slice(e,o).replace(dt,gt),e=o+n.length,i?u+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":r?u+="'+\n((__t=("+r+"))==null?'':__t)+\n'":f&&(u+="';\n"+f+"\n__p+='"),n});u+="';\n";i.variable||(u="with(obj||{}){\n"+u+"}\n");u="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+u+"return __p;\n";try{o=new Function(i.variable||"obj","_",u)}catch(s){throw s.source=u,s;}return f=function(t){return o.call(this,t,n)},h=i.variable||"obj",f.source="function("+h+"){\n"+u+"}",f};n.chain=function(t){var i=n(t);return i._chain=!0,i};l=function(t,i){return t._chain?n(i).chain():i};n.mixin=function(t){n.each(n.functions(t),function(i){var r=n[i]=t[i];n.prototype[i]=function(){var t=[this._wrapped];return vt.apply(t,arguments),l(this,r.apply(n,t))}})};n.mixin(n);n.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var i=s[t];n.prototype[t]=function(){var n=this._wrapped;return i.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],l(this,n)}});n.each(["concat","join","slice"],function(t){var i=s[t];n.prototype[t]=function(){return l(this,i.apply(this._wrapped,arguments))}});n.prototype.value=function(){return this._wrapped};n.prototype.valueOf=n.prototype.toJSON=n.prototype.value;n.prototype.toString=function(){return""+this._wrapped};"function"==typeof define&&define.amd&&define("underscore",[],function(){return n})}.call(this)